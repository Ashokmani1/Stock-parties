(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{2011:(dt,De,N)=>{"use strict";N.d(De,{hO:()=>Ve,xv:()=>de,Dh:()=>ae,GT:()=>ge,cc:()=>Se,on:()=>G,pX:()=>oe});var o=N(5e3),ee=N(127),L=N(5813);dt=N.hmd(dt);const ue=["ngOnDestroy"],oe=(K,ce,Ee,ve={})=>new Proxy(K,{get:(Ge,Ie)=>Ee.runOutsideAngular(()=>{var qe;if(K[Ie])return(null===(qe=null==ve?void 0:ve.spy)||void 0===qe?void 0:qe.get)&&ve.spy.get(Ie,K[Ie]),K[Ie];if(ue.indexOf(Ie)>-1)return()=>{};const Qe=ce.toPromise().then(_t=>{const ie=_t&&_t[Ie];return"function"==typeof ie?ie.bind(_t):ie&&ie.then?ie.then(he=>Ee.run(()=>he)):Ee.run(()=>ie)});return new Proxy(()=>{},{get:(_t,ie)=>Qe[ie],apply:(_t,ie,he)=>Qe.then(ye=>{var we;const Fe=ye&&ye(...he);return(null===(we=null==ve?void 0:ve.spy)||void 0===we?void 0:we.apply)&&ve.spy.apply(Ie,he,Fe),Fe})})})}),ge=(K,ce)=>{ce.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(ve=>{Object.defineProperty(K.prototype,ve,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,ve))})})};class Q{constructor(ce){return ce}}const ae=new o.OlP("angularfire2.app.options"),de=new o.OlP("angularfire2.app.name");function G(K,ce,Ee){const Ge="object"==typeof Ee&&Ee||{};Ge.name=Ge.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const qe=ee.Z.apps.filter(Qe=>Qe&&Qe.name===Ge.name)[0]||ce.runOutsideAngular(()=>ee.Z.initializeApp(K,Ge));try{JSON.stringify(K)!==JSON.stringify(qe.options)&&z("error",`${qe.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Qe){}return new Q(qe)}const z=(K,...ce)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[K](...ce)},te={provide:Q,useFactory:G,deps:[ae,o.R0b,[new o.FiY,de]]};let Ve=(()=>{class K{constructor(Ee){ee.Z.registerVersion("angularfire",L.q4.full,"core"),ee.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ee.Z.registerVersion("angular",o.q4F.full,Ee.toString())}static initializeApp(Ee,ve){return{ngModule:K,providers:[{provide:ae,useValue:Ee},{provide:de,useValue:ve}]}}}return K.\u0275fac=function(Ee){return new(Ee||K)(o.LFG(o.Lbi))},K.\u0275mod=o.oAB({type:K}),K.\u0275inj=o.cJS({providers:[te]}),K})();function Se(K,ce,Ee,ve,Ge){const[,Ie,qe]=globalThis.\u0275AngularfireInstanceCache.find(Qe=>Qe[0]===K)||[];if(Ie)return function(K,ce){try{return K.toString()===ce.toString()}catch(Ee){return K===ce}}(Ge,qe)||(le("error",`${ce} was already initialized on the ${Ee} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:Ge,was:qe})),Ie;{const Qe=ve();return globalThis.\u0275AngularfireInstanceCache.push([K,Qe,Ge]),Qe}}const Be=!!dt.hot,le=(K,...ce)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[K](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(dt,De,N)=>{"use strict";N.d(De,{q4:()=>hh,iC:()=>$s,HU:()=>Yu,vb:()=>up,JM:()=>fh});var o=N(5e3),ee=N(5867),L=N(5861),ue=N(9681),oe=N(2090),ge=N(4859),Q=N(1877),ae=N(2940);const de="@firebase/installations",G="0.5.4",te=`w:${G}`,Ve="FIS_v2",ce=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(x){return x instanceof oe.ZR&&x.code.includes("request-failed")}function ve({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Ge(x){return{token:x.token,requestStatus:2,expiresIn:ye(x.expiresIn),creationTime:Date.now()}}function Ie(x,M){return qe.apply(this,arguments)}function qe(){return(qe=(0,L.Z)(function*(x,M){const V=(yield M.json()).error;return ce.create("request-failed",{requestName:x,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Qe({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function _t(x,{refreshToken:M}){const O=Qe(x);return O.append("Authorization",function(x){return`${Ve} ${x}`}(M)),O}function ie(x){return he.apply(this,arguments)}function he(){return(he=(0,L.Z)(function*(x){const M=yield x();return M.status>=500&&M.status<600?x():M})).apply(this,arguments)}function ye(x){return Number(x.replace("s","000"))}function Fe(x,M){return fe.apply(this,arguments)}function fe(){return(fe=(0,L.Z)(function*(x,{fid:M}){const O=ve(x),W={method:"POST",headers:Qe(x),body:JSON.stringify({fid:M,authVersion:Ve,appId:x.appId,sdkVersion:te})},Me=yield ie(()=>fetch(O,W));if(Me.ok){const it=yield Me.json();return{fid:it.fid||M,registrationStatus:2,refreshToken:it.refreshToken,authToken:Ge(it.authToken)}}throw yield Ie("Create Installation",Me)})).apply(this,arguments)}function Ft(x){return new Promise(M=>{setTimeout(M,x)})}const oi=/^[cdef][\w-]{21}$/;function Et(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const O=function(x){return function(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return oi.test(O)?O:""}catch(x){return""}}function Cn(x){return`${x.appName}!${x.appId}`}const zi=new Map;function Qi(x,M){const O=Cn(x);Yn(O,M),function(x,M){const O=(!Wt&&"BroadcastChannel"in self&&(Wt=new BroadcastChannel("[Firebase] FID Change"),Wt.onmessage=x=>{Yn(x.data.key,x.data.fid)}),Wt);O&&O.postMessage({key:x,fid:M}),0===zi.size&&Wt&&(Wt.close(),Wt=null)}(O,M)}function Yn(x,M){const O=zi.get(x);if(O)for(const V of O)V(M)}let Wt=null;const Te="firebase-installations-store";let yi=null;function ai(){return yi||(yi=(0,ae.openDb)("firebase-installations-database",1,x=>{0===x.oldVersion&&x.createObjectStore(Te)})),yi}function bt(x,M){return en.apply(this,arguments)}function en(){return(en=(0,L.Z)(function*(x,M){const O=Cn(x),Z=(yield ai()).transaction(Te,"readwrite"),W=Z.objectStore(Te),Me=yield W.get(O);return yield W.put(M,O),yield Z.complete,(!Me||Me.fid!==M.fid)&&Qi(x,M.fid),M})).apply(this,arguments)}function Wr(x){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,L.Z)(function*(x){const M=Cn(x),V=(yield ai()).transaction(Te,"readwrite");yield V.objectStore(Te).delete(M),yield V.complete})).apply(this,arguments)}function pt(x,M){return wt.apply(this,arguments)}function wt(){return(wt=(0,L.Z)(function*(x,M){const O=Cn(x),Z=(yield ai()).transaction(Te,"readwrite"),W=Z.objectStore(Te),Me=yield W.get(O),it=M(Me);return void 0===it?yield W.delete(O):yield W.put(it,O),yield Z.complete,it&&(!Me||Me.fid!==it.fid)&&Qi(x,it.fid),it})).apply(this,arguments)}function Vt(x){return jt.apply(this,arguments)}function jt(){return(jt=(0,L.Z)(function*(x){let M;const O=yield pt(x,V=>{const Z=Ji(V),W=rn(x,Z);return M=W.registrationPromise,W.installationEntry});return""===O.fid?{installationEntry:yield M}:{installationEntry:O,registrationPromise:M}})).apply(this,arguments)}function Ji(x){return xt(x||{fid:Et(),registrationStatus:0})}function rn(x,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(ce.create("app-offline"))};const O={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},V=function(x,M){return mt.apply(this,arguments)}(x,O);return{installationEntry:O,registrationPromise:V}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:Su(x)}:{installationEntry:M}}function mt(){return(mt=(0,L.Z)(function*(x,M){try{return bt(x,yield Fe(x,M))}catch(O){throw Ee(O)&&409===O.customData.serverCode?yield Wr(x):yield bt(x,{fid:M.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Su(x){return ho.apply(this,arguments)}function ho(){return(ho=(0,L.Z)(function*(x){let M=yield an(x);for(;1===M.registrationStatus;)yield Ft(100),M=yield an(x);if(0===M.registrationStatus){const{installationEntry:O,registrationPromise:V}=yield Vt(x);return V||O}return M})).apply(this,arguments)}function an(x){return pt(x,M=>{if(!M)throw ce.create("installation-not-found");return xt(M)})}function xt(x){return function(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function xu(x,M){return q.apply(this,arguments)}function q(){return(q=(0,L.Z)(function*({appConfig:x,platformLoggerProvider:M},O){const V=j(x,O),Z=_t(x,O),W=M.getImmediate({optional:!0});W&&Z.append("x-firebase-client",W.getPlatformInfoString());const it={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:te}})},$e=yield ie(()=>fetch(V,it));if($e.ok)return Ge(yield $e.json());throw yield Ie("Generate Auth Token",$e)})).apply(this,arguments)}function j(x,{fid:M}){return`${ve(x)}/${M}/authTokens:generate`}function Y(x){return be.apply(this,arguments)}function be(){return(be=(0,L.Z)(function*(x,M=!1){let O;const V=yield pt(x.appConfig,W=>{if(!Gn(W))throw ce.create("not-registered");const Me=W.authToken;if(!M&&pr(Me))return W;if(1===Me.requestStatus)return O=re(x,M),W;{if(!navigator.onLine)throw ce.create("app-offline");const it=Ai(W);return O=ln(x,it),it}});return O?yield O:V.authToken})).apply(this,arguments)}function re(x,M){return et.apply(this,arguments)}function et(){return(et=(0,L.Z)(function*(x,M){let O=yield vt(x.appConfig);for(;1===O.authToken.requestStatus;)yield Ft(100),O=yield vt(x.appConfig);const V=O.authToken;return 0===V.requestStatus?Y(x,M):V})).apply(this,arguments)}function vt(x){return pt(x,M=>{if(!Gn(M))throw ce.create("not-registered");return function(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function ln(x,M){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,L.Z)(function*(x,M){try{const O=yield xu(x,M),V=Object.assign(Object.assign({},M),{authToken:O});return yield bt(x.appConfig,V),O}catch(O){if(!Ee(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const V=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield bt(x.appConfig,V)}else yield Wr(x.appConfig);throw O}})).apply(this,arguments)}function Gn(x){return void 0!==x&&2===x.registrationStatus}function pr(x){return 2===x.requestStatus&&!function(x){const M=Date.now();return M<x.creationTime||x.creationTime+x.expiresIn<M+36e5}(x)}function Ai(x){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:M})}function al(){return(al=(0,L.Z)(function*(x){const M=x,{installationEntry:O,registrationPromise:V}=yield Vt(M.appConfig);return V?V.catch(console.error):Y(M).catch(console.error),O.fid})).apply(this,arguments)}function Vo(){return(Vo=(0,L.Z)(function*(x,M=!1){const O=x;return yield Mu(O.appConfig),(yield Y(O,M)).token})).apply(this,arguments)}function Mu(x){return En.apply(this,arguments)}function En(){return(En=(0,L.Z)(function*(x){const{registrationPromise:M}=yield Vt(x);M&&(yield M)})).apply(this,arguments)}function Jn(x){return ce.create("missing-app-config-values",{valueName:x})}const Zd="installations";(0,ue._registerComponent)(new ge.wA(Zd,x=>{const M=x.getProvider("app").getImmediate(),O=function(x){if(!x||!x.options)throw Jn("App Configuration");if(!x.name)throw Jn("App Name");const M=["projectId","apiKey","appId"];for(const O of M)if(!x.options[O])throw Jn(O);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(M);return{app:M,appConfig:O,platformLoggerProvider:(0,ue._getProvider)(M,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ue._registerComponent)(new ge.wA("installations-internal",x=>{const M=x.getProvider("app").getImmediate(),O=(0,ue._getProvider)(M,Zd).getImmediate();return{getId:()=>function(x){return al.apply(this,arguments)}(O),getToken:Z=>function(x){return Vo.apply(this,arguments)}(O,Z)}},"PRIVATE")),(0,ue.registerVersion)(de,G),(0,ue.registerVersion)(de,G,"esm2017");const Wn="@firebase/remote-config",li=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qf{constructor(M,O,V,Z){this.client=M,this.storage=O,this.storageCache=V,this.logger=Z}isCachedDataFresh(M,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-O,Z=V<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${Z}.`),Z}fetch(M){var O=this;return(0,L.Z)(function*(){const[V,Z]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Z&&O.isCachedDataFresh(M.cacheMaxAgeMillis,V))return Z;M.eTag=Z&&Z.eTag;const W=yield O.client.fetch(M),Me=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&Me.push(O.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(Me),W})()}}function Rg(x=navigator){return x.languages&&x.languages[0]||x.language}class Jr{constructor(M,O,V,Z,W,Me){this.firebaseInstallations=M,this.sdkVersion=O,this.namespace=V,this.projectId=Z,this.apiKey=W,this.appId=Me}fetch(M){var O=this;return(0,L.Z)(function*(){const[V,Z]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,it={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},$e={sdk_version:O.sdkVersion,app_instance_id:V,app_instance_id_token:Z,app_id:O.appId,language_code:Rg()},Gt={method:"POST",headers:it,body:JSON.stringify($e)},fn=fetch(Me,Gt),rr=new Promise((Ss,qs)=>{M.signal.addEventListener(()=>{const ta=new Error("The operation was aborted.");ta.name="AbortError",qs(ta)})});let sr;try{yield Promise.race([fn,rr]),sr=yield fn}catch(Ss){let qs="fetch-client-network";throw"AbortError"===Ss.name&&(qs="fetch-timeout"),li.create(qs,{originalErrorMessage:Ss.message})}let Bn=sr.status;const Fi=sr.headers.get("ETag")||void 0;let ea,yr;if(200===sr.status){let Ss;try{Ss=yield sr.json()}catch(qs){throw li.create("fetch-client-parse",{originalErrorMessage:qs.message})}ea=Ss.entries,yr=Ss.state}if("INSTANCE_STATE_UNSPECIFIED"===yr?Bn=500:"NO_CHANGE"===yr?Bn=304:("NO_TEMPLATE"===yr||"EMPTY_CONFIG"===yr)&&(ea={}),304!==Bn&&200!==Bn)throw li.create("fetch-status",{httpStatus:Bn});return{status:Bn,eTag:Fi,config:ea}})()}}class Kd{constructor(M,O){this.client=M,this.storage=O}fetch(M){var O=this;return(0,L.Z)(function*(){const V=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(M,V)})()}attemptFetch(M,{throttleEndTimeMillis:O,backoffCount:V}){var Z=this;return(0,L.Z)(function*(){yield function(x,M){return new Promise((O,V)=>{const Z=Math.max(M-Date.now(),0),W=setTimeout(O,Z);x.addEventListener(()=>{clearTimeout(W),V(li.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,O);try{const W=yield Z.client.fetch(M);return yield Z.storage.deleteThrottleMetadata(),W}catch(W){if(!function(x){if(!(x instanceof oe.ZR&&x.customData))return!1;const M=Number(x.customData.httpStatus);return 429===M||500===M||503===M||504===M}(W))throw W;const Me={throttleEndTimeMillis:Date.now()+(0,oe.$s)(V),backoffCount:V+1};return yield Z.storage.setThrottleMetadata(Me),Z.attemptFetch(M,Me)}})()}}class Og{constructor(M,O,V,Z,W){this.app=M,this._client=O,this._storageCache=V,this._storage=Z,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cl(x,M){const O=x.target.error||void 0;return li.create(M,{originalErrorMessage:O&&O.message})}const Ea="app_namespace_store";class Pg{constructor(M,O,V,Z=function(){return new Promise((x,M)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=V=>{M(cl(V,"storage-open"))},O.onsuccess=V=>{x(V.target.result)},O.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Ea,{keyPath:"compositeKey"})}}catch(O){M(li.create("storage-open",{originalErrorMessage:O}))}})}()){this.appId=M,this.appName=O,this.namespace=V,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var O=this;return(0,L.Z)(function*(){const V=yield O.openDbPromise;return new Promise((Z,W)=>{const it=V.transaction([Ea],"readonly").objectStore(Ea),$e=O.createCompositeKey(M);try{const Gt=it.get($e);Gt.onerror=fn=>{W(cl(fn,"storage-get"))},Gt.onsuccess=fn=>{const rr=fn.target.result;Z(rr?rr.value:void 0)}}catch(Gt){W(li.create("storage-get",{originalErrorMessage:Gt&&Gt.message}))}})})()}set(M,O){var V=this;return(0,L.Z)(function*(){const Z=yield V.openDbPromise;return new Promise((W,Me)=>{const $e=Z.transaction([Ea],"readwrite").objectStore(Ea),Gt=V.createCompositeKey(M);try{const fn=$e.put({compositeKey:Gt,value:O});fn.onerror=rr=>{Me(cl(rr,"storage-set"))},fn.onsuccess=()=>{W()}}catch(fn){Me(li.create("storage-set",{originalErrorMessage:fn&&fn.message}))}})})()}delete(M){var O=this;return(0,L.Z)(function*(){const V=yield O.openDbPromise;return new Promise((Z,W)=>{const it=V.transaction([Ea],"readwrite").objectStore(Ea),$e=O.createCompositeKey(M);try{const Gt=it.delete($e);Gt.onerror=fn=>{W(cl(fn,"storage-delete"))},Gt.onsuccess=()=>{Z()}}catch(Gt){W(li.create("storage-delete",{originalErrorMessage:Gt&&Gt.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class Jd{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,L.Z)(function*(){const O=M.storage.getLastFetchStatus(),V=M.storage.getLastSuccessfulFetchTimestampMillis(),Z=M.storage.getActiveConfig(),W=yield O;W&&(M.lastFetchStatus=W);const Me=yield V;Me&&(M.lastSuccessfulFetchTimestampMillis=Me);const it=yield Z;it&&(M.activeConfig=it)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function ul(){return ku.apply(this,arguments)}function ku(){return(ku=(0,L.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(x){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new ge.wA("remote-config",function(M,{instanceIdentifier:O}){const V=M.getProvider("app").getImmediate(),Z=M.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw li.create("registration-window");if(!(0,oe.hl)())throw li.create("indexed-db-unavailable");const{projectId:W,apiKey:Me,appId:it}=V.options;if(!W)throw li.create("registration-project-id");if(!Me)throw li.create("registration-api-key");if(!it)throw li.create("registration-app-id");const $e=new Pg(it,V.name,O=O||"firebase"),Gt=new Jd($e),fn=new Q.Yd(Wn);fn.logLevel=Q.in.ERROR;const rr=new Jr(Z,ue.SDK_VERSION,O,W,Me,it),sr=new Kd(rr,$e),Bn=new qf(sr,$e,Gt,fn),Fi=new Og(V,Bn,Gt,$e,fn);return function(x){const M=(0,oe.m9)(x);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(Fi),Fi},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Wn,"0.3.3"),(0,ue.registerVersion)(Wn,"0.3.3","esm2017");const eh="/firebase-messaging-sw.js",Ng="/firebase-cloud-messaging-push-scope",vs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mo="google.c.a.c_id",Sa="google.c.a.c_l",go="google.c.a.ts",Zn="google.c.a.e";var Oi=(()=>{return(x=Oi||(Oi={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Oi;var x})();function js(x){const M=new Uint8Array(x);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dl(x){const O=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(O),Z=new Uint8Array(V.length);for(let W=0;W<V.length;++W)Z[W]=V.charCodeAt(W);return Z}const Ou="fcm_token_details_db",nh="fcm_token_object_Store";function Pu(x){return yc.apply(this,arguments)}function yc(){return yc=(0,L.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(Ou))return null;let M=null;return(yield(0,ae.openDb)(Ou,5,function(){var V=(0,L.Z)(function*(Z){var W;if(Z.oldVersion<2||!Z.objectStoreNames.contains(nh))return;const Me=Z.transaction.objectStore(nh),it=yield Me.index("fcmSenderId").get(x);if(yield Me.clear(),it)if(2===Z.oldVersion){const $e=it;if(!$e.auth||!$e.p256dh||!$e.endpoint)return;M={token:$e.fcmToken,createTime:null!==(W=$e.createTime)&&void 0!==W?W:Date.now(),subscriptionOptions:{auth:$e.auth,p256dh:$e.p256dh,endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:"string"==typeof $e.vapidKey?$e.vapidKey:js($e.vapidKey)}}}else if(3===Z.oldVersion){const $e=it;M={token:$e.fcmToken,createTime:$e.createTime,subscriptionOptions:{auth:js($e.auth),p256dh:js($e.p256dh),endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:js($e.vapidKey)}}}else if(4===Z.oldVersion){const $e=it;M={token:$e.fcmToken,createTime:$e.createTime,subscriptionOptions:{auth:js($e.auth),p256dh:js($e.p256dh),endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:js($e.vapidKey)}}}});return function(Z){return V.apply(this,arguments)}}())).close(),yield(0,ae.deleteDb)(Ou),yield(0,ae.deleteDb)("fcm_vapid_details_db"),yield(0,ae.deleteDb)("undefined"),Kf(M)?M:null}),yc.apply(this,arguments)}function Kf(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:M}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const pn="firebase-messaging-store";let Fu=null;function Go(){return Fu||(Fu=(0,ae.openDb)("firebase-messaging-database",1,x=>{0===x.oldVersion&&x.createObjectStore(pn)})),Fu}function ei(x){return $o.apply(this,arguments)}function $o(){return($o=(0,L.Z)(function*(x){const M=qo(x),V=yield(yield Go()).transaction(pn).objectStore(pn).get(M);if(V)return V;{const Z=yield Pu(x.appConfig.senderId);if(Z)return yield tr(x,Z),Z}})).apply(this,arguments)}function tr(x,M){return es.apply(this,arguments)}function es(){return(es=(0,L.Z)(function*(x,M){const O=qo(x),Z=(yield Go()).transaction(pn,"readwrite");return yield Z.objectStore(pn).put(M,O),yield Z.complete,M})).apply(this,arguments)}function ti(x){return bc.apply(this,arguments)}function bc(){return(bc=(0,L.Z)(function*(x){const M=qo(x),V=(yield Go()).transaction(pn,"readwrite");yield V.objectStore(pn).delete(M),yield V.complete})).apply(this,arguments)}function qo({appConfig:x}){return x.appId}const cn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Us(x,M){return fl.apply(this,arguments)}function fl(){return(fl=(0,L.Z)(function*(x,M){const O=yield wc(x),V=xa(M),Z={method:"POST",headers:O,body:JSON.stringify(V)};let W;try{W=yield(yield fetch(rt(x.appConfig),Z)).json()}catch(Me){throw cn.create("token-subscribe-failed",{errorInfo:Me})}if(W.error)throw cn.create("token-subscribe-failed",{errorInfo:W.error.message});if(!W.token)throw cn.create("token-subscribe-no-token");return W.token})).apply(this,arguments)}function Wo(x,M){return nr.apply(this,arguments)}function nr(){return(nr=(0,L.Z)(function*(x,M){const O=yield wc(x),V=xa(M.subscriptionOptions),Z={method:"PATCH",headers:O,body:JSON.stringify(V)};let W;try{W=yield(yield fetch(`${rt(x.appConfig)}/${M.token}`,Z)).json()}catch(Me){throw cn.create("token-update-failed",{errorInfo:Me})}if(W.error)throw cn.create("token-update-failed",{errorInfo:W.error.message});if(!W.token)throw cn.create("token-update-no-token");return W.token})).apply(this,arguments)}function pl(x,M){return _o.apply(this,arguments)}function _o(){return(_o=(0,L.Z)(function*(x,M){const V={method:"DELETE",headers:yield wc(x)};try{const W=yield(yield fetch(`${rt(x.appConfig)}/${M}`,V)).json();if(W.error)throw cn.create("token-unsubscribe-failed",{errorInfo:W.error.message})}catch(Z){throw cn.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function rt({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function wc(x){return ml.apply(this,arguments)}function ml(){return(ml=(0,L.Z)(function*({appConfig:x,installations:M}){const O=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function xa({p256dh:x,auth:M,endpoint:O,vapidKey:V}){const Z={web:{endpoint:O,auth:M,p256dh:x}};return V!==vs&&(Z.web.applicationPubKey=V),Z}const gl=6048e5;function Cc(x){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,L.Z)(function*(x){const M=yield Gs(x.swRegistration,x.vapidKey),O={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:M.endpoint,auth:js(M.getKey("auth")),p256dh:js(M.getKey("p256dh"))},V=yield ei(x.firebaseDependencies);if(V){if(Ec(V.subscriptionOptions,O))return Date.now()>=V.createTime+gl?Ut(x,{token:V.token,createTime:Date.now(),subscriptionOptions:O}):V.token;try{yield pl(x.firebaseDependencies,V.token)}catch(Z){console.warn(Z)}return Fn(x.firebaseDependencies,O)}return Fn(x.firebaseDependencies,O)})).apply(this,arguments)}function ih(x){return xe.apply(this,arguments)}function xe(){return(xe=(0,L.Z)(function*(x){const M=yield ei(x.firebaseDependencies);M&&(yield pl(x.firebaseDependencies,M.token),yield ti(x.firebaseDependencies));const O=yield x.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function Ut(x,M){return zs.apply(this,arguments)}function zs(){return(zs=(0,L.Z)(function*(x,M){try{const O=yield Wo(x.firebaseDependencies,M),V=Object.assign(Object.assign({},M),{token:O,createTime:Date.now()});return yield tr(x.firebaseDependencies,V),O}catch(O){throw yield ih(x),O}})).apply(this,arguments)}function Fn(x,M){return _l.apply(this,arguments)}function _l(){return(_l=(0,L.Z)(function*(x,M){const V={token:yield Us(x,M),createTime:Date.now(),subscriptionOptions:M};return yield tr(x,V),V.token})).apply(this,arguments)}function Gs(x,M){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,L.Z)(function*(x,M){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dl(M)})})).apply(this,arguments)}function Ec(x,M){return M.vapidKey===x.vapidKey&&M.endpoint===x.endpoint&&M.auth===x.auth&&M.p256dh===x.p256dh}function Zo(x){const M={from:x.from,collapseKey:x.collapse_key,messageId:x.fcm_message_id};return function(x,M){if(!M.notification)return;x.notification={};const O=M.notification.title;O&&(x.notification.title=O);const V=M.notification.body;V&&(x.notification.body=V);const Z=M.notification.image;Z&&(x.notification.image=Z)}(M,x),function(x,M){!M.data||(x.data=M.data)}(M,x),function(x,M){if(!M.fcmOptions)return;x.fcmOptions={};const O=M.fcmOptions.link;O&&(x.fcmOptions.link=O);const V=M.fcmOptions.analytics_label;V&&(x.fcmOptions.analyticsLabel=V)}(M,x),M}function Ko(x){return"object"==typeof x&&!!x&&mo in x}function wi(x,M){const O=[];for(let V=0;V<x.length;V++)O.push(x.charAt(V)),V<M.length&&O.push(M.charAt(V));return O.join("")}function yl(x){return cn.create("missing-app-config-values",{valueName:x})}wi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vo{constructor(M,O,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function(x){if(!x||!x.options)throw yl("App Configuration Object");if(!x.name)throw yl("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:O}=x;for(const V of M)if(!O[V])throw yl(V);return{appName:x.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:Z,installations:O,analyticsProvider:V}}_delete(){return Promise.resolve()}}function ys(x){return bl.apply(this,arguments)}function bl(){return(bl=(0,L.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(eh,{scope:Ng}),x.swRegistration.update().catch(()=>{})}catch(M){throw cn.create("failed-service-worker-registration",{browserErrorMessage:M.message})}})).apply(this,arguments)}function wl(x,M){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,L.Z)(function*(x,M){if(!M&&!x.swRegistration&&(yield ys(x)),M||!x.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");x.swRegistration=M}})).apply(this,arguments)}function Sc(x,M){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,L.Z)(function*(x,M){M?x.vapidKey=M:x.vapidKey||(x.vapidKey=vs)})).apply(this,arguments)}function xc(){return(xc=(0,L.Z)(function*(x,M){if(!navigator)throw cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cn.create("permission-blocked");return yield Sc(x,null==M?void 0:M.vapidKey),yield wl(x,null==M?void 0:M.serviceWorkerRegistration),Cc(x)})).apply(this,arguments)}function Ta(x,M,O){return rh.apply(this,arguments)}function rh(){return(rh=(0,L.Z)(function*(x,M,O){const V=Mc(M);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:O[mo],message_name:O[Sa],message_time:O[go],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mc(x){switch(x){case Oi.NOTIFICATION_CLICKED:return"notification_open";case Oi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function El(){return(El=(0,L.Z)(function*(x,M){const O=M.data;if(!O.isFirebaseMessaging)return;x.onMessageHandler&&O.messageType===Oi.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Zo(O)):x.onMessageHandler.next(Zo(O)));const V=O.data;Ko(V)&&"1"===V[Zn]&&(yield Ta(x,O.messageType,V))})).apply(this,arguments)}const Bu="@firebase/messaging";function Vu(){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,L.Z)(function*(){return"undefined"!=typeof window&&(0,oe.hl)()&&(yield(0,oe.eu)())&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new ge.wA("messaging",x=>{const M=new vo(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function(x,M){return El.apply(this,arguments)}(M,O)),M},"PUBLIC")),(0,ue._registerComponent)(new ge.wA("messaging-internal",x=>{const M=x.getProvider("messaging").getImmediate();return{getToken:V=>function(x,M){return xc.apply(this,arguments)}(M,V)}},"PRIVATE")),(0,ue.registerVersion)(Bu,"0.9.4"),(0,ue.registerVersion)(Bu,"0.9.4","esm2017");const bo="analytics",Ic="firebase_id",Hu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ch="https://www.googletagmanager.com/gtag/js",An=new Q.Yd("@firebase/analytics");function Tl(x){return Promise.all(x.map(M=>M.catch(O=>O)))}function Vg(x,M){const O=document.createElement("script");O.src=`${ch}?l=${x}&id=${M}`,O.async=!0,document.head.appendChild(O)}function Aa(x,M,O,V,Z,W){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,L.Z)(function*(x,M,O,V,Z,W){const Me=V[Z];try{if(Me)yield M[Me];else{const $e=(yield Tl(O)).find(Gt=>Gt.measurementId===Z);$e&&(yield M[$e.appId])}}catch(it){An.error(it)}x("config",Z,W)})).apply(this,arguments)}function wo(x,M,O,V,Z){return kc.apply(this,arguments)}function kc(){return(kc=(0,L.Z)(function*(x,M,O,V,Z){try{let W=[];if(Z&&Z.send_to){let Me=Z.send_to;Array.isArray(Me)||(Me=[Me]);const it=yield Tl(O);for(const $e of Me){const Gt=it.find(rr=>rr.measurementId===$e),fn=Gt&&M[Gt.appId];if(!fn){W=[];break}W.push(fn)}}0===W.length&&(W=Object.values(M)),yield Promise.all(W),x("event",V,Z||{})}catch(W){An.error(W)}})).apply(this,arguments)}function xn(){const x=window.document.getElementsByTagName("script");for(const M of Object.values(x))if(M.src&&M.src.includes(ch))return M;return null}const Ue=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ka=new class{constructor(M={},O=1e3){this.throttleMetadata=M,this.intervalMillis=O}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,O){this.throttleMetadata[M]=O}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function Hg(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Il(x){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,L.Z)(function*(x){var M;const{appId:O,apiKey:V}=x,Z={method:"GET",headers:Hg(V)},W=Hu.replace("{app-id}",O),Me=yield fetch(W,Z);if(200!==Me.status&&304!==Me.status){let it="";try{const $e=yield Me.json();(null===(M=$e.error)||void 0===M?void 0:M.message)&&(it=$e.error.message)}catch($e){}throw Ue.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:it})}return Me.json()})).apply(this,arguments)}function Qo(x){return Do.apply(this,arguments)}function Do(){return(Do=(0,L.Z)(function*(x,M=ka,O){const{appId:V,apiKey:Z,measurementId:W}=x.options;if(!V)throw Ue.create("no-app-id");if(!Z){if(W)return{measurementId:W,appId:V};throw Ue.create("no-api-key")}const Me=M.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},it=new Xo;return setTimeout((0,L.Z)(function*(){it.abort()}),void 0!==O?O:6e4),bs({appId:V,apiKey:Z,measurementId:W},Me,it,M)})).apply(this,arguments)}function bs(x,M,O){return Je.apply(this,arguments)}function Je(){return(Je=(0,L.Z)(function*(x,{throttleEndTimeMillis:M,backoffCount:O},V,Z=ka){const{appId:W,measurementId:Me}=x;try{yield tp(V,M)}catch(it){if(Me)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:W,measurementId:Me};throw it}try{const it=yield Il(x);return Z.deleteThrottleMetadata(W),it}catch(it){if(!np(it)){if(Z.deleteThrottleMetadata(W),Me)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${it.message}]`),{appId:W,measurementId:Me};throw it}const $e=503===Number(it.customData.httpStatus)?(0,oe.$s)(O,Z.intervalMillis,30):(0,oe.$s)(O,Z.intervalMillis),Gt={throttleEndTimeMillis:Date.now()+$e,backoffCount:O+1};return Z.setThrottleMetadata(W,Gt),An.debug(`Calling attemptFetch again in ${$e} millis`),bs(x,Gt,V,Z)}})).apply(this,arguments)}function tp(x,M){return new Promise((O,V)=>{const Z=Math.max(M-Date.now(),0),W=setTimeout(O,Z);x.addEventListener(()=>{clearTimeout(W),V(Ue.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function np(x){if(!(x instanceof oe.ZR&&x.customData))return!1;const M=Number(x.customData.httpStatus);return 429===M||500===M||503===M||504===M}class Xo{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}function Ra(){return un.apply(this,arguments)}function un(){return(un=(0,L.Z)(function*(){if(!(0,oe.hl)())return An.warn(Ue.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(x){return An.warn(Ue.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function _r(){return(_r=(0,L.Z)(function*(x,M,O,V,Z,W,Me){var it;const $e=Qo(x);$e.then(Bn=>{O[Bn.measurementId]=Bn.appId,x.options.measurementId&&Bn.measurementId!==x.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${Bn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bn=>An.error(Bn)),M.push($e);const Gt=Ra().then(Bn=>{if(Bn)return V.getId()}),[fn,rr]=yield Promise.all([$e,Gt]);xn()||Vg(W,fn.measurementId),Z("js",new Date);const sr=null!==(it=null==Me?void 0:Me.config)&&void 0!==it?it:{};return sr.origin="firebase",sr.update=!0,null!=rr&&(sr[Ic]=rr),Z("config",fn.measurementId,sr),fn.measurementId})).apply(this,arguments)}class uh{constructor(M){this.app=M}_delete(){return delete ns[this.app.options.appId],Promise.resolve()}}let ns={},ju=[];const Oa={};let kl,$n,Jo="dataLayer",is=!1;function Kn(x,M,O){!function(){const x=[];if((0,oe.ru)()&&x.push("This is a browser extension environment."),(0,oe.zI)()||x.push("Cookies are not available."),x.length>0){const M=x.map((V,Z)=>`(${Z+1}) ${V}`).join(" "),O=Ue.create("invalid-analytics-context",{errorInfo:M});An.warn(O.message)}}();const V=x.options.appId;if(!V)throw Ue.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Ue.create("no-api-key");An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ns[V])throw Ue.create("already-exists",{id:V});if(!is){!function(x){let M=[];Array.isArray(window[x])?M=window[x]:window[x]=M}(Jo);const{wrappedGtag:W,gtagCore:Me}=function(x,M,O,V,Z){let W=function(...Me){window[V].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(W=window[Z]),window[Z]=function(x,M,O,V){function W(){return(W=(0,L.Z)(function*(Me,it,$e){try{"event"===Me?yield wo(x,M,O,it,$e):"config"===Me?yield Aa(x,M,O,V,it,$e):x("set",it)}catch(Gt){An.error(Gt)}})).apply(this,arguments)}return function(Me,it,$e){return W.apply(this,arguments)}}(W,x,M,O),{gtagCore:W,wrappedGtag:window[Z]}}(ns,ju,Oa,Jo,"gtag");$n=W,kl=Me,is=!0}return ns[V]=function(x,M,O,V,Z,W,Me){return _r.apply(this,arguments)}(x,ju,Oa,M,kl,Jo,O),new uh(x)}function Pc(){return(Pc=(0,L.Z)(function*(x,M,O,V,Z){if(Z&&Z.global)x("event",O,V);else{const W=yield M;x("event",O,Object.assign(Object.assign({},V),{send_to:W}))}})).apply(this,arguments)}function bn(){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,L.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(x){return!1}})).apply(this,arguments)}const Uu="@firebase/analytics";(0,ue._registerComponent)(new ge.wA(bo,(M,{options:O})=>Kn(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ue._registerComponent)(new ge.wA("analytics-internal",function(M){try{const O=M.getProvider(bo).getImmediate();return{logEvent:(V,Z,W)=>function(x,M,O,V){x=(0,oe.m9)(x),function(x,M,O,V,Z){return Pc.apply(this,arguments)}($n,ns[x.app.options.appId],M,O,V).catch(Z=>An.error(Z))}(O,V,Z,W)}}catch(O){throw Ue.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ue.registerVersion)(Uu,"0.7.4"),(0,ue.registerVersion)(Uu,"0.7.4","esm2017");var qn=N(4408),Ol=N(7565);const op=new class extends Ol.v{}(class extends qn.o{constructor(M,O){super(M,O),this.scheduler=M,this.work=O}schedule(M,O=0){return O>0?super.schedule(M,O):(this.delay=O,this.state=M,this.scheduler.flush(this),this)}execute(M,O){return O>0||this.closed?super.execute(M,O):this._execute(M,O)}requestAsyncId(M,O,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(M,O,V):M.flush(this)}});var Cs=N(4986),zu=N(8505),Fa=N(9468),Na=N(5363);const hh=new o.GfV("7.2.0"),Gu="__angularfire_symbol__analyticsIsSupported",$u="__angularfire_symbol__remoteConfigIsSupported",qi="__angularfire_symbol__messagingIsSupported";function fh(x,M,O){if(M){if(1===M.length)return M[0];const W=M.filter(Me=>Me.app===O);if(1===W.length)return W[0]}return O.container.getProvider(x).getImmediate({optional:!0})}globalThis[Gu]||(globalThis[Gu]=bn().then(x=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=x)),globalThis[qi]||(globalThis[qi]=Vu().then(x=>globalThis.__angularfire_symbol__messagingIsSupportedValue=x)),globalThis[$u]||(globalThis[$u]=ul().then(x=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=x));const up=(x,M)=>{const O=M?[M]:(0,ee.C6)(),V=[];return O.forEach(Z=>{Z.container.getProvider(x).instances.forEach(Me=>{V.includes(Me)||V.push(Me)})}),V};function Yi(){}class qu{constructor(M,O=op){this.zone=M,this.delegate=O}now(){return this.delegate.now()}schedule(M,O,V){const Z=this.zone;return this.delegate.schedule(function(Me){Z.runGuarded(()=>{M.apply(this,[Me])})},O,V)}}class Nc{constructor(M){this.zone=M,this.task=null}call(M,O){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yi,{},Yi,Yi)),O.pipe((0,zu.b)({next:V,complete:V,error:V})).subscribe(M).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yu=(()=>{class x{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new qu(Zone.current)),this.insideAngular=O.run(()=>new qu(Zone.current,Cs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(O){return new(O||x)(o.LFG(o.R0b))},x.\u0275prov=o.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Es(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function $s(x){return Es(),function(x){return function(O){return(O=O.lift(new Nc(x.ngZone))).pipe((0,Fa.R)(x.outsideAngular),(0,Na.Q)(x.insideAngular))}}(Es())(x)}},2090:(dt,De,N)=>{"use strict";N.d(De,{BH:()=>Ve,LL:()=>fe,ZR:()=>Fe,gQ:()=>Te,zI:()=>he,hu:()=>ee,g5:()=>L,US:()=>ge,tV:()=>de,h$:()=>Q,$s:()=>an,r3:()=>Dn,Sg:()=>Se,ne:()=>yi,p$:()=>G,vZ:()=>Wt,ZB:()=>z,gK:()=>pt,pd:()=>_s,m9:()=>xu,z$:()=>He,GJ:()=>Qi,jU:()=>K,ru:()=>ce,d:()=>ve,xb:()=>Yn,w1:()=>Ge,hl:()=>_t,uI:()=>Be,UG:()=>le,Yr:()=>qe,b$:()=>Ee,G6:()=>Qe,Mn:()=>Ie,w9:()=>zi,cI:()=>oi,UI:()=>Mr,xO:()=>ba,zd:()=>Yr,DV:()=>ya,ug:()=>rn,dS:()=>Ji,Pz:()=>Ot,Dv:()=>Xi,Wj:()=>Vt,lb:()=>jt,eu:()=>ie});const ee=function(q,j){if(!q)throw L(j)},L=function(q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+q)},ue=function(q){const j=[];let Y=0;for(let be=0;be<q.length;be++){let re=q.charCodeAt(be);re<128?j[Y++]=re:re<2048?(j[Y++]=re>>6|192,j[Y++]=63&re|128):55296==(64512&re)&&be+1<q.length&&56320==(64512&q.charCodeAt(be+1))?(re=65536+((1023&re)<<10)+(1023&q.charCodeAt(++be)),j[Y++]=re>>18|240,j[Y++]=re>>12&63|128,j[Y++]=re>>6&63|128,j[Y++]=63&re|128):(j[Y++]=re>>12|224,j[Y++]=re>>6&63|128,j[Y++]=63&re|128)}return j},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,j){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,be=[];for(let re=0;re<q.length;re+=3){const et=q[re],vt=re+1<q.length,ln=vt?q[re+1]:0,Ii=re+2<q.length,Gn=Ii?q[re+2]:0;let Ai=(15&ln)<<2|Gn>>6,Bo=63&Gn;Ii||(Bo=64,vt||(Ai=64)),be.push(Y[et>>2],Y[(3&et)<<4|ln>>4],Y[Ai],Y[Bo])}return be.join("")},encodeString(q,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(q):this.encodeByteArray(ue(q),j)},decodeString(q,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(q):function(q){const j=[];let Y=0,be=0;for(;Y<q.length;){const re=q[Y++];if(re<128)j[be++]=String.fromCharCode(re);else if(re>191&&re<224){const et=q[Y++];j[be++]=String.fromCharCode((31&re)<<6|63&et)}else if(re>239&&re<365){const Ii=((7&re)<<18|(63&q[Y++])<<12|(63&q[Y++])<<6|63&q[Y++])-65536;j[be++]=String.fromCharCode(55296+(Ii>>10)),j[be++]=String.fromCharCode(56320+(1023&Ii))}else{const et=q[Y++],vt=q[Y++];j[be++]=String.fromCharCode((15&re)<<12|(63&et)<<6|63&vt)}}return j.join("")}(this.decodeStringToByteArray(q,j))},decodeStringToByteArray(q,j){this.init_();const Y=j?this.charToByteMapWebSafe_:this.charToByteMap_,be=[];for(let re=0;re<q.length;){const et=Y[q.charAt(re++)],ln=re<q.length?Y[q.charAt(re)]:0;++re;const Gn=re<q.length?Y[q.charAt(re)]:64;++re;const qt=re<q.length?Y[q.charAt(re)]:64;if(++re,null==et||null==ln||null==Gn||null==qt)throw Error();be.push(et<<2|ln>>4),64!==Gn&&(be.push(ln<<4&240|Gn>>2),64!==qt&&be.push(Gn<<6&192|qt))}return be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},Q=function(q){const j=ue(q);return ge.encodeByteArray(j,!0)},ae=function(q){return Q(q).replace(/\./g,"")},de=function(q){try{return ge.decodeString(q,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function G(q){return z(void 0,q)}function z(q,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return j}for(const Y in j)!j.hasOwnProperty(Y)||!te(Y)||(q[Y]=z(q[Y],j[Y]));return q}function te(q){return"__proto__"!==q}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Y)=>{this.resolve=j,this.reject=Y})}wrapCallback(j){return(Y,be)=>{Y?this.reject(Y):this.resolve(be),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Y):j(Y,be))}}}function Se(q,j){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const be=j||"demo-project",re=q.iat||0,et=q.sub||q.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const vt=Object.assign({iss:`https://securetoken.google.com/${be}`,aud:be,iat:re,exp:re+3600,auth_time:re,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(vt)),""].join(".")}function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function K(){return"object"==typeof self&&self.self===self}function ce(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return He().indexOf("Electron/")>=0}function Ge(){const q=He();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Ie(){return He().indexOf("MSAppHost/")>=0}function qe(){return!1}function Qe(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _t(){return"object"==typeof indexedDB}function ie(){return new Promise((q,j)=>{try{let Y=!0;const be="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(be);re.onsuccess=()=>{re.result.close(),Y||self.indexedDB.deleteDatabase(be),q(!0)},re.onupgradeneeded=()=>{Y=!1},re.onerror=()=>{var et;j((null===(et=re.error)||void 0===et?void 0:et.message)||"")}}catch(Y){j(Y)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Fe extends Error{constructor(j,Y,be){super(Y),this.code=j,this.customData=be,this.name="FirebaseError",Object.setPrototypeOf(this,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(j,Y,be){this.service=j,this.serviceName=Y,this.errors=be}create(j,...Y){const be=Y[0]||{},re=`${this.service}/${j}`,et=this.errors[j],vt=et?function(q,j){return q.replace(nn,(Y,be)=>{const re=j[be];return null!=re?String(re):`<${be}?>`})}(et,be):"Error";return new Fe(re,`${this.serviceName}: ${vt} (${re}).`,be)}}const nn=/\{\$([^}]+)}/g;function oi(q){return JSON.parse(q)}function Ot(q){return JSON.stringify(q)}const Et=function(q){let j={},Y={},be={},re="";try{const et=q.split(".");j=oi(de(et[0])||""),Y=oi(de(et[1])||""),re=et[2],be=Y.d||{},delete Y.d}catch(et){}return{header:j,claims:Y,data:be,signature:re}},zi=function(q){const Y=Et(q).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},Qi=function(q){const j=Et(q).claims;return"object"==typeof j&&!0===j.admin};function Dn(q,j){return Object.prototype.hasOwnProperty.call(q,j)}function ya(q,j){if(Object.prototype.hasOwnProperty.call(q,j))return q[j]}function Yn(q){for(const j in q)if(Object.prototype.hasOwnProperty.call(q,j))return!1;return!0}function Mr(q,j,Y){const be={};for(const re in q)Object.prototype.hasOwnProperty.call(q,re)&&(be[re]=j.call(Y,q[re],re,q));return be}function Wt(q,j){if(q===j)return!0;const Y=Object.keys(q),be=Object.keys(j);for(const re of Y){if(!be.includes(re))return!1;const et=q[re],vt=j[re];if(zn(et)&&zn(vt)){if(!Wt(et,vt))return!1}else if(et!==vt)return!1}for(const re of be)if(!Y.includes(re))return!1;return!0}function zn(q){return null!==q&&"object"==typeof q}function ba(q){const j=[];for(const[Y,be]of Object.entries(q))Array.isArray(be)?be.forEach(re=>{j.push(encodeURIComponent(Y)+"="+encodeURIComponent(re))}):j.push(encodeURIComponent(Y)+"="+encodeURIComponent(be));return j.length?"&"+j.join("&"):""}function Yr(q){const j={};return q.replace(/^\?/,"").split("&").forEach(be=>{if(be){const[re,et]=be.split("=");j[decodeURIComponent(re)]=decodeURIComponent(et)}}),j}function _s(q){const j=q.indexOf("?");if(!j)return"";const Y=q.indexOf("#",j);return q.substring(j,Y>0?Y:void 0)}class Te{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,Y){Y||(Y=0);const be=this.W_;if("string"==typeof j)for(let qt=0;qt<16;qt++)be[qt]=j.charCodeAt(Y)<<24|j.charCodeAt(Y+1)<<16|j.charCodeAt(Y+2)<<8|j.charCodeAt(Y+3),Y+=4;else for(let qt=0;qt<16;qt++)be[qt]=j[Y]<<24|j[Y+1]<<16|j[Y+2]<<8|j[Y+3],Y+=4;for(let qt=16;qt<80;qt++){const Ai=be[qt-3]^be[qt-8]^be[qt-14]^be[qt-16];be[qt]=4294967295&(Ai<<1|Ai>>>31)}let Gn,pr,re=this.chain_[0],et=this.chain_[1],vt=this.chain_[2],ln=this.chain_[3],Ii=this.chain_[4];for(let qt=0;qt<80;qt++){qt<40?qt<20?(Gn=ln^et&(vt^ln),pr=1518500249):(Gn=et^vt^ln,pr=1859775393):qt<60?(Gn=et&vt|ln&(et|vt),pr=2400959708):(Gn=et^vt^ln,pr=3395469782);const Ai=(re<<5|re>>>27)+Gn+Ii+pr+be[qt]&4294967295;Ii=ln,ln=vt,vt=4294967295&(et<<30|et>>>2),et=re,re=Ai}this.chain_[0]=this.chain_[0]+re&4294967295,this.chain_[1]=this.chain_[1]+et&4294967295,this.chain_[2]=this.chain_[2]+vt&4294967295,this.chain_[3]=this.chain_[3]+ln&4294967295,this.chain_[4]=this.chain_[4]+Ii&4294967295}update(j,Y){if(null==j)return;void 0===Y&&(Y=j.length);const be=Y-this.blockSize;let re=0;const et=this.buf_;let vt=this.inbuf_;for(;re<Y;){if(0===vt)for(;re<=be;)this.compress_(j,re),re+=this.blockSize;if("string"==typeof j){for(;re<Y;)if(et[vt]=j.charCodeAt(re),++vt,++re,vt===this.blockSize){this.compress_(et),vt=0;break}}else for(;re<Y;)if(et[vt]=j[re],++vt,++re,vt===this.blockSize){this.compress_(et),vt=0;break}}this.inbuf_=vt,this.total_+=Y}digest(){const j=[];let Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&Y,Y/=256;this.compress_(this.buf_);let be=0;for(let re=0;re<5;re++)for(let et=24;et>=0;et-=8)j[be]=this.chain_[re]>>et&255,++be;return j}}function yi(q,j){const Y=new ai(q,j);return Y.subscribe.bind(Y)}class ai{constructor(j,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{j(this)}).catch(be=>{this.error(be)})}next(j){this.forEachObserver(Y=>{Y.next(j)})}error(j){this.forEachObserver(Y=>{Y.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Y,be){let re;if(void 0===j&&void 0===Y&&void 0===be)throw new Error("Missing Observer.");re=function(q,j){if("object"!=typeof q||null===q)return!1;for(const Y of["next","error","complete"])if(Y in q&&"function"==typeof q[Y])return!0;return!1}(j)?j:{next:j,error:Y,complete:be},void 0===re.next&&(re.next=Wr),void 0===re.error&&(re.error=Wr),void 0===re.complete&&(re.complete=Wr);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(vt){}}),this.observers.push(re),et}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,j)}sendOne(j,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Y(this.observers[j])}catch(be){"undefined"!=typeof console&&console.error&&console.error(be)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wr(){}const Xi=function(q,j,Y,be){let re;if(be<j?re="at least "+j:be>Y&&(re=0===Y?"none":"no more than "+Y),re)throw new Error(q+" failed: Was called with "+be+(1===be?" argument.":" arguments.")+" Expects "+re+".")};function pt(q,j){return`${q} failed: ${j} argument `}function Vt(q,j,Y,be){if((!be||Y)&&"function"!=typeof Y)throw new Error(pt(q,j)+"must be a valid function.")}function jt(q,j,Y,be){if((!be||Y)&&("object"!=typeof Y||null===Y))throw new Error(pt(q,j)+"must be a valid context object.")}const Ji=function(q){const j=[];let Y=0;for(let be=0;be<q.length;be++){let re=q.charCodeAt(be);if(re>=55296&&re<=56319){const et=re-55296;be++,ee(be<q.length,"Surrogate pair missing trail surrogate."),re=65536+(et<<10)+(q.charCodeAt(be)-56320)}re<128?j[Y++]=re:re<2048?(j[Y++]=re>>6|192,j[Y++]=63&re|128):re<65536?(j[Y++]=re>>12|224,j[Y++]=re>>6&63|128,j[Y++]=63&re|128):(j[Y++]=re>>18|240,j[Y++]=re>>12&63|128,j[Y++]=re>>6&63|128,j[Y++]=63&re|128)}return j},rn=function(q){let j=0;for(let Y=0;Y<q.length;Y++){const be=q.charCodeAt(Y);be<128?j++:be<2048?j+=2:be>=55296&&be<=56319?(j+=4,Y++):j+=3}return j};function an(q,j=1e3,Y=2){const be=j*Math.pow(Y,q),re=Math.round(.5*be*(Math.random()-.5)*2);return Math.min(144e5,be+re)}function xu(q){return q&&q._delegate?q._delegate:q}},2879:(dt,De,N)=>{"use strict";var o=N(5e3);let ee=null;function L(){return ee}const Q=new o.OlP("DocumentToken");let ae=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.LFG)(z)},providedIn:"platform"}),n})();const G=new o.OlP("Location Initialized");let z=(()=>{class n extends ae{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){te()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){te()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:function(){return new z((0,o.LFG)(Q))},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function He(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function(n){const t=(0,o.LFG)(Q).location;return new Ee((0,o.LFG)(ae),t&&t.origin||"")}()},providedIn:"root"}),n})();const ce=new o.OlP("appBaseHref");let Ee=(()=>{class n extends le{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Be(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+Be(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+Be(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae),o.LFG(ce,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n extends le{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Se(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+Be(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+Be(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ae),o.LFG(ce,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=He(Qe(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Be(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Qe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Be(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Be(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Be,n.joinWithSlash=Se,n.stripTrailingSlash=He,n.\u0275fac=function(e){return new(e||n)(o.LFG(le),o.LFG(ae))},n.\u0275prov=o.Yz7({token:n,factory:function(){return new Ge((0,o.LFG)(le),(0,o.LFG)(ae))},providedIn:"root"}),n})();function Qe(n){return n.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))();const _s=o.kL8;class bi{}let li=(()=>{class n extends bi{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(_s(i||this.locale)(e)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.soG))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),jo=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Uo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Uo(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),Gi(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Gi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Gi(n,t){n.context.$implicit=t.item}let Ri=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Qr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){yn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){yn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Qr{constructor(){this.$implicit=null,this.ngIf=null}}function yn(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class Ca{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ll=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),mr=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ca(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(ll,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Xr=(()=>{class n{constructor(e,i,r){r._addDefault(new Ca(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(ll,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class Da{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Yf{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Kd=new Yf,Wf=new Da;let Iu=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return Kd;if((0,o.F4k)(e))return Wf;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,o.AaK)(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1}),n})(),Zn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:bi,useClass:li}]}),n})();const th="browser";function $i(n){return"server"===n}let Kf=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new hl((0,o.LFG)(Q),window)}),n})();class hl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=zo(this.window.history)||zo(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function zo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $o extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new $o,ee||(ee=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(tr=tr||document.querySelector("base"),tr?tr.getAttribute("href"):null);return null==e?null:function(n){ti=ti||document.createElement("a"),ti.setAttribute("href",n);const t=ti.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){tr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let ti,tr=null;const qo=new o.OlP("TRANSITION_ID"),cn=[{provide:o.ip1,useFactory:function(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[qo,Q,o.zs3],multi:!0}];class Us{static init(){(0,o.VLi)(new Us)}addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(m){c=c||m,s--,0==s&&i(c)};r.forEach(function(m){m.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let fl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Wo=new o.OlP("EventManagerPlugins");let nr=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wo),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class pl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let _o=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),rt=(()=>{class n extends _o{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(wc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(wc))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function wc(n){L().remove(n)}const ml={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xa=/%COMP%/g;function zs(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?zs(n,r,e):(r=r.replace(xa,n),e.push(r))}return e}function Fn(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Gs=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Pi(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Nu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new Lu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=zs(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(nr),o.LFG(rt),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Pi{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ml[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=ml[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ml[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Fn(i)):this.eventManager.addEventListener(t,e,Fn(i))}}class Nu extends Pi{constructor(t,e,i,r){super(t),this.component=i;const s=zs(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(xa,r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(xa,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Lu extends Pi{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=zs(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let vl=(()=>{class n extends pl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ko=["alt","control","meta","shift"],ts={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ys=(()=>{class n extends pl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(Ko.forEach(m=>{const y=i.indexOf(m);y>-1&&(i.splice(y,1),c+=m+".")}),c+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&yl.hasOwnProperty(t)&&(t=yl[t]))}return ts[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ko.forEach(s=>{s!=r&&vo[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ma=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:th},{provide:o.g9A,useValue:function(){$o.makeCurrent(),Us.init()},multi:!0},{provide:Q,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),xc=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:Wo,useClass:vl,multi:!0,deps:[Q,o.R0b,o.Lbi]},{provide:Wo,useClass:ys,multi:!0,deps:[Q]},{provide:Gs,useClass:Gs,deps:[nr,rt,o.AFp]},{provide:o.FYo,useExisting:Gs},{provide:_o,useExisting:rt},{provide:rt,useClass:rt,deps:[Q]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:nr,useClass:nr,deps:[Wo,o.R0b]},{provide:class{},useClass:fl,deps:[]}];let Ta=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:qo,useExisting:o.AFp},cn]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:xc,imports:[Zn,o.hGG]}),n})();"undefined"!=typeof window&&window;let wo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(ep),i},providedIn:"root"}),n})(),ep=(()=>{class n extends wo{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function(n){return new ep(n.get(Q))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var xn=N(8996),Co=N(3269);function Ue(...n){const t=(0,Co.yG)(n);return(0,xn.D)(n,t)}var Ne=N(7579);class Ci extends Ne.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Hn=N(8306);const{isArray:ka}=Array,{getPrototypeOf:Hg,prototype:Il,keys:Rc}=Object;function Qo(n){if(1===n.length){const t=n[0];if(ka(t))return{args:t,keys:null};if(function(n){return n&&"object"==typeof n&&Hg(n)===Il}(t)){const e=Rc(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var bs=N(4671),Je=N(4004);const{isArray:tp}=Array;function Xo(n){return(0,Je.U)(t=>function(n,t){return tp(t)?n(...t):n(t)}(n,t))}function Ra(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var un=N(5403),Oc=N(9672);function _r(...n){const t=(0,Co.yG)(n),e=(0,Co.jO)(n),{args:i,keys:r}=Qo(n);if(0===i.length)return(0,xn.D)([],t);const s=new Hn.y(function(n,t,e=bs.y){return i=>{ns(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let m=0;m<r;m++)ns(t,()=>{const y=(0,xn.D)(n[m],t);let C=!1;y.subscribe(new un.Q(i,S=>{s[m]=S,C||(C=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>Ra(r,c):bs.y));return e?s.pipe(Xo(e)):s}function ns(n,t,e){n?(0,Oc.f)(e,n,t):t()}const Oa=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Jo=N(8189);function kl(...n){return(0,Jo.J)(1)((0,xn.D)(n,(0,Co.yG)(n)))}var $n=N(8421);function is(n){return new Hn.y(t=>{(0,$n.Xf)(n()).subscribe(t)})}var Pa=N(515),dn=N(727),Kn=N(4482);function kn(){return(0,Kn.e)((n,t)=>{let e=null;n._refCount++;const i=new un.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Pc extends Hn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Kn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new dn.w0;const e=this.getSubject();t.add(this.source.subscribe(new un.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=dn.w0.EMPTY)}return t}refCount(){return kn()(this)}}function Ln(n,t){return(0,Kn.e)((e,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe(new un.Q(i,m=>{null==r||r.unsubscribe();let y=0;const C=s++;(0,$n.Xf)(n(m,C)).subscribe(r=new un.Q(i,S=>i.next(t?t(m,S,C,y++):S),()=>{r=null,d()}))},()=>{c=!0,d()}))})}var hn=N(5698);function Rn(...n){const t=(0,Co.yG)(n);return(0,Kn.e)((e,i)=>{(t?kl(n,e,t):kl(n,e)).subscribe(i)})}function Eo(n,t,e,i,r){return(s,c)=>{let d=e,m=t,y=0;s.subscribe(new un.Q(c,C=>{const S=y++;m=d?n(m,C,S):(d=!0,C),i&&c.next(m)},r&&(()=>{d&&c.next(m),c.complete()})))}}function Ar(n,t){return(0,Kn.e)(Eo(n,t,arguments.length>=2,!0))}function zt(n,t){return(0,Kn.e)((e,i)=>{let r=0;e.subscribe(new un.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}function rs(n){return(0,Kn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new un.Q(e,void 0,void 0,c=>{s=(0,$n.Xf)(n(c,rs(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}var mn=N(5577),ss=N(576);function ws(n,t){return(0,ss.m)(t)?(0,mn.z)(n,t,1):(0,mn.z)(n,1)}function bn(n){return n<=0?()=>Pa.E:(0,Kn.e)((t,e)=>{let i=[];t.subscribe(new un.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Fc(n=ip){return(0,Kn.e)((t,e)=>{let i=!1;t.subscribe(new un.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function ip(){return new Oa}function rp(n){return(0,Kn.e)((t,e)=>{let i=!1;t.subscribe(new un.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Rl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zt((r,s)=>n(r,s,i)):bs.y,(0,hn.q)(1),e?rp(t):Fc(()=>new Oa))}var ci=N(8505);function Uu(n){return(0,Kn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ir{constructor(t,e){this.id=t,this.url=e}}class dh extends ir{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qn extends ir{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class So extends ir{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ol extends ir{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jg extends ir{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class op extends ir{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr extends ir{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Cs extends ir{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zu extends ir{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fa{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Na{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pl{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gu{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ap{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $u{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class qi{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ds(n){return new qi(n)}const La="ngNavigationCancelingError";function lp(n){const t=Error("NavigationCancelingError: "+n);return t[La]=!0,t}function fh(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Yi(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!qu(n[r],t[r]))return!1;return!0}function qu(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Nc(n){return Array.prototype.concat.apply([],n)}function Yu(n){return n.length>0?n[n.length-1]:null}function ni(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Di(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,xn.D)(Promise.resolve(n)):Ue(n)}const Bc={exact:function Wu(n,t,e){if(!$e(n.segments,t.segments)||!V(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Wu(n.children[i],t.children[i],e))return!1;return!0},subset:M},$s={exact:function(n,t){return Yi(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>qu(n[e],t[e]))},ignored:()=>!0};function Vc(n,t,e){return Bc[e.paths](n.root,t.root,e.matrixParams)&&$s[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function M(n,t,e){return O(n,t,t.segments,e)}function O(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!$e(r,e)||t.hasChildren()||!V(r,e,i))}if(n.segments.length===e.length){if(!$e(n.segments,e)||!V(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!M(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!($e(n.segments,r)&&V(n.segments,r,i)&&n.children[Pt])&&O(n.children[Pt],t,s,i)}}function V(n,t,e){return t.every((i,r)=>$s[e](n[r].parameters,i.parameters))}class Z{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ds(this.queryParams)),this._queryParamMap}toString(){return sr.serialize(this)}}class W{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ni(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bn(this)}}class Me{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ds(this.parameters)),this._parameterMap}toString(){return Zu(this)}}function $e(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class fn{}class rr{parse(t){const e=new dD(t);return new Z(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Fi(t.root,!0)}`,i=function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${yr(e)}=${yr(r)}`).join("&"):`${yr(e)}=${yr(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);var n;return`${e}${i}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const sr=new rr;function Bn(n){return n.segments.map(t=>Zu(t)).join("/")}function Fi(n,t){if(!n.hasChildren())return Bn(n);if(t){const e=n.children[Pt]?Fi(n.children[Pt],!1):"",i=[];return ni(n.children,(r,s)=>{s!==Pt&&i.push(`${s}:${Fi(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return ni(n.children,(i,r)=>{r===Pt&&(e=e.concat(t(i,r)))}),ni(n.children,(i,r)=>{r!==Pt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Pt?[Fi(n.children[Pt],!1)]:[`${r}:${Fi(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${Bn(n)}/${e[0]}`:`${Bn(n)}/(${e.join("//")})`}}function ea(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yr(n){return ea(n).replace(/%3B/gi,";")}function qs(n){return ea(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ta(n){return decodeURIComponent(n)}function Fl(n){return ta(n.replace(/\+/g,"%20"))}function Zu(n){return`${qs(n.path)}${function(n){return Object.keys(n).map(t=>`;${qs(t)}=${qs(n[t])}`).join("")}(n.parameters)}`}const Nl=/^[^\/()?;=#]+/;function na(n){const t=n.match(Nl);return t?t[0]:""}const Ny=/^[^=?&#]+/,ph=/^[^&#]+/;class dD{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new W([],{}):new W([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Pt]=new W(t,e)),i}parseSegment(){const t=na(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Me(ta(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=na(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=na(this.remaining);r&&(i=r,this.capture(i))}t[ta(e)]=ta(i)}parseQueryParam(t){const e=function(n){const t=n.match(Ny);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function(n){const t=n.match(ph);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Fl(e),s=Fl(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=na(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Pt);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[Pt]:new W([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class mh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=fp(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=fp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=pp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return pp(t,this._root).map(e=>e.value)}}function fp(n,t){if(n===t.value)return t;for(const e of t.children){const i=fp(n,e);if(i)return i}return null}function pp(n,t){if(n===t.value)return[t];for(const e of t.children){const i=pp(n,e);if(i.length)return i.unshift(t),i}return[]}class kr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ba(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class ia extends mh{constructor(t,e){super(t),this.snapshot=e,Qu(this,t)}toString(){return this.snapshot.toString()}}function Ku(n,t){const e=function(n,t){const c=new jc([],{},{},"",{},Pt,t,null,n.root,-1,{});return new gh("",new kr(c,[]))}(n,t),i=new Ci([new Me("",{})]),r=new Ci({}),s=new Ci({}),c=new Ci({}),d=new Ci(""),m=new Hc(i,r,c,d,s,Pt,t,e.root);return m.snapshot=e.root,new ia(new kr(m,[]),e)}class Hc{constructor(t,e,i,r,s,c,d,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(t=>Ds(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(t=>Ds(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ll(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class jc{constructor(t,e,i,r,s,c,d,m,y,C,S){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=m,this._urlSegment=y,this._lastPathIndex=C,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ds(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ds(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gh extends mh{constructor(t,e){super(e),this.url=t,Qu(this,e)}toString(){return Va(this._root)}}function Qu(n,t){t.value._routerState=n,t.children.forEach(e=>Qu(n,e))}function Va(n){const t=n.children.length>0?` { ${n.children.map(Va).join(", ")} } `:"";return`${n.value}${t}`}function _h(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Yi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Yi(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Yi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Yi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Xu(n,t){const e=Yi(n.params,t.params)&&function(n,t){return $e(n,t)&&n.every((e,i)=>Yi(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Xu(n.parent,t.parent))}function Ju(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ju(n,i,r);return Ju(n,i)})}(n,t,e);return new kr(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>Ju(n,d)),c}}const i=function(n){return new Hc(new Ci(n.url),new Ci(n.params),new Ci(n.queryParams),new Ci(n.fragment),new Ci(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Ju(n,s));return new kr(i,r)}}function ed(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zc(n){return"object"==typeof n&&null!=n&&n.outlets}function _p(n,t,e,i,r){let s={};return i&&ni(i,(c,d)=>{s[d]=Array.isArray(c)?c.map(m=>`${m}`):`${c}`}),new Z(e.root===n?t:td(e.root,n,t),s,r)}function td(n,t,e){const i={};return ni(n.children,(r,s)=>{i[s]=r===t?e:td(r,t,e)}),new W(n.segments,i)}class Ug{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ed(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(zc);if(r&&r!==Yu(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function zg(n,t,e){if(n||(n=new W([],{})),0===n.segments.length&&n.hasChildren())return vp(n,t,e);const i=function(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(zc(d))break;const m=`${d}`,y=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&y&&"object"==typeof y&&void 0===y.outlets){if(!Gc(m,y,c))return s;i+=2}else{if(!Gc(m,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new W(n.segments.slice(0,i.pathIndex),{});return s.children[Pt]=new W(n.segments.slice(i.pathIndex),n.children),vp(s,0,r)}return i.match&&0===r.length?new W(n.segments,{}):i.match&&!n.hasChildren()?Bl(n,t,e):i.match?vp(n,0,r):Bl(n,t,e)}function vp(n,t,e){if(0===e.length)return new W(n.segments,{});{const i=function(n){return zc(n[0])?n[0].outlets:{[Pt]:n}}(e),r={};return ni(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=zg(n.children[c],t,s))}),ni(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new W(n.segments,r)}}function Bl(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(zc(s)){const m=Gg(s.outlets);return new W(i,m)}if(0===r&&ed(e[0])){i.push(new Me(n.segments[t].path,Ws(e[0]))),r++;continue}const c=zc(s)?s.outlets[Pt]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&ed(d)?(i.push(new Me(c,Ws(d))),r+=2):(i.push(new Me(c,{})),r++)}return new W(i,{})}function Gg(n){const t={};return ni(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Bl(new W([],{}),0,e))}),t}function Ws(n){const t={};return ni(n,(e,i)=>t[i]=`${e}`),t}function Gc(n,t,e){return n==e.path&&Yi(t,e.parameters)}class bp{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),_h(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ba(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),ni(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ba(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ba(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ba(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new ap(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Pl(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(_h(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),_h(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),m=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=m,c.outlet&&c.outlet.activateWith(r,m),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Yg{constructor(t,e){this.routes=t,this.module=e}}function Vl(n){return"function"==typeof n}function Zs(n){return n instanceof Z}const $c=Symbol("INITIAL_VALUE");function Hl(){return Ln(n=>_r(n.map(t=>t.pipe((0,hn.q)(1),Rn($c)))).pipe(Ar((t,e)=>{let i=!1;return e.reduce((r,s,c)=>r!==$c?r:(s===$c&&(i=!0),i||!1!==s&&c!==e.length-1&&!Zs(s)?r:s),t)},$c),zt(t=>t!==$c),(0,Je.U)(t=>Zs(t)?t:!0===t),(0,hn.q)(1)))}class $y{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qc,this.attachRef=null}}class qc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new $y,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Cp=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||Pt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,m=new Wg(e,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qc),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Wg{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Hc?this.route:t===qc?this.childContexts:this.parent.get(t,e)}}let id=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[Cp],encapsulation:2}),n})();function Dp(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Zg(i,jl(t,i))}}function Zg(n,t){n.children&&Dp(n.children,t)}function jl(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Qn(n){const t=n.children&&n.children.map(Qn),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Pt&&(e.component=id),e}function xs(n){return n.outlet||Pt}function yh(n,t){const e=n.filter(i=>xs(i)===t);return e.push(...n.filter(i=>xs(i)!==t)),e}const bh={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ul(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},bh):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||fh)(e,n,t);if(!s)return Object.assign({},bh);const c={};ni(s.posParams,(m,y)=>{c[y]=m.path});const d=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function wh(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>rd(n,t,i)&&xs(i)!==Pt)}(n,e,i)){const c=new W(t,function(n,t,e,i){const r={};r[Pt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&xs(s)!==Pt){const c=new W([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[xs(s)]=c}return r}(n,t,i,new W(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>rd(n,t,i))}(n,e,i)){const c=new W(n.segments,function(n,t,e,i,r,s){const c={};for(const d of i)if(rd(n,e,d)&&!r[xs(d)]){const m=new W([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[xs(d)]=m}return Object.assign(Object.assign({},r),c)}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new W(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function rd(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Zy(n,t,e,i){return!!(xs(n)===i||i!==Pt&&rd(t,e,n))&&("**"===n.path||Ul(t,n,e).matched)}function Yc(n,t,e){return 0===t.length&&!n.children[e]}class Ei{constructor(t){this.segmentGroup=t||null}}class Ch{constructor(t){this.urlTree=t}}function sd(n){return new Hn.y(t=>t.error(new Ei(n)))}function Dh(n){return new Hn.y(t=>t.error(new Ch(n)))}function Ni(n){return new Hn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class xp{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=wh(this.urlTree.root,[],[],this.config).segmentGroup,e=new W(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Pt).pipe((0,Je.U)(s=>this.createUrlTree(Eh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rs(s=>{if(s instanceof Ch)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ei?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Pt).pipe((0,Je.U)(r=>this.createUrlTree(Eh(r),t.queryParams,t.fragment))).pipe(rs(r=>{throw r instanceof Ei?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new W([],{[Pt]:t}):t;return new Z(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Je.U)(s=>new W([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,xn.D)(r).pipe(ws(s=>{const c=i.children[s],d=yh(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,Je.U)(m=>({segment:m,outlet:s})))}),Ar((s,c)=>(s[c.outlet]=c.segment,s),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zt((r,s)=>n(r,s,i)):bs.y,bn(1),e?rp(t):Fc(()=>new Oa))}())}expandSegment(t,e,i,r,s,c){return(0,xn.D)(i).pipe(ws(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(rs(y=>{if(y instanceof Ei)return Ue(null);throw y}))),Rl(d=>!!d),rs((d,m)=>{if(d instanceof Oa||"EmptyError"===d.name){if(Yc(e,r,s))return Ue(new W([],{}));throw new Ei(e)}throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return Zy(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):sd(e):sd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Dh(s):this.lineralizeSegments(i,s).pipe((0,mn.z)(c=>{const d=new W(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:m,lastChild:y,positionalParamSegments:C}=Ul(e,r,s);if(!d)return sd(e);const S=this.applyRedirectCommands(m,r.redirectTo,C);return r.redirectTo.startsWith("/")?Dh(S):this.lineralizeSegments(r,S).pipe((0,mn.z)(A=>this.expandSegment(t,e,i,A.concat(s.slice(y)),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Ue(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,Je.U)(A=>(i._loadedConfig=A,new W(r,{})))):Ue(new W(r,{}));const{matched:c,consumedSegments:d,lastChild:m}=Ul(e,i,r);if(!c)return sd(e);const y=r.slice(m);return this.getChildConfig(t,i,r).pipe((0,mn.z)(S=>{const A=S.module,P=S.routes,{segmentGroup:H,slicedSegments:J}=wh(e,d,y,P),se=new W(H.segments,H.children);if(0===J.length&&se.hasChildren())return this.expandChildren(A,P,se).pipe((0,Je.U)(ct=>new W(d,ct)));if(0===P.length&&0===J.length)return Ue(new W(d,{}));const Ye=xs(i)===s;return this.expandSegment(A,se,P,J,Ye?Pt:s,!0).pipe((0,Je.U)(ut=>new W(d.concat(ut.segments),ut.children)))}))}getChildConfig(t,e,i){return e.children?Ue(new Yg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ue(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,mn.z)(r=>{return r?this.configLoader.load(t.injector,e).pipe((0,Je.U)(s=>(e._loadedConfig=s,s))):(n=e,new Hn.y(t=>t.error(lp(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):Ue(new Yg([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?Ue(r.map(c=>{const d=t.get(c);let m;if((n=d)&&Vl(n.canLoad))m=d.canLoad(e,i);else{if(!Vl(d))throw new Error("Invalid CanLoad guard");m=d(e,i)}var n;return Di(m)})).pipe(Hl(),(0,ci.b)(c=>{if(!Zs(c))return;const d=lp(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,Je.U)(c=>!0===c)):Ue(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ue(i);if(r.numberOfChildren>1||!r.children[Pt])return Ni(t.redirectTo);r=r.children[Pt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Z(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ni(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return ni(e.children,(d,m)=>{c[m]=this.createSegmentGroup(t,d,i,r)}),new W(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Eh(n){const t={};for(const i of Object.keys(n.children)){const s=Eh(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[Pt]){const t=n.children[Pt];return new W(n.segments.concat(t.segments),t.children)}return n}(new W(n.segments,t))}class Wc{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Sh{constructor(t,e){this.component=t,this.route=e}}function Kg(n,t,e){const i=n._root;return zl(i,t?t._root:null,e,[i.value])}function ad(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function zl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ba(t);return n.children.forEach(c=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const m=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!$e(n.url,t.url);case"pathParamsOrQueryParamsChange":return!$e(n.url,t.url)||!Yi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xu(n,t)||!Yi(n.queryParams,t.queryParams);default:return!Xu(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new Wc(i)):(s.data=c.data,s._resolvedData=c._resolvedData),zl(n,t,s.component?d?d.children:null:e,i,r),m&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Sh(d.outlet.component,c))}else c&&Gl(t,d,r),r.canActivateChecks.push(new Wc(i)),zl(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),ni(s,(c,d)=>Gl(c,e.getContext(d),r)),r}function Gl(n,t,e){const i=Ba(n),r=n.value;ni(i,(s,c)=>{Gl(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Sh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class Ap{}function xh(n){return new Hn.y(t=>t.error(n))}class kp{constructor(t,e,i,r,s,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const t=wh(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Pt);if(null===e)return null;const i=new jc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new kr(i,e),s=new gh(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=Ll(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const c=e.children[s],d=yh(t,s),m=this.processSegmentGroup(d,c,s);if(null===m)return null;i.push(...m)}const r=Jg(i);return r.sort((t,e)=>t.value.outlet===Pt?-1:e.value.outlet===Pt?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,i,r){for(const s of t){const c=this.processSegmentAgainstRoute(s,e,i,r);if(null!==c)return c}return Yc(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Zy(t,e,i,r))return null;let s,c=[],d=[];if("**"===t.path){const P=i.length>0?Yu(i).parameters:{};s=new jc(i,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ms(t),xs(t),t.component,t,Mh(e),$l(e)+i.length,sb(t))}else{const P=Ul(e,t,i);if(!P.matched)return null;c=P.consumedSegments,d=i.slice(P.lastChild),s=new jc(c,P.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ms(t),xs(t),t.component,t,Mh(e),$l(e)+c.length,sb(t))}const m=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:y,slicedSegments:C}=wh(e,c,d,m.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution);var n;if(0===C.length&&y.hasChildren()){const P=this.processChildren(m,y);return null===P?null:[new kr(s,P)]}if(0===m.length&&0===C.length)return[new kr(s,[])];const S=xs(t)===r,A=this.processSegment(m,y,C,S?Pt:r);return null===A?null:[new kr(s,A)]}}function Rp(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Jg(n){const t=[],e=new Set;for(const i of n){if(!Rp(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Jg(i.children);t.push(new kr(i.value,r))}return t.filter(i=>!e.has(i))}function Mh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function $l(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Ms(n){return n.data||{}}function sb(n){return n.resolve||{}}function Zc(n){return Ln(t=>{const e=n(t);return e?(0,xn.D)(e).pipe((0,Je.U)(()=>t)):Ue(t)})}class Yl extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ih=new o.OlP("ROUTES");class Ks{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,Je.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=s.create(t);return new Yg(Nc(c.injector.get(Ih,void 0,o.XFs.Self|o.XFs.Optional)).map(Qn),c)}),rs(s=>{throw e._loader$=void 0,s}));return e._loader$=new Pc(r,()=>new Ne.x).pipe(kn()),e._loader$}loadModuleFactory(t){return Di(t()).pipe((0,mn.z)(e=>e instanceof o.YKP?Ue(e):(0,xn.D)(this.compiler.compileModuleAsync(e))))}}class Ah{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Fp(n){throw n}function t_(n,t,e){return t.parse("/")}function Zl(n,t){return Ue(null)}const Np={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},n_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let as=(()=>{class n{constructor(e,i,r,s,c,d,m){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ne.x,this.errorHandler=Fp,this.malformedUriErrorHandler=t_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zl,afterPreactivation:Zl},this.urlHandlingStrategy=new Ah,this.routeReuseStrategy=new Yl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const S=c.get(o.R0b);this.isNgZoneEnabled=S instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=new Z(new W([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ks(c,d,A=>this.triggerEvent(new Fa(A)),A=>this.triggerEvent(new Na(A))),this.routerState=Ku(this.currentUrlTree,this.rootComponentType),this.transitions=new Ci({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(zt(r=>0!==r.id),(0,Je.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ln(r=>{let s=!1,c=!1;return Ue(r).pipe((0,ci.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ln(d=>{const m=this.browserUrlTree.toString(),y=!this.navigated||d.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return p(d.source)&&(this.browserUrlTree=d.extractedUrl),Ue(d).pipe(Ln(S=>{const A=this.transitions.getValue();return i.next(new dh(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),A!==this.transitions.getValue()?Pa.E:Promise.resolve(S)}),function(n,t,e,i){return Ln(r=>function(n,t,e,i,r){return new xp(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Je.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ci.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function(n,t,e,i,r){return(0,mn.z)(s=>function(n,t,e,i,r="emptyOnly",s="legacy"){try{const c=new kp(n,t,e,i,r,s).recognize();return null===c?xh(new Ap):Ue(c)}catch(c){return xh(c)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,Je.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ci.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(P,S)}this.browserUrlTree=S.urlAfterRedirects}const A=new jg(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(A)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:P,source:H,restoredState:J,extras:se}=d,Ye=new dh(A,this.serializeUrl(P),H,J);i.next(Ye);const nt=Ku(P,this.rootComponentType).snapshot;return Ue(Object.assign(Object.assign({},d),{targetSnapshot:nt,urlAfterRedirects:P,extras:Object.assign(Object.assign({},se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Pa.E}),Zc(d=>{const{targetSnapshot:m,id:y,extractedUrl:C,rawUrl:S,extras:{skipLocationChange:A,replaceUrl:P}}=d;return this.hooks.beforePreactivation(m,{navigationId:y,appliedUrlTree:C,rawUrlTree:S,skipLocationChange:!!A,replaceUrl:!!P})}),(0,ci.b)(d=>{const m=new op(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(m)}),(0,Je.U)(d=>Object.assign(Object.assign({},d),{guards:Kg(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function(n,t){return(0,mn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?Ue(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,xn.D)(n).pipe((0,mn.z)(r=>function(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ue(s.map(d=>{const m=ad(d,t,r);let y;if(function(n){return n&&Vl(n.canDeactivate)}(m))y=Di(m.canDeactivate(n,t,e,i));else{if(!Vl(m))throw new Error("Invalid CanDeactivate guard");y=Di(m(n,t,e,i))}return y.pipe(Rl())})).pipe(Hl()):Ue(!0)}(r.component,r.route,e,t,i)),Rl(r=>!0!==r,!0))}(c,i,r,n).pipe((0,mn.z)(d=>d&&function(n){return"boolean"==typeof n}(d)?function(n,t,e,i){return(0,xn.D)(t).pipe(ws(r=>kl(function(n,t){return null!==n&&t&&t(new hh(n)),Ue(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new Gu(n)),Ue(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>is(()=>Ue(c.guards.map(m=>{const y=ad(m,c.node,e);let C;if(function(n){return n&&Vl(n.canActivateChild)}(y))C=Di(y.canActivateChild(i,n));else{if(!Vl(y))throw new Error("Invalid CanActivateChild guard");C=Di(y(i,n))}return C.pipe(Rl())})).pipe(Hl())));return Ue(s).pipe(Hl())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ue(!0);const r=i.map(s=>is(()=>{const c=ad(s,t,e);let d;if(function(n){return n&&Vl(n.canActivate)}(c))d=Di(c.canActivate(t,n));else{if(!Vl(c))throw new Error("Invalid CanActivate guard");d=Di(c(t,n))}return d.pipe(Rl())}));return Ue(r).pipe(Hl())}(n,r.route,e))),Rl(r=>!0!==r,!0))}(i,s,n,t):Ue(d)),(0,Je.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,ci.b)(d=>{if(Zs(d.guardsResult)){const y=lp(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw y.url=d.guardsResult,y}const m=new vr(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(m)}),zt(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),Zc(d=>{if(d.guards.canActivateChecks.length)return Ue(d).pipe((0,ci.b)(m=>{const y=new Cs(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}),Ln(m=>{let y=!1;return Ue(m).pipe(function(n,t){return(0,mn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ue(e);let s=0;return(0,xn.D)(r).pipe(ws(c=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return Ue({});const s={};return(0,xn.D)(r).pipe((0,mn.z)(c=>function(n,t,e,i){const r=ad(n,t,i);return Di(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,ci.b)(d=>{s[c]=d}))),bn(1),(0,mn.z)(()=>Object.keys(s).length===r.length?Ue(s):Pa.E))}(n._resolve,n,t,i).pipe((0,Je.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Ll(n,e).resolve),null)))}(c.route,i,n,t)),(0,ci.b)(()=>s++),bn(1),(0,mn.z)(c=>s===r.length?Ue(e):Pa.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ci.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,ci.b)(m=>{const y=new zu(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}))}),Zc(d=>{const{targetSnapshot:m,id:y,extractedUrl:C,rawUrl:S,extras:{skipLocationChange:A,replaceUrl:P}}=d;return this.hooks.afterPreactivation(m,{navigationId:y,appliedUrlTree:C,rawUrlTree:S,skipLocationChange:!!A,replaceUrl:!!P})}),(0,Je.U)(d=>{const m=function(n,t,e){const i=Ju(n,t._root,e?e._root:void 0);return new ia(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:m})}),(0,ci.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,Je.U)(i=>(new bp(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,ci.b)({next(){s=!0},complete(){s=!0}}),Uu(()=>{var d;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),rs(d=>{if(c=!0,function(n){return n&&n[La]}(d)){const m=Zs(d.url);m||(this.navigated=!0,this.restoreHistory(r,!0));const y=new So(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(y),m?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||p(r.source)};this.scheduleNavigation(C,"imperative",null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const m=new Ol(r.id,this.serializeUrl(r.extractedUrl),d);i.next(m);try{r.resolve(this.errorHandler(d))}catch(y){r.reject(y)}}return Pa.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(c){const m=Object.assign({},c);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Dp(e),this.config=e.map(Qn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:m}=i,y=r||this.routerState.root,C=m?this.currentUrlTree.fragment:c;let S=null;switch(d){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=s||null}return null!==S&&(S=this.removeEmptyProps(S)),function(n,t,e,i,r){if(0===e.length)return _p(t.root,t.root,t,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ug(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return ni(s.outlets,(m,y)=>{d[y]="string"==typeof m?m.split("/"):m}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,m)=>{0==m&&"."===d||(0==m&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Ug(e,t,i)}(e);if(s.toRoot())return _p(t.root,new W([],{}),t,i,r);const c=function(n,t,e){if(n.isAbsolute)return new vh(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new vh(s,s===t.root,0)}const i=ed(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new vh(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),d=c.processChildren?vp(c.segmentGroup,c.index,s.commands):zg(c.segmentGroup,c.index,s.commands);return _p(c.segmentGroup,d,t,i,r)}(y,this.currentUrlTree,e,S,null!=C?C:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Zs(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},Np):!1===i?Object.assign({},n_):i,Zs(e))return Vc(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Vc(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new qn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){var d,m,y;if(this.disposed)return Promise.resolve(!1);const C=this.transitions.value,S=p(i)&&C&&!p(C.source),A=C.rawUrl.toString()===e.toString(),P=C.id===(null===(d=this.currentNavigation)||void 0===d?void 0:d.id);if(S&&A&&P)return Promise.resolve(!0);let J,se,Ye;c?(J=c.resolve,se=c.reject,Ye=c.promise):Ye=new Promise((ct,In)=>{J=ct,se=In});const nt=++this.navigationId;let ut;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),ut=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):ut=0,this.setTransition({id:nt,targetPageId:ut,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:J,reject:se,promise:Ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ye.catch(ct=>Promise.reject(ct))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new So(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function p(n){return"imperative"!==n}let g=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new Ne.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:T(this.skipLocationChange),replaceUrl:T(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:T(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(as),o.Y36(Hc),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function T(n){return""===n||!!n}class ne{}class ke{preload(t,e){return Ue(null)}}let st=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new Ks(r,i,m=>e.triggerEvent(new Fa(m)),m=>e.triggerEvent(new Na(m)))}setUpPreloading(){this.subscription=this.router.events.pipe(zt(e=>e instanceof qn),ws(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,xn.D)(r).pipe((0,Jo.J)(),(0,Je.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Ue(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,mn.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(as),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),lt=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof dh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qn&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof $u&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new $u(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const jn=new o.OlP("ROUTER_CONFIGURATION"),Mo=new o.OlP("ROUTER_FORROOT_GUARD"),To=[Ge,{provide:fn,useClass:rr},{provide:as,useFactory:function(n,t,e,i,r,s,c={},d,m){const y=new as(null,n,t,e,i,r,Nc(s));return d&&(y.urlHandlingStrategy=d),m&&(y.routeReuseStrategy=m),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,y),c.enableTracing&&y.events.subscribe(C=>{var S,A;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(A=console.groupEnd)||void 0===A||A.call(console)}),y},deps:[fn,qc,Ge,o.zs3,o.Sil,Ih,jn,[class{},new o.FiY],[class{},new o.FiY]]},qc,{provide:Hc,useFactory:function(n){return n.routerState.root},deps:[as]},st,ke,class{preload(t,e){return e().pipe(rs(()=>Ue(null)))}},{provide:jn,useValue:{enableTracing:!1}}];function kh(){return new o.PXZ("Router",as)}let Rh=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[To,Oh(e),{provide:Mo,useFactory:r_,deps:[[as,new o.FiY,new o.tp0]]},{provide:jn,useValue:i||{}},{provide:le,useFactory:Kc,deps:[ae,[new o.tBr(ce),new o.FiY],jn]},{provide:lt,useFactory:i_,deps:[as,Kf,jn]},{provide:ne,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:ke},{provide:o.PXZ,multi:!0,useFactory:kh},[Qc,{provide:o.ip1,multi:!0,useFactory:Fh,deps:[Qc]},{provide:ob,useFactory:s_,deps:[Qc]},{provide:o.tb,multi:!0,useExisting:ob}]]}}static forChild(e){return{ngModule:n,providers:[Oh(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Mo,8),o.LFG(as,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function i_(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new lt(n,t,e)}function Kc(n,t,e={}){return e.useHash?new ve(n,t):new Ee(n,t)}function r_(n){return"guarded"}function Oh(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:Ih,multi:!0,useValue:n}]}let Qc=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ne.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(as),c=this.injector.get(jn);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Ue(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(jn),r=this.injector.get(st),s=this.injector.get(lt),c=this.injector.get(as),d=this.injector.get(o.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Fh(n){return n.appInitializer.bind(n)}function s_(n){return n.bootstrapListener.bind(n)}const ob=new o.OlP("Router Initializer"),lb=[];let Vp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Rh.forRoot(lb)],Rh]}),n})();function Hp(n){return n&&"function"==typeof n.connect}class mD{applyChanges(t,e,i,r,s){t.forEachOperation((c,d,m)=>{let y,C;if(null==c.previousIndex){const S=i(c,d,m);y=e.createEmbeddedView(S.templateRef,S.context,S.index),C=1}else null==m?(e.remove(d),C=3):(y=e.get(d),e.move(y,m),C=2);s&&s({context:null==y?void 0:y.context,operation:C,record:c})})}detach(){}}class Xc{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ne.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let gD=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nh=new o.OlP("_ViewRepeater");function tt(n){return null!=n&&"false"!=`${n}`}function ii(n,t=0){return _D(n)?Number(n):t}function _D(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function o_(n){return Array.isArray(n)?n:[n]}function Mn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Wi(n){return n instanceof o.SBq?n.nativeElement:n}var db=N(5032);function Tt(n){return(0,Kn.e)((t,e)=>{(0,$n.Xf)(n).subscribe(new un.Q(e,()=>e.complete(),db.Z)),!e.closed&&t.subscribe(e)})}const mT=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,o.f3M)(Q)}}),gT=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let a_,Ts=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?gT.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(mT,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ud=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();try{a_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){a_=!1}let dd,jp,Xl,yD,Li=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===th}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!a_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function Qs(n){return function(){if(null==dd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>dd=!0}))}finally{dd=dd||!1}return dd}()?n:!!n.capture}function vT(){if(null==Xl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xl=!1,Xl;if("scrollBehavior"in document.documentElement.style)Xl=!0;else{const n=Element.prototype.scrollTo;Xl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Xl}function Lh(){if("object"!=typeof document||!document)return 0;if(null==jp){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),jp=0,0===n.scrollLeft&&(n.scrollLeft=1,jp=0===n.scrollLeft?1:2),n.remove()}return jp}function hd(n){if(function(){if(null==yD){const n="undefined"!=typeof document?document.head:null;yD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return yD}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Up(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Is(n){return n.composedPath?n.composedPath()[0]:n.target}function zp(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var nF=N(1144);const yT=["addListener","removeListener"],bT=["addEventListener","removeEventListener"],wT=["on","off"];function Jl(n,t,e,i){if((0,ss.m)(e)&&(i=e,e=void 0),i)return Jl(n,t,e).pipe(Xo(i));const[r,s]=function(n){return(0,ss.m)(n.addEventListener)&&(0,ss.m)(n.removeEventListener)}(n)?bT.map(c=>d=>n[c](t,d,e)):function(n){return(0,ss.m)(n.addListener)&&(0,ss.m)(n.removeListener)}(n)?yT.map(fb(n,t)):function(n){return(0,ss.m)(n.on)&&(0,ss.m)(n.off)}(n)?wT.map(fb(n,t)):[];if(!r&&(0,nF.z)(n))return(0,mn.z)(c=>Jl(c,t,e))((0,$n.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Hn.y(c=>{const d=(...m)=>c.next(1<m.length?m:m[0]);return r(d),()=>s(d)})}function fb(n,t){return e=>i=>n[e](t,i)}var pb=N(4408);const Bh={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Bh;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new dn.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Bh;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Bh;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var c_=N(7565);const ET=new class extends c_.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends pb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Bh.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Bh.cancelAnimationFrame(e),t._scheduled=void 0)}});let bD,oF=1;const mb={};function ST(n){return n in mb&&(delete mb[n],!0)}const aF={setImmediate(n){const t=oF++;return mb[t]=!0,bD||(bD=Promise.resolve()),bD.then(()=>ST(t)&&n()),t},clearImmediate(n){ST(n)}},{setImmediate:lF,clearImmediate:Jc}=aF,Vh={setImmediate(...n){const{delegate:t}=Vh;return((null==t?void 0:t.setImmediate)||lF)(...n)},clearImmediate(n){const{delegate:t}=Vh;return((null==t?void 0:t.clearImmediate)||Jc)(n)},delegate:void 0};new class extends c_.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends pb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Vh.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Vh.clearImmediate(e),t._scheduled=void 0)}});var ec=N(4986),eu=N(3532);function _b(n=0,t,e=ec.P){let i=-1;return null!=t&&((0,eu.K)(t)?e=t:i=t),new Hn.y(r=>{let s=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function u_(n,t=ec.P){return function(n){return(0,Kn.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const y=r;r=null,e.next(y)}c&&e.complete()},m=()=>{s=null,c&&e.complete()};t.subscribe(new un.Q(e,y=>{i=!0,r=y,s||(0,$n.Xf)(n()).subscribe(s=new un.Q(e,d,m))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>_b(n,t))}let Ha=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ne.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Hn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(u_(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ue()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(zt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Wi(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Jl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Li),o.LFG(Q,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tu=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Ne.x,this._elementScrolled=new Hn.y(c=>this.ngZone.runOutsideAngular(()=>Jl(this.elementRef.nativeElement,"scroll").pipe(Tt(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Lh()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Lh()?e.left=e.right:1==Lh()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;vT()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==Lh()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==Lh()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ha),o.Y36(o.R0b),o.Y36(Ts,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),fd=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ne.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(u_(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Li),o.LFG(o.R0b),o.LFG(Q,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),h_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ud,Kl,Xs],ud,Xs]}),n})();const SD=[[["caption"]],[["colgroup"],["col"]]],hF=["caption","colgroup, col"];function yb(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=tt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const pd=new o.OlP("CDK_TABLE");let jh=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),or=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),f_=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class PT{}const fF=yb(PT);let nu=(()=>{class n extends fF{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=tt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(pd,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,jh,5),o.Suo(r,or,5),o.Suo(r,f_,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.cell=s.first),o.iGM(s=o.CRH())&&(i.headerCell=s.first),o.iGM(s=o.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})();class p_{constructor(t,e){const i=e.nativeElement.classList;for(const r of t._columnCssClassName)i.add(r)}}let TD=(()=>{class n extends p_{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nu),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),n})(),$p=(()=>{class n extends p_{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nu),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),n})();class bb{constructor(){this.tasks=[],this.endTasks=[]}}const wb=new o.OlP("_COALESCED_STYLE_SCHEDULER");let AD=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ne.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new bb,this._getScheduleObservable().pipe(Tt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new bb;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,xn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,hn.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),m_=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof qp?e.headerCell.template:this instanceof Uh?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();class FT extends m_{}const kD=yb(FT);let qp=(()=>{class n extends kD{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(pd,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})();class NT extends m_{}const RD=yb(NT);let Uh=(()=>{class n extends RD{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(pd,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),n})(),g_=(()=>{class n extends m_{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(pd,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),n})(),ar=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),Yp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[ar],encapsulation:2}),n})(),Db=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[ar],encapsulation:2}),n})(),Eb=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const Sb=["top","bottom","left","right"];class LT{constructor(t,e,i,r,s=!0,c=!0,d){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=c,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(A=>A)&&!i.some(A=>A))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],c=s.children.length,d=this._getCellWidths(s,r),m=this._getStickyStartColumnPositions(d,e),y=this._getStickyEndColumnPositions(d,i),C=e.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const A="rtl"===this.direction,P=A?"right":"left",H=A?"left":"right";for(const J of t)for(let se=0;se<c;se++){const Ye=J.children[se];e[se]&&this._addStickyStyle(Ye,P,m[se],se===C),i[se]&&this._addStickyStyle(Ye,H,y[se],se===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===C?[]:d.slice(0,C+1).map((J,se)=>e[se]?J:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:d.slice(S).map((J,se)=>i[se+S]?J:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,c=[],d=[],m=[];for(let C=0,S=0;C<r.length;C++){if(!s[C])continue;c[C]=S;const A=r[C];m[C]=this._isNativeHtmlTable?Array.from(A.children):[A];const P=A.getBoundingClientRect().height;S+=P,d[C]=P}const y=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var C,S;for(let A=0;A<r.length;A++){if(!s[A])continue;const P=c[A],H=A===y;for(const J of m[A])this._addStickyStyle(J,i,P,H)}"top"===i?null===(C=this._positionListener)||void 0===C||C.stickyHeaderRowsUpdated({sizes:d,offsets:c,elements:m}):null===(S=this._positionListener)||void 0===S||S.stickyFooterRowsUpdated({sizes:d,offsets:c,elements:m})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);Sb.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of Sb)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const Wp=new o.OlP("CDK_SPL");let Zp=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),__=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),v_=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),zh=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Kp=(()=>{class n{constructor(e,i,r,s,c,d,m,y,C,S,A){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=m,this._viewRepeater=y,this._coalescedStyleScheduler=C,this._viewportRuler=S,this._stickyPositioningListener=A,this._onDestroy=new Ne.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new Ci({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=tt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=tt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Tt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Hp(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,c)=>{this._addStickyColumnStyles([s],this._headerRowDefs[c])}),this._rowDefs.forEach(s=>{const c=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===s&&c.push(i[d]);this._addStickyColumnStyles(c,s)}),r.forEach((s,c)=>{this._addStickyColumnStyles([s],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const c=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let d=0;d<c.length;d++){let m=c[d];const y=this._cachedRenderRowsMap.get(m.data);y.has(m.rowDef)?y.get(m.rowDef).push(m):y.set(m.rowDef,[m]),e.push(m)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(c=>{const d=r&&r.has(c)?r.get(c):[];if(d.length){const m=d.shift();return m.dataIndex=i,m}return{data:e,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Qp(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Qp(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Qp(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Qp(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(c,d)=>c||!!d.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],Hp(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Hp(this.dataSource)?e=this.dataSource.connect(this):function(n){return!!n&&(n instanceof Hn.y||(0,ss.m)(n.lift)&&(0,ss.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ue(this.dataSource)),this._renderChangeSubscription=e.pipe(Tt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),s=r.map(d=>d.sticky),c=r.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(c=>c.when&&c.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const c=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),c}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))ar.mostRecentCellOutlet&&ar.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const c=e.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const c of r.outlets)s.appendChild(c.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new LT(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ue()).pipe(Tt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),c=s.rootNodes[0];1===s.rootNodes.length&&(null==c?void 0:c.nodeType)===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(Ts,8),o.Y36(Q),o.Y36(Li),o.Y36(Nh),o.Y36(wb),o.Y36(fd),o.Y36(Wp,12))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Eb,5),o.Suo(r,nu,5),o.Suo(r,g_,5),o.Suo(r,qp,5),o.Suo(r,Uh,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._noDataRow=s.first),o.iGM(s=o.CRH())&&(i._contentColumnDefs=s),o.iGM(s=o.CRH())&&(i._contentRowDefs=s),o.iGM(s=o.CRH())&&(i._contentHeaderRowDefs=s),o.iGM(s=o.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(Zp,7),o.Gf(__,7),o.Gf(v_,7),o.Gf(zh,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._rowOutlet=r.first),o.iGM(r=o.CRH())&&(i._headerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._footerRowOutlet=r.first),o.iGM(r=o.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:pd,useExisting:n},{provide:Nh,useClass:mD},{provide:wb,useClass:AD},{provide:Wp,useValue:null}])],ngContentSelectors:hF,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(SD),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[__,Zp,zh,v_],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function Qp(n,t){return n.concat(Array.from(t))}let Ib=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[h_]]}),n})();function br(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function um(n,t=ec.z){return(0,Kn.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function m(){const y=c+n,C=t.now();if(C<y)return r=this.schedule(void 0,y-C),void i.add(r);d()}e.subscribe(new un.Q(i,y=>{s=y,c=t.now(),r||(r=t.schedule(m,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function _I(n){return zt((t,e)=>n<=e)}function $h(n,t=bs.y){return n=null!=n?n:qh,(0,Kn.e)((e,i)=>{let r,s=!0;e.subscribe(new un.Q(i,c=>{const d=t(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function qh(n,t){return n===t}let WD=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZD=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Wi(e);return new Hn.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ne.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(WD))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lb=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=tt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ii(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(um(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ZD),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Yh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[WD]}),n})();function C_(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const QD="cdk-describedby-message-container",XD="cdk-describedby-message",D_="cdk-describedby-host";let yI=0;const oa=new Map;let Js=null,JD=(()=>{class n{constructor(e){this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=E_(i,r);"string"!=typeof i?(S_(i),oa.set(s,{messageElement:i,referenceCount:0})):oa.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=E_(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const c=oa.get(s);c&&0===c.referenceCount&&this._deleteMessageElement(s)}Js&&0===Js.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${D_}]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(D_);Js&&this._deleteMessagesContainer(),oa.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");S_(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),Js.appendChild(r),oa.set(E_(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){var i;const r=oa.get(e);null===(i=null==r?void 0:r.messageElement)||void 0===i||i.remove(),oa.delete(e)}_createMessagesContainer(){if(!Js){const e=this._document.getElementById(QD);null==e||e.remove(),Js=this._document.createElement("div"),Js.id=QD,Js.style.visibility="hidden",Js.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Js)}}_deleteMessagesContainer(){Js&&(Js.remove(),Js=null)}_removeCdkDescribedByReferenceIds(e){const i=C_(e,"aria-describedby").filter(r=>0!=r.indexOf(XD));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=oa.get(i);(function(n,t,e){const i=C_(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(D_,""),r.referenceCount++}_removeMessageReference(e,i){const r=oa.get(i);r.referenceCount--,function(n,t,e){const r=C_(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(D_)}_isElementDescribedByMessage(e,i){const r=C_(e,"aria-describedby"),s=oa.get(i),c=s&&s.messageElement.id;return!!c&&-1!=r.indexOf(c)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E_(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function S_(n){n.id||(n.id=`${XD}-${yI++}`)}class bI{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ne.x,this._typeaheadSubscription=dn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ne.x,this.change=new Ne.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ci.b)(e=>this._pressedLetters.push(e)),um(t),zt(()=>this._pressedLetters.length>0),(0,Je.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||br(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class Bb extends bI{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Vb extends bI{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let _d=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===nE(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=nE(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||CI(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Li))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CI(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function nE(n){if(!CI(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class rE{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,hn.q)(1)).subscribe(t)}}let x_=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new rE(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_d),o.LFG(o.R0b),o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function M_(n){return 0===n.offsetX&&0===n.offsetY}function hm(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const aE=new o.OlP("cdk-input-modality-detector-options"),xI={ignoreKeys:[18,17,224,91,16]},vd=Qs({passive:!0,capture:!0});let lE=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Ci(null),this._lastTouchMs=0,this._onKeydown=c=>{var d,m;(null===(m=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===m?void 0:m.some(y=>y===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Is(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(M_(c)?"keyboard":"mouse"),this._mostRecentTarget=Is(c))},this._onTouchstart=c=>{hm(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Is(c))},this._options=Object.assign(Object.assign({},xI),s),this.modalityDetected=this._modality.pipe(_I(1)),this.modalityChanged=this.modalityDetected.pipe($h()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,vd),r.addEventListener("mousedown",this._onMousedown,vd),r.addEventListener("touchstart",this._onTouchstart,vd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,vd),document.removeEventListener("mousedown",this._onMousedown,vd),document.removeEventListener("touchstart",this._onTouchstart,vd))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Li),o.LFG(o.R0b),o.LFG(Q),o.LFG(aE,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yb=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),uE=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let dE=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(d=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,d(),"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Yb,8),o.LFG(o.R0b),o.LFG(Q),o.LFG(uE,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hE=new o.OlP("cdk-focus-monitor-default-options"),fm=Qs({passive:!0,capture:!0});let Io=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ne.x,this._rootNodeFocusAndBlurListener=d=>{const m=Is(d),y="focus"===d.type?this._onFocus:this._onBlur;for(let C=m;C;C=C.parentElement)y.call(this,d,C)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(e,i=!1){const r=Wi(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ue(null);const s=hd(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new Ne.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Wi(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Wi(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,m])=>this._originChanged(d,i,m)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Is(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,fm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,fm)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Tt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,fm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,fm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Li),o.LFG(lE),o.LFG(Q,8),o.LFG(hE,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const II="cdk-high-contrast-black-on-white",fE="cdk-high-contrast-white-on-black",Wb="cdk-high-contrast-active";let Zb=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Wb),e.remove(II),e.remove(fE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Wb),e.add(II)):2===i&&(e.add(Wb),e.add(fE))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Li),o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pm=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Zb))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Kl,Yh]]}),n})();class Bi{}const ic="*";function ui(n,t){return{type:7,name:n,definitions:t,options:{}}}function Kt(n,t=null){return{type:4,styles:t,timings:n}}function Kb(n,t=null){return{type:2,steps:n,options:t}}function Ze(n){return{type:6,styles:n,offset:null}}function It(n,t,e){return{type:0,name:n,styles:t,options:e}}function yd(n){return{type:5,steps:n}}function Yt(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function mE(n=null){return{type:9,options:n}}function RI(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function T_(n){Promise.resolve(null).then(n)}class cs{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){T_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class _E{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?T_(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function aa(){return"undefined"!=typeof window&&void 0!==window.document}function eo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function lr(n){switch(n.length){case 0:return new cs;case 1:return n[0];default:return new _E(n)}}function Xb(n,t,e,i,r={},s={}){const c=[],d=[];let m=-1,y=null;if(i.forEach(C=>{const S=C.offset,A=S==m,P=A&&y||{};Object.keys(C).forEach(H=>{let J=H,se=C[H];if("offset"!==H)switch(J=t.normalizePropertyName(J,c),se){case"!":se=r[H];break;case ic:se=s[H];break;default:se=t.normalizeStyleValue(H,J,se,c)}P[J]=se}),A||d.push(P),y=P,m=S}),c.length){const C="\n - ";throw new Error(`Unable to animate due to the following errors:${C}${c.join(C)}`)}return d}function I_(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Jb(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Jb(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Jb(e,"destroy",n)))}}function Jb(n,t,e){const i=e.totalTime,s=e0(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function e0(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function to(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function vE(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let mm=(n,t)=>!1,Wh=(n,t,e)=>[];(eo()||"undefined"!=typeof Element)&&(mm=aa()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),Wh=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let bd=null,t0=!1;function A_(n){bd||(bd=("undefined"!=typeof document?document.body:null)||{},t0=!!bd.style&&"WebkitAppearance"in bd.style);let t=!0;return bd.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in bd.style,!t&&t0&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in bd.style)),t}const n0=mm,R_=Wh;function r0(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let O_=(()=>{class n{validateStyleProperty(e){return A_(e)}matchesElement(e,i){return!1}containsElement(e,i){return n0(e,i)}query(e,i,r){return R_(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],m){return new cs(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Zh=(()=>{class n{}return n.NOOP=new O_,n})();const P_="ng-enter",gm="ng-leave",_m="ng-trigger",vm=".ng-trigger",o0="ng-animating",F_=".ng-animating";function wd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:a0(parseFloat(t[1]),t[2])}function a0(n,t){return"s"===t?1e3*n:n}function N_(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=a0(parseFloat(d[1]),d[2]);const m=d[3];null!=m&&(s=a0(parseFloat(m),d[4]));const y=d[5];y&&(c=y)}else r=n;if(!e){let d=!1,m=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),d=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),d=!0),d&&t.splice(m,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:c}}(n,t,e)}function Kh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function ou(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Kh(n,e);return e}function DE(n,t,e){return e?t+":"+e+";":""}function EE(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=DE(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=DE(0,ME(e),n.style[e]));n.setAttribute("style",t)}function za(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=V_(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),eo()&&EE(n))}function Cd(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=V_(e);n.style[i]=""}),eo()&&EE(n))}function ym(n){return Array.isArray(n)?1==n.length?n[0]:Kb(n):n}const l0=new RegExp("{{\\s*(.+?)\\s*}}","g");function SE(n){let t=[];if("string"==typeof n){let e;for(;e=l0.exec(n);)t.push(e[1]);l0.lastIndex=0}return t}function L_(n,t,e){const i=n.toString(),r=i.replace(l0,(s,c)=>{let d=t[c];return t.hasOwnProperty(c)||(e.push(`Please provide a value for the animation param ${c}`),d=""),d.toString()});return r==i?n:r}function B_(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const xE=/-+([a-z0-9])/g;function V_(n){return n.replace(xE,(...t)=>t[1].toUpperCase())}function ME(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function c0(n,t){return 0===n||0===t}function u0(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],c=[];if(i.forEach(d=>{s.hasOwnProperty(d)||c.push(d),s[d]=e[d]}),c.length)for(var r=1;r<t.length;r++){let d=t[r];c.forEach(function(m){d[m]=H_(n,m)})}}return t}function As(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function H_(n,t){return window.getComputedStyle(n)[t]}function TE(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const m=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],s=i[2],c=i[3];t.push(IE(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(IE(c,r))}(i,e,t)):e.push(n),e}const Ga=new Set(["true","1"]),j_=new Set(["false","0"]);function IE(n,t){const e=Ga.has(n)||j_.has(n),i=Ga.has(t)||j_.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?Ga.has(n):j_.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Ga.has(t):j_.has(t)),c&&d}}const eN=new RegExp("s*:selfs*,?","g");function wm(n,t,e){return new AE(n).build(t,e)}class AE{constructor(t){this._driver=t}build(t,e){const i=new Ct(e);return this._resetContextStyleTimingState(i),As(this,ym(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const m=d,y=m.name;y.toString().split(/\s*,\s*/).forEach(C=>{m.name=C,s.push(this.visitState(m,e))}),m.name=y}else if(1==d.type){const m=this.visitTransition(d,e);i+=m.queryCount,r+=m.depCount,c.push(m)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};if(i.styles.forEach(d=>{if(U_(d)){const m=d;Object.keys(m).forEach(y=>{SE(m[y]).forEach(C=>{c.hasOwnProperty(C)||s.add(C)})})}}),s.size){const d=B_(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${d.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=As(this,ym(t.animation),e);return{type:1,matchers:TE(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:$a(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>As(this,i,e)),options:$a(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=As(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:$a(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return f0(N_(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=f0(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||N_(i,t),f0(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Ze({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const y={};i.easing&&(y.easing=i.easing),c=Ze(y)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(c,e);m.isEmptyStep=d,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==ic?i.push(c):e.errors.push(`The provided style string value ${c} is not allowed.`):i.push(c)}):i.push(t.styles);let r=!1,s=null;return i.forEach(c=>{if(U_(c)){const d=c,m=d.easing;if(m&&(s=m,delete d.easing),!r)for(let y in d)if(d[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(d=>{if(!this._driver.validateStyleProperty(d))return void e.errors.push(`The provided animation property "${d}" is not a supported CSS property for animations`);const m=e.collectedStyles[e.currentQuerySelector],y=m[d];let C=!0;y&&(s!=r&&s>=y.startTime&&r<=y.endTime&&(e.errors.push(`The CSS property "${d}" that exists between the times of "${y.startTime}ms" and "${y.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),C=!1),s=y.startTime),C&&(m[d]={startTime:s,endTime:r}),e.options&&function(n,t,e){const i=t.params||{},r=SE(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(c[d],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const c=[];let d=!1,m=!1,y=0;const C=t.steps.map(Ye=>{const nt=this._makeStyleAst(Ye,e);let ut=null!=nt.offset?nt.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(U_(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(U_(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(nt.styles),ct=0;return null!=ut&&(s++,ct=nt.offset=ut),m=m||ct<0||ct>1,d=d||ct<y,y=ct,c.push(ct),nt});m&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),d&&e.errors.push("Please ensure that all keyframe offsets are in order");const S=t.steps.length;let A=0;s>0&&s<S?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(A=1/(S-1));const P=S-1,H=e.currentTime,J=e.currentAnimateTimings,se=J.duration;return C.forEach((Ye,nt)=>{const ut=A>0?nt==P?1:A*nt:c[nt],ct=ut*se;e.currentTime=H+J.delay+ct,J.duration=ct,this._validateStyleAst(Ye,e),Ye.offset=ut,i.styles.push(Ye)}),i}visitReference(t,e){return{type:8,animation:As(this,ym(t.animation),e),options:$a(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:$a(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:$a(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(eN,"")),n=n.replace(/@\*/g,vm).replace(/@\w+/g,e=>vm+"-"+e.substr(1)).replace(/:animating/g,F_),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,to(e.collectedStyles,e.currentQuerySelector,{});const d=As(this,ym(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:$a(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:N_(t.timings,e.errors,!0);return{type:12,animation:As(this,ym(t.animation),e),timings:i,options:null}}}class Ct{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function U_(n){return!Array.isArray(n)&&"object"==typeof n}function $a(n){return n?(n=Kh(n)).params&&(n.params=function(n){return n?Kh(n):null}(n.params)):n={},n}function f0(n,t,e){return{duration:n,delay:t,easing:e}}function Qh(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class Ed{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const RE=new RegExp(":enter","g"),VI=new RegExp(":leave","g");function z_(n,t,e,i,r,s={},c={},d,m,y=[]){return(new OE).buildKeyframes(n,t,e,i,r,s,c,d,m,y)}class OE{buildKeyframes(t,e,i,r,s,c,d,m,y,C=[]){y=y||new Ed;const S=new G_(t,e,y,r,s,C,[]);S.options=m,S.currentTimeline.setStyles([c],null,S.errors,m),As(this,i,S);const A=S.timelines.filter(P=>P.containsAnimation());if(A.length&&Object.keys(d).length){const P=A[A.length-1];P.allowOnlyTimelineStyles()||P.setStyles([d],null,S.errors,m)}return A.length?A.map(P=>P.buildKeyframes()):[Qh(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?wd(i.duration):null,d=null!=i.delay?wd(i.delay):null;return 0!==c&&t.forEach(m=>{const y=e.appendInstructionToTimeline(m,c,d);s=Math.max(s,y.duration+y.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),As(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Cm);const c=wd(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>As(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?wd(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),As(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return N_(e.params?L_(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(m=>{d.forwardTime((m.offset||0)*s),d.setStyles(m.styles,m.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?wd(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cm);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let m=null;d.forEach((y,C)=>{e.currentQueryIndex=C;const S=e.createSubContext(t.options,y);s&&S.delayNextStep(s),y===e.element&&(m=S.currentTimeline),As(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let m=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=d-m;break;case"full":m=i.currentStaggerTime}const C=e.currentTimeline;m&&C.delayNextStep(m);const S=C.currentTime;As(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const Cm={};class G_{constructor(t,e,i,r,s,c,d,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new $_(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=wd(i.duration)),null!=i.delay&&(r.delay=wd(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=L_(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new G_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Cm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new HI(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(RE,"."+this._enterClassName)).replace(VI,"."+this._leaveClassName);let y=this._driver.query(this.element,t,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),d.push(...y)}return!s&&0==d.length&&c.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),d}}class $_{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new $_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ic,this._currentKeyframe[e]=ic}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},c=function(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=ic})):ou(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(d=>{const m=L_(c[d],s,i);this._pendingStyles[d]=m,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:ic),this._updateStyle(d,m)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,m)=>{const y=ou(d,!0);Object.keys(y).forEach(C=>{const S=y[C];"!"==S?t.add(C):S==ic&&e.add(C)}),i||(y.offset=m/this.duration),r.push(y)});const s=t.size?B_(t.values()):[],c=e.size?B_(e.values()):[];if(i){const d=r[0],m=Kh(d);d.offset=0,m.offset=1,r=[d,m]}return Qh(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class HI extends $_{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,m=ou(t[0],!1);m.offset=0,s.push(m);const y=ou(t[0],!1);y.offset=PE(d),s.push(y);const C=t.length-1;for(let S=1;S<=C;S++){let A=ou(t[S],!1);A.offset=PE((e+A.offset*i)/c),s.push(A)}i=c,e=0,r="",t=s}return Qh(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function PE(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class p0{}class q_ extends p0{normalizePropertyName(t,e){return V_(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(FE[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return c+s}}const FE=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function m0(n,t,e,i,r,s,c,d,m,y,C,S,A){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:m,preStyleProps:y,postStyleProps:C,totalTime:S,errors:A}}const g0={};class Xh{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):c}build(t,e,i,r,s,c,d,m,y,C){const S=[],A=this.ast.options&&this.ast.options.params||g0,H=this.buildStyles(i,d&&d.params||g0,S),J=m&&m.params||g0,se=this.buildStyles(r,J,S),Ye=new Set,nt=new Map,ut=new Map,ct="void"===r,In={params:Object.assign(Object.assign({},A),J)},Ui=C?[]:z_(t,e,this.ast.animation,s,c,H,se,In,y,S);let fr=0;if(Ui.forEach(Yd=>{fr=Math.max(Yd.duration+Yd.delay,fr)}),S.length)return m0(e,this._triggerName,i,r,ct,H,se,[],[],nt,ut,fr,S);Ui.forEach(Yd=>{const Wd=Yd.element,Oz=to(nt,Wd,{});Yd.preStyleProps.forEach(Ag=>Oz[Ag]=!0);const lD=to(ut,Wd,{});Yd.postStyleProps.forEach(Ag=>lD[Ag]=!0),Wd!==e&&Ye.add(Wd)});const qd=B_(Ye.values());return m0(e,this._triggerName,i,r,ct,H,se,Ui,qd,nt,ut,fr)}}class jI{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Kh(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(d=>{let m=c[d];m.length>1&&(m=L_(m,r,e));const y=this.normalizer.normalizePropertyName(d,e);m=this.normalizer.normalizeStyleValue(d,y,m,e),i[y]=m})}}),i}}class zI{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new jI(r.style,r.options&&r.options.params||{},i)}),_0(this.states,"true","1"),_0(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Xh(t,r,this.states))}),this.fallbackTransition=function(n,t,e){return new Xh(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function _0(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const BE=new Ed;class GI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=wm(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,s=Xb(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let c;const d=new Map;if(s?(c=z_(this._driver,e,s,P_,gm,{},{},i,BE,r),c.forEach(C=>{const S=to(d,C.element,{});C.postStyleProps.forEach(A=>S[A]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),c=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);d.forEach((C,S)=>{Object.keys(C).forEach(A=>{C[A]=this._driver.computeStyle(S,A,ic)})});const y=lr(c.map(C=>{const S=d.get(C.element);return this._buildPlayer(C,{},S)}));return this._playersById[t]=y,y.onDestroy(()=>this.destroy(t)),this.players.push(y),y}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const s=e0(e,"","","");return I_(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const v0="ng-animate-queued",y0="ng-animate-disabled",lN=[],b0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Y_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ao="__ng_removed";class w0{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const s=Kh(t);delete s.value,this.options=s}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Jh="void",Sd=new w0(Jh);class qI{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,no(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=i)&&"done"!=n)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var n;const s=to(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=to(this._engine.statesByElement,t,{});return d.hasOwnProperty(e)||(no(t,_m),no(t,_m+"-"+e),d[e]=Sd),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(c);m>=0&&s.splice(m,1),this._triggers[e]||delete d[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new C0(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(no(t,_m),no(t,_m+"-"+e),this._engine.statesByElement.set(t,d={}));let m=d[e];const y=new w0(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&y.absorbOptions(m.options),d[e]=y,m||(m=Sd),y.value!==Jh&&m.value===y.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(m.params,y.params)){const J=[],se=s.matchStyles(m.value,m.params,J),Ye=s.matchStyles(y.value,y.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{Cd(t,se),za(t,Ye)})}return}const A=to(this._engine.playersByElement,t,[]);A.forEach(J=>{J.namespaceId==this.id&&J.triggerName==e&&J.queued&&J.destroy()});let P=s.matchTransition(m.value,y.value,t,y.params),H=!1;if(!P){if(!r)return;P=s.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:m,toState:y,player:c,isFallbackTransition:H}),H||(no(t,v0),c.onStart(()=>{ef(t,v0)})),c.onDone(()=>{let J=this.players.indexOf(c);J>=0&&this.players.splice(J,1);const se=this._engine.playersByElement.get(t);if(se){let Ye=se.indexOf(c);Ye>=0&&se.splice(Ye,1)}}),this.players.push(c),A.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,vm,!0);i.forEach(r=>{if(r[Ao])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t);if(s){const c=[];if(Object.keys(s).forEach(d=>{if(this._triggers[d]){const m=this.trigger(t,d,Jh,r);m&&c.push(m)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&lr(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const m=this._triggers[c].fallbackTransition,y=i[c]||Sd,C=new w0(Jh),S=new C0(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:m,fromState:y,toState:C,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Ao];(!s||s===b0)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){no(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const m=e0(s,i.triggerName,i.fromState.value,i.toState.value);m._data=t,I_(i.player,d.phase,m,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class YI{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new qI(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const d=this._fetchNamespace(c);d&&e.add(d)}}}return e}trigger(t,e,i,r){if(Sm(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Sm(e))return;const s=e[Ao];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),no(t,y0)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ef(t,y0))}removeNode(t,e,i,r){if(Sm(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[Ao]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,s){return Sm(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,vm,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,F_,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return lr(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Ao];if(i&&i.setForRemoval){if(t[Ao]=b0,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(y0))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)no(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?lr(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Ed,r=[],s=new Map,c=[],d=new Map,m=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(ht=>{C.add(ht);const Dt=this.driver.query(ht,".ng-animate-queued",!0);for(let Bt=0;Bt<Dt.length;Bt++)C.add(Dt[Bt])});const S=this.bodyNode,A=Array.from(this.statesByElement.keys()),P=HE(A,this.collectedEnterElements),H=new Map;let J=0;P.forEach((ht,Dt)=>{const Bt=P_+J++;H.set(Dt,Bt),ht.forEach(wn=>no(wn,Bt))});const se=[],Ye=new Set,nt=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const Dt=this.collectedLeaveElements[ht],Bt=Dt[Ao];Bt&&Bt.setForRemoval&&(se.push(Dt),Ye.add(Dt),Bt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(wn=>Ye.add(wn)):nt.add(Dt))}const ut=new Map,ct=HE(A,Array.from(Ye));ct.forEach((ht,Dt)=>{const Bt=gm+J++;ut.set(Dt,Bt),ht.forEach(wn=>no(wn,Bt))}),t.push(()=>{P.forEach((ht,Dt)=>{const Bt=H.get(Dt);ht.forEach(wn=>ef(wn,Bt))}),ct.forEach((ht,Dt)=>{const Bt=ut.get(Dt);ht.forEach(wn=>ef(wn,Bt))}),se.forEach(ht=>{this.processLeaveNode(ht)})});const In=[],Ui=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(e).forEach(Bt=>{const wn=Bt.player,qr=Bt.element;if(In.push(wn),this.collectedEnterElements.length){const sl=qr[Ao];if(sl&&sl.setForMove)return void wn.destroy()}const Eu=!S||!this.driver.containsElement(S,qr),va=ut.get(qr),$f=H.get(qr),Ti=this._buildInstruction(Bt,i,$f,va,Eu);if(Ti.errors&&Ti.errors.length)return void Ui.push(Ti);if(Eu)return wn.onStart(()=>Cd(qr,Ti.fromStyles)),wn.onDestroy(()=>za(qr,Ti.toStyles)),void r.push(wn);if(Bt.isFallbackTransition)return wn.onStart(()=>Cd(qr,Ti.fromStyles)),wn.onDestroy(()=>za(qr,Ti.toStyles)),void r.push(wn);const Nz=[];Ti.timelines.forEach(sl=>{sl.stretchStartingKeyframe=!0,this.disabledNodes.has(sl.element)||Nz.push(sl)}),Ti.timelines=Nz,i.append(qr,Ti.timelines),c.push({instruction:Ti,player:wn,element:qr}),Ti.queriedElements.forEach(sl=>to(d,sl,[]).push(wn)),Ti.preStyleProps.forEach((sl,cD)=>{const uT=Object.keys(sl);if(uT.length){let kg=m.get(cD);kg||m.set(cD,kg=new Set),uT.forEach(J1=>kg.add(J1))}}),Ti.postStyleProps.forEach((sl,cD)=>{const uT=Object.keys(sl);let kg=y.get(cD);kg||y.set(cD,kg=new Set),uT.forEach(J1=>kg.add(J1))})});if(Ui.length){const ht=[];Ui.forEach(Dt=>{ht.push(`@${Dt.triggerName} has failed due to:\n`),Dt.errors.forEach(Bt=>ht.push(`- ${Bt}\n`))}),In.forEach(Dt=>Dt.destroy()),this.reportError(ht)}const fr=new Map,qd=new Map;c.forEach(ht=>{const Dt=ht.element;i.has(Dt)&&(qd.set(Dt,Dt),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,fr))}),r.forEach(ht=>{const Dt=ht.element;this._getPreviousPlayers(Dt,!1,ht.namespaceId,ht.triggerName,null).forEach(wn=>{to(fr,Dt,[]).push(wn),wn.destroy()})});const Yd=se.filter(ht=>W_(ht,m,y)),Wd=new Map;xd(Wd,this.driver,nt,y,ic).forEach(ht=>{W_(ht,m,y)&&Yd.push(ht)});const lD=new Map;P.forEach((ht,Dt)=>{xd(lD,this.driver,new Set(ht),m,"!")}),Yd.forEach(ht=>{const Dt=Wd.get(ht),Bt=lD.get(ht);Wd.set(ht,Object.assign(Object.assign({},Dt),Bt))});const Ag=[],Pz=[],Fz={};c.forEach(ht=>{const{element:Dt,player:Bt,instruction:wn}=ht;if(i.has(Dt)){if(C.has(Dt))return Bt.onDestroy(()=>za(Dt,wn.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(wn.totalTime),void r.push(Bt);let qr=Fz;if(qd.size>1){let va=Dt;const $f=[];for(;va=va.parentNode;){const Ti=qd.get(va);if(Ti){qr=Ti;break}$f.push(va)}$f.forEach(Ti=>qd.set(Ti,qr))}const Eu=this._buildAnimation(Bt.namespaceId,wn,fr,s,lD,Wd);if(Bt.setRealPlayer(Eu),qr===Fz)Ag.push(Bt);else{const va=this.playersByElement.get(qr);va&&va.length&&(Bt.parentPlayer=lr(va)),r.push(Bt)}}else Cd(Dt,wn.fromStyles),Bt.onDestroy(()=>za(Dt,wn.toStyles)),Pz.push(Bt),C.has(Dt)&&r.push(Bt)}),Pz.forEach(ht=>{const Dt=s.get(ht.element);if(Dt&&Dt.length){const Bt=lr(Dt);ht.setRealPlayer(Bt)}}),r.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<se.length;ht++){const Dt=se[ht],Bt=Dt[Ao];if(ef(Dt,gm),Bt&&Bt.hasAnimation)continue;let wn=[];if(d.size){let Eu=d.get(Dt);Eu&&Eu.length&&wn.push(...Eu);let va=this.driver.query(Dt,F_,!0);for(let $f=0;$f<va.length;$f++){let Ti=d.get(va[$f]);Ti&&Ti.length&&wn.push(...Ti)}}const qr=wn.filter(Eu=>!Eu.destroyed);qr.length?jE(this,Dt,qr):this.processLeaveNode(Dt)}return se.length=0,Ag.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const Dt=this.players.indexOf(ht);this.players.splice(Dt,1)}),ht.play()}),Ag}elementContainsData(t,e){let i=!1;const r=e[Ao];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const m=!s||s==Jh;d.forEach(y=>{y.queued||!m&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const y=m.element,C=y!==s,S=to(i,y,[]);this._getPreviousPlayers(y,C,c,d,e.toState).forEach(P=>{const H=P.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),P.destroy(),S.push(P)})}Cd(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,m=e.element,y=[],C=new Set,S=new Set,A=e.timelines.map(H=>{const J=H.element;C.add(J);const se=J[Ao];if(se&&se.removedBeforeQueried)return new cs(H.duration,H.delay);const Ye=J!==m,nt=function(n){const t=[];return D0(n,t),t}((i.get(J)||lN).map(fr=>fr.getRealPlayer())).filter(fr=>!!fr.element&&fr.element===J),ut=s.get(J),ct=c.get(J),In=Xb(0,this._normalizer,0,H.keyframes,ut,ct),Ui=this._buildPlayer(H,In,nt);if(H.subTimeline&&r&&S.add(J),Ye){const fr=new C0(t,d,J);fr.setRealPlayer(Ui),y.push(fr)}return Ui});y.forEach(H=>{to(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,H.element,H))}),C.forEach(H=>no(H,o0));const P=lr(A);return P.onDestroy(()=>{C.forEach(H=>ef(H,o0)),za(m,e.toStyles)}),S.forEach(H=>{to(r,H,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new cs(t.duration,t.delay)}}class C0{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new cs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>I_(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){to(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Sm(n){return n&&1===n.nodeType}function VE(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function xd(n,t,e,i,r){const s=[];e.forEach(m=>s.push(VE(m)));const c=[];i.forEach((m,y)=>{const C={};m.forEach(S=>{const A=C[S]=t.computeStyle(y,S,r);(!A||0==A.length)&&(y[Ao]=Y_,c.push(y))}),n.set(y,C)});let d=0;return e.forEach(m=>VE(m,s[d++])),c}function HE(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let m=s.get(d);if(m)return m;const y=d.parentNode;return m=e.has(y)?y:r.has(y)?1:c(y),s.set(d,m),m}return t.forEach(d=>{const m=c(d);1!==m&&e.get(m).push(d)}),e}function no(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function ef(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function jE(n,t,e){lr(e).onDone(()=>n.processLeaveNode(t))}function D0(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof _E?D0(i.players,t):t.push(i)}}function W_(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Z_{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new YI(t,e,i),this._timelineEngine=new GI(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const m=[],y=wm(this._driver,s,m);if(m.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${m.join("\n - ")}`);d=function(n,t,e){return new zI(n,t,e)}(r,y,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=vE(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=vE(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function E0(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=S0(t[0]),t.length>1&&(i=S0(t[t.length-1]))):t&&(e=S0(t)),e||i?new UE(n,e,i):null}let UE=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&za(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(za(this._element,this._initialStyles),this._endStyles&&(za(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cd(this._element,this._endStyles),this._endStyles=null),za(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function S0(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];JI(r)&&(t=t||{},t[r]=n[r])}return t}function JI(n){return"display"===n||"position"===n}const K_="animation",zE="animationend";class tA{constructor(t,e,i,r,s,c,d){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=s,this._fillMode=c,this._onDoneFn=d,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=m=>this._handleCallback(m)}apply(){(function(n,t){const e=X_(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),Q_(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),YE(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){$E(this._element,this._name,"paused")}resume(){$E(this._element,this._name,"running")}setPosition(t){const e=qE(this._element,this._name);this._position=t*this._duration,Q_(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),YE(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=X_(n,"").split(","),r=x0(i,t);r>=0&&(i.splice(r,1),Q_(n,"",i.join(",")))}(this._element,this._name))}}function $E(n,t,e){Q_(n,"PlayState",e,qE(n,t))}function qE(n,t){const e=X_(n,"");return e.indexOf(",")>0?x0(e.split(","),t):x0([e],t)}function x0(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function YE(n,t,e){e?n.removeEventListener(zE,t):n.addEventListener(zE,t)}function Q_(n,t,e,i){const r=K_+t;if(null!=i){const s=n.style[r];if(s.length){const c=s.split(",");c[i]=e,e=c.join(",")}}n.style[r]=e}function X_(n,t){return n.style[K_+t]||""}class M0{constructor(t,e,i,r,s,c,d,m){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=d,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=c||"linear",this.totalTime=r+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new tA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:H_(this.element,i))})}this.currentSnapshot=t}}class oA extends cs{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=r0(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class J_{constructor(){this._count=0}validateStyleProperty(t){return A_(t)}matchesElement(t,e){return!1}containsElement(t,e){return n0(t,e)}query(t,e,i){return R_(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(d=>r0(d));let r=`@keyframes ${e} {\n`,s="";i.forEach(d=>{s=" ";const m=parseFloat(d.offset);r+=`${s}${100*m}% {\n`,s+=" ",Object.keys(d).forEach(y=>{const C=d[y];switch(y){case"offset":return;case"easing":return void(C&&(r+=`${s}animation-timing-function: ${C};\n`));default:return void(r+=`${s}${y}: ${C};\n`)}}),r+=`${s}}\n`}),r+="}\n";const c=document.createElement("style");return c.textContent=r,c}animate(t,e,i,r,s,c=[],d){const m=c.filter(se=>se instanceof M0),y={};c0(i,r)&&m.forEach(se=>{let Ye=se.currentSnapshot;Object.keys(Ye).forEach(nt=>y[nt]=Ye[nt])});const C=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=u0(t,e,y));if(0==i)return new oA(t,C);const S="gen_css_kf_"+this._count++,A=this.buildKeyframeElement(t,S,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(A);const H=E0(t,e),J=new M0(t,e,S,i,r,s,C,H);return J.onDestroy(()=>{var n;(n=A).parentNode.removeChild(n)}),J}}class ev{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:H_(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class lA{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(JE().toString()),this._cssKeyframesDriver=new J_}validateStyleProperty(t){return A_(t)}matchesElement(t,e){return!1}containsElement(t,e){return n0(t,e)}query(t,e,i){return R_(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,s,c=[],d){if(!d&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,s,c);const C={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(C.easing=s);const S={},A=c.filter(H=>H instanceof ev);c0(i,r)&&A.forEach(H=>{let J=H.currentSnapshot;Object.keys(J).forEach(se=>S[se]=J[se])});const P=E0(t,e=u0(t,e=e.map(H=>ou(H,!1)),S));return new ev(t,e,C,P)}}function JE(){return aa()&&Element.prototype.animate||{}}let eS=(()=>{class n extends Bi{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Kb(e):e;return uA(this._renderer,null,i,"register",[r]),new cA(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class cA extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new tS(this._id,t,e||{},this._renderer)}}class tS{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return uA(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function uA(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const tf="@.disabled";let dA=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=null==c?void 0:c.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new Md("",s,this.engine),this._rendererCache.set(s,C)),C}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const m=C=>{Array.isArray(C)?C.forEach(m):this.engine.registerTrigger(c,d,e,C.name,C)};return i.data.animation.forEach(m),new xm(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Z_),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Md{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==tf?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class xm extends Md{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==tf?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let nS=(()=>{class n extends Z_{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q),o.LFG(Zh),o.LFG(p0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Pr=new o.OlP("AnimationModuleType"),A0=[{provide:Bi,useClass:eS},{provide:p0,useFactory:function(){return new q_}},{provide:Z_,useClass:nS},{provide:o.FYo,useFactory:function(n,t,e){return new dA(n,t,e)},deps:[Gs,Z_,o.R0b]}],k0=[{provide:Zh,useFactory:function(){return"function"==typeof JE()?new lA:new J_}},{provide:Pr,useValue:"BrowserAnimations"},...A0],R0=[{provide:Zh,useClass:O_},{provide:Pr,useValue:"NoopAnimations"},...A0];let nv=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?R0:k0}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:k0,imports:[Ta]}),n})();function iS(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function _A(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const vA=["*"],wA=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ke=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!zp()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Zb),o.LFG(wA,8),o.LFG(Q))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ud],ud]}),n})();function rc(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=tt(t)}}}function sc(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function qa(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=tt(t)}}}function oc(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ii(e):this.defaultTabIndex}}}function DA(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new Ne.x,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}function rS(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Hn.y(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const P0=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,o.f3M)(o.soG)}});class la{constructor(){this._localeChanges=new Ne.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const F0=new o.OlP("mat-date-formats"),EA=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function N0(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let SA=(()=>{class n extends la{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return N0(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return N0(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return N0(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(EA.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(P0,8),o.LFG(Li))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const xA={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let MA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:la,useClass:SA}],imports:[[Kl]]}),n})(),TA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:F0,useValue:xA}],imports:[[MA]]}),n})(),ac=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function nf(n,t,e){n.nativeElement.classList.toggle(t,e)}let Im=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ke],Ke]}),n})();class oS{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const V0={enterDuration:225,exitDuration:150},rv=Qs({passive:!0}),aS=["mousedown","touchstart"],lS=["mouseup","mouseleave","touchend","touchcancel"];class cS{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Wi(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},V0),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,m=e-r.top,y=s.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=d-c+"px",C.style.top=m-c+"px",C.style.height=2*c+"px",C.style.width=2*c+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(C),window.getComputedStyle(C).getPropertyValue("opacity"),C.style.transform="scale(1)";const S=new oS(this,C,i);return S.state=0,this._activeRipples.add(S),i.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const A=S===this._mostRecentTransientRipple;S.state=1,!i.persistent&&(!A||!this._isPointerDown)&&S.fadeOut()},y),S}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},V0),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Wi(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(aS))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(lS),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=M_(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!hm(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,rv)})})}_removeTriggerEvents(){this._triggerElement&&(aS.forEach(t=>{this._triggerElement.removeEventListener(t,this,rv)}),this._pointerUpEventsRegistered&&lS.forEach(t=>{this._triggerElement.removeEventListener(t,this,rv)}))}}const uS=new o.OlP("mat-ripple-global-options");let ko=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new cS(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Li),o.Y36(uS,8),o.Y36(Pr,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Vi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ke,Kl],Ke]}),n})(),dS=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Pr,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),rf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ke]]}),n})();const sf=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),km=new o.OlP("MatOptgroup");let kA=0;class hS{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let fS=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+kA++,this.onSelectionChange=new o.vpe,this._stateChanges=new Ne.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=tt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!br(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new hS(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),j0=(()=>{class n extends fS{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(sf,8),o.Y36(km,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:vA,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,iS,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,_A,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[Ri,ko,dS],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function Rm(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}let sv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Vi,Zn,Ke,rf]]}),n})();var Si=N(6451);const _N=[[["caption"]],[["colgroup"],["col"]]],z0=["caption","colgroup, col"];let ov=(()=>{class n extends Kp{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:Nh,useClass:mD},{provide:Kp,useExisting:n},{provide:pd,useExisting:n},{provide:wb,useClass:AD},{provide:Wp,useValue:null}]),o.qOj],ngContentSelectors:z0,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(o.F$t(_N),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[__,Zp,zh,v_],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),q0=(()=>{class n extends jh{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:jh,useExisting:n}]),o.qOj]}),n})(),Y0=(()=>{class n extends or{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:or,useExisting:n}]),o.qOj]}),n})(),W0=(()=>{class n extends nu{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:nu,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),o.qOj]}),n})(),av=(()=>{class n extends TD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),n})(),lv=(()=>{class n extends $p{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),n})(),K0=(()=>{class n extends qp{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:qp,useExisting:n}]),o.qOj]}),n})(),Q0=(()=>{class n extends g_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:g_,useExisting:n}]),o.qOj]}),n})(),gS=(()=>{class n extends Yp{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:Yp,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[ar],encapsulation:2}),n})(),X0=(()=>{class n extends Db{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:Db,useExisting:n}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&o.GkF(0,0)},directives:[ar],encapsulation:2}),n})(),us=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ib,Ke],Ke]}),n})();class J0 extends class extends class{}{constructor(t=[]){super(),this._renderData=new Ci([]),this._filter=new Ci(""),this._internalPageChanges=new Ne.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(_D(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((c,d)=>{let m=this.sortingDataAccessor(c,r),y=this.sortingDataAccessor(d,r);const C=typeof m,S=typeof y;C!==S&&("number"===C&&(m+=""),"number"===S&&(y+=""));let A=0;return null!=m&&null!=y?m>y?A=1:m<y&&(A=-1):null!=m?A=1:null!=y&&(A=-1),A*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((c,d)=>c+e[d]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Ci(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?(0,Si.T)(this._sort.sortChange,this._sort.initialized):Ue(null),i=this._paginator?(0,Si.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ue(null),s=_r([this._data,this._filter]).pipe((0,Je.U)(([m])=>this._filterData(m))),c=_r([s,e]).pipe((0,Je.U)(([m])=>this._orderData(m))),d=_r([c,i]).pipe((0,Je.U)(([m])=>this._pageData(m)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=d.subscribe(m=>this._renderData.next(m))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}var ot,ew=N(127),yS=(N(9259),N(3942)),_e=N(5861),ca=N(9681),Ya=N(4859),ua=N(1877),F=N(2090),tw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Wa={},lf=lf||{},kt=tw||self;function nw(){}function uv(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Om(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var cf="closure_uid_"+(1e9*Math.random()>>>0),wS=0;function FA(n,t,e){return n.call.apply(n.bind,arguments)}function iw(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Zi(n,t,e){return(Zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FA:iw).apply(null,arguments)}function rw(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function wr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function au(){this.s=this.s,this.o=this.o}var DS={};au.prototype.s=!1,au.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,cf)&&n[cf]||(n[cf]=++wS)}(this);delete DS[n]}},au.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ES=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},sw=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function xS(n){return Array.prototype.concat.apply([],arguments)}function ow(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Pm(n){return/^[\s\xa0]*$/.test(n)}var Nr,MS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fr(n,t){return-1!=n.indexOf(t)}function dv(n,t){return n<t?-1:n>t?1:0}e:{var aw=kt.navigator;if(aw){var TS=aw.userAgent;if(TS){Nr=TS;break e}}Nr=""}function lw(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function NA(n){const t={};for(const e in n)t[e]=n[e];return t}var cw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LA(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<cw.length;s++)e=cw[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function IS(n){return IS[" "](n),n}IS[" "]=nw;var uf,n,bN=Fr(Nr,"Opera"),Fm=Fr(Nr,"Trident")||Fr(Nr,"MSIE"),BA=Fr(Nr,"Edge"),AS=BA||Fm,VA=Fr(Nr,"Gecko")&&!(Fr(Nr.toLowerCase(),"webkit")&&!Fr(Nr,"Edge"))&&!(Fr(Nr,"Trident")||Fr(Nr,"MSIE"))&&!Fr(Nr,"Edge"),hv=Fr(Nr.toLowerCase(),"webkit")&&!Fr(Nr,"Edge");function HA(){var n=kt.document;return n?n.documentMode:void 0}e:{var lu="",fv=(n=Nr,VA?/rv:([^\);]+)(\)|;)/.exec(n):BA?/Edge\/([\d\.]+)/.exec(n):Fm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):hv?/WebKit\/(\S+)/.exec(n):bN?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fv&&(lu=fv?fv[1]:""),Fm){var uw=HA();if(null!=uw&&uw>parseFloat(lu)){uf=String(uw);break e}}uf=lu}var jA={};function dw(){return t=jA,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=MS(String(uf)).split("."),e=MS("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=dv(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||dv(0==r[2].length,0==s[2].length)||dv(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n}();var t}var kS=kt.document&&Fm&&(HA()||parseInt(uf,10))||void 0,wN=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",nw,t),kt.removeEventListener("test",nw,t)}catch(e){}return n}();function Cr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function cu(n,t){if(Cr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(VA){e:{try{IS(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:RS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&cu.Z.h.call(this)}}Cr.prototype.h=function(){this.defaultPrevented=!0},wr(cu,Cr);var RS={2:"touch",3:"pen",4:"mouse"};cu.prototype.h=function(){cu.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mv="closure_listenable_"+(1e6*Math.random()|0),CN=0;function DN(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++CN,this.ca=this.fa=!1}function gv(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function df(n){this.src=n,this.g={},this.h=0}function fw(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=ES(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(gv(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function OS(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}df.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=OS(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new DN(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var pw="closure_lm_"+(1e6*Math.random()|0),Nm={};function PS(n,t,e,i,r){if(i&&i.once)return _v(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)PS(n,t[s],e,i,r);return null}return e=bv(e),n&&n[mv]?n.N(t,e,Om(i)?!!i.capture:!!i,r):ks(n,t,e,!1,i,r)}function ks(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Om(r)?!!r.capture:!!r,d=yv(n);if(d||(n[pw]=d=new df(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function(){var t=NS;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)wN||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(vv(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function _v(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)_v(n,t[s],e,i,r);return null}return e=bv(e),n&&n[mv]?n.O(t,e,Om(i)?!!i.capture:!!i,r):ks(n,t,e,!0,i,r)}function FS(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)FS(n,t[s],e,i,r);else i=Om(i)?!!i.capture:!!i,e=bv(e),n&&n[mv]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=OS(s=n.g[t],e,i,r))&&(gv(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=yv(n))&&(t=n.g[t.toString()],n=-1,t&&(n=OS(t,e,i,r)),(e=-1<n?t[n]:null)&&mw(e))}function mw(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[mv])fw(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(vv(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=yv(t))?(fw(e,n),0==e.h&&(e.src=null,t[pw]=null)):gv(n)}}}function vv(n){return n in Nm?Nm[n]:Nm[n]="on"+n}function NS(n,t){if(n.ca)n=!0;else{t=new cu(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&mw(n),n=e.call(i,t)}return n}function yv(n){return(n=n[pw])instanceof df?n:null}var gw="__closure_events_fn_"+(1e9*Math.random()>>>0);function bv(n){return"function"==typeof n?n:(n[gw]||(n[gw]=function(t){return n.handleEvent(t)}),n[gw])}function Ki(){au.call(this),this.i=new df(this),this.P=this,this.I=null}function Dr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Cr(t,n);else if(t instanceof Cr)t.target=t.target||n;else{var r=t;LA(t=new Cr(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=wv(c,i,!0,t)&&r}if(r=wv(c=t.g=n,i,!0,t)&&r,r=wv(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=wv(c=t.g=e[s],i,!1,t)&&r}function wv(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==e){var d=c.listener,m=c.ia||c.src;c.fa&&fw(n.i,c),r=!1!==d.call(m,i)&&r}}return r&&!i.defaultPrevented}wr(Ki,au),Ki.prototype[mv]=!0,Ki.prototype.removeEventListener=function(n,t,e,i){FS(this,n,t,e,i)},Ki.prototype.M=function(){if(Ki.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)gv(e[i]);delete n.g[t],n.h--}}this.I=null},Ki.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ki.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Lm=kt.JSON.stringify;function da(){var n=$A;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var vw,LS=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new GA,n=>n.reset());class GA{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function BS(n){kt.setTimeout(()=>{throw n},0)}function _w(n,t){vw||function(){var n=kt.Promise.resolve(void 0);vw=function(){n.then(HS)}}(),yw||(vw(),yw=!0),$A.add(n,t)}var yw=!1,$A=new class{constructor(){this.h=this.g=null}add(t,e){const i=LS.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function HS(){for(var n;n=da();){try{n.h.call(n.g)}catch(e){BS(e)}var t=LS;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}yw=!1}function Bm(n,t){Ki.call(this),this.h=n||1,this.g=t||kt,this.j=Zi(this.kb,this),this.l=Date.now()}function bw(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ww(n,t,e){if("function"==typeof n)e&&(n=Zi(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zi(n.handleEvent,n)}return 2147483647<Number(t)?-1:kt.setTimeout(n,t||0)}function Cw(n){n.g=ww(()=>{n.g=null,n.i&&(n.i=!1,Cw(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}wr(Bm,Ki),(ot=Bm.prototype).da=!1,ot.S=null,ot.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dr(this,"tick"),this.da&&(bw(this),this.start()))}},ot.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){Bm.Z.M.call(this),bw(this),delete this.g};class Vm extends au{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Cw(this)}M(){super.M(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Td(n){au.call(this),this.h=n,this.g={}}wr(Td,au);var Dw=[];function jS(n,t,e,i){Array.isArray(e)||(e&&(Dw[0]=e.toString()),e=Dw);for(var r=0;r<e.length;r++){var s=PS(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Ew(n){lw(n.g,function(t,e){this.g.hasOwnProperty(e)&&mw(t)},n),n.g={}}function Hm(){this.g=!0}function jm(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return Lm(e)}catch(d){return t}}(n,e)+(i?" "+i:"")})}Td.prototype.M=function(){Td.Z.M.call(this),Ew(this)},Td.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hm.prototype.Aa=function(){this.g=!1},Hm.prototype.info=function(){};var Id={},zS=null;function Cv(){return zS=zS||new Ki}function WA(n){Cr.call(this,Id.Ma,n)}function Dv(n){const t=Cv();Dr(t,new WA(t,n))}function ZA(n,t){Cr.call(this,Id.STAT_EVENT,n),this.stat=t}function Rs(n){const t=Cv();Dr(t,new ZA(t,n))}function KA(n,t){Cr.call(this,Id.Na,n),this.size=t}function Um(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},t)}Id.Ma="serverreachability",wr(WA,Cr),Id.STAT_EVENT="statevent",wr(ZA,Cr),Id.Na="timingevent",wr(KA,Cr);var Ad={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},GS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sw(){}function uu(){}Sw.prototype.h=null;var Mw,hf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zm(){Cr.call(this,"d")}function Gm(){Cr.call(this,"c")}function ff(){}function kd(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Td(this),this.P=$S,this.W=new Bm(n=AS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Tw}function Tw(){this.i=null,this.g="",this.h=!1}wr(zm,Cr),wr(Gm,Cr),wr(ff,Sw),ff.prototype.g=function(){return new XMLHttpRequest},ff.prototype.i=function(){return{}},Mw=new ff;var $S=45e3,qS={},Iw={};function YS(n,t,e){n.K=1,n.v=Av(Ro(t)),n.s=e,n.U=!0,QA(n,null)}function QA(n,t){n.F=Date.now(),pf(n),n.A=Ro(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),ok(e.h,"t",i),n.C=0,e=n.l.H,n.h=new Tw,n.g=jN(n.l,e?t:null,!n.s),0<n.O&&(n.L=new Vm(Zi(n.Ia,n,n.g),n.O)),jS(n.V,n.g,"readystatechange",n.gb),t=n.H?NA(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Dv(1),function(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),m=0;m<d.length;m++){var y=d[m].split("=");if(1<y.length){var C=y[0];y=y[1];var S=C.split("_");c=2<=S.length&&"type"==S[1]?c+(C+"=")+y+"&":c+(C+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function XA(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function JA(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=SN(n,e),r==Iw){4==t&&(n.o=4,Rs(14),i=!1),jm(n.j,n.m,null,"[Incomplete Response]");break}if(r==qS){n.o=4,Rs(15),jm(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}jm(n.j,n.m,r,null),Sv(n,r)}XA(n)&&r!=Iw&&r!=qS&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Rs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),dk(t),t.L=!0,Rs(11))):(jm(n.j,n.m,e,"[Invalid Chunked Response]"),Rd(n),$m(n))}function SN(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Iw:(e=Number(t.substring(e,i)),isNaN(e)?qS:(i+=1)+e>t.length?Iw:(t=t.substr(i,e),n.C=i+e,t))}function pf(n){n.Y=Date.now()+n.P,WS(n,n.P)}function WS(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Um(Zi(n.eb,n),t)}function Ev(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function $m(n){0==n.l.G||n.I||LN(n.l,n)}function Rd(n){Ev(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,bw(n.W),Ew(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Sv(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||_(e.i,n)))if(e.I=n.N,!n.J&&_(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Um(Zi(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;tx(e),JS(e)}uk(e),Rs(18)}if(1>=f(e.i)&&e.ka){try{e.ka()}catch(y){}e.ka=void 0}}else Km(e,11)}else if((n.J||e.g==n)&&tx(e),!Pm(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let y=r[t];if(e.U=y[0],y=y[1],2==e.G)if("c"==y[0]){e.J=y[1],e.la=y[2];const C=y[3];null!=C&&(e.ma=C,e.h.info("VER="+e.ma));const S=y[4];null!=S&&(e.za=S,e.h.info("SVER="+e.za));const A=y[5];null!=A&&"number"==typeof A&&0<A&&(e.K=i=1.5*A,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const P=n.g;if(P){const H=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var s=i.i;!s.g&&(Fr(H,"spdy")||Fr(H,"quic")||Fr(H,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(b(s,s.h),s.h=null))}if(i.D){const J=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(i.sa=J,di(i.F,i.D,J))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=HN(i,i.H?i.la:null,i.W),c.J){D(i.i,c);var d=c,m=i.K;m&&d.setTimeout(m),d.B&&(Ev(d),pf(d)),i.g=c}else FN(i);0<e.l.length&&ex(e)}else"stop"!=y[0]&&"close"!=y[0]||Km(e,7);else 3==e.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Km(e,7):lk(e):"noop"!=y[0]&&e.j&&e.j.wa(y),e.A=0)}Dv(4)}catch(y){}}function xv(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(uv(n)||"string"==typeof n)sw(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(uv(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(uv(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function mf(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof mf)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function Aw(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];du(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)du(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function du(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ot=kd.prototype).setTimeout=function(n){this.P=n},ot.gb=function(n){n=n.target;const t=this.L;t&&3==ha(n)?t.l():this.Ia(n)},ot.Ia=function(n){try{if(n==this.g)e:{const C=ha(this.g);var t=this.g.Da();const S=this.g.ba();if(!(3>C)&&(3!=C||AS||this.g&&(this.h.h||this.g.ga()||AN(this.g)))){this.I||4!=C||7==t||Dv(8==t||0>=S?3:2),Ev(this);var e=this.g.ba();this.N=e;t:if(XA(this)){var i=AN(this.g);n="";var r=i.length,s=4==ha(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Rd(this),$m(this);var c="";break t}this.h.i=new kt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,C,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,m=this.g;if((d=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pm(d)){var y=d;break t}}y=null}if(!(e=y)){this.i=!1,this.o=3,Rs(12),Rd(this),$m(this);break e}jm(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sv(this,e)}this.U?(JA(this,C,c),AS&&this.i&&3==C&&(jS(this.V,this.W,"tick",this.fb),this.W.start())):(jm(this.j,this.m,c,null),Sv(this,c)),4==C&&Rd(this),this.i&&!this.I&&(4==C?LN(this.l,this):(this.i=!1,pf(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Rs(12)):(this.o=0,Rs(13)),Rd(this),$m(this)}}}catch(C){}},ot.fb=function(){if(this.g){var n=ha(this.g),t=this.g.ga();this.C<t.length&&(Ev(this),JA(this,n,t),this.i&&4!=n&&pf(this))}},ot.cancel=function(){this.I=!0,Rd(this)},ot.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Dv(3),Rs(17)),Rd(this),this.o=2,$m(this)):WS(this,this.Y-n)},(ot=mf.prototype).R=function(){Aw(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ot.T=function(){return Aw(this),this.g.concat()},ot.get=function(n,t){return du(this.h,n)?this.h[n]:t},ot.set=function(n,t){du(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ot.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var qm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function hu(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof hu){this.g=void 0!==t?t:n.g,Mv(this,n.j),this.s=n.s,Tv(this,n.i),Iv(this,n.m),this.l=n.l,t=n.h;var e=new kv;e.i=t.i,t.g&&(e.g=new mf(t.g),e.h=t.h),KS(this,e),this.o=n.o}else n&&(e=String(n).match(qm))?(this.g=!!t,Mv(this,e[1]||"",!0),this.s=Ym(e[2]||""),Tv(this,e[3]||"",!0),Iv(this,e[4]),this.l=Ym(e[5]||"",!0),KS(this,e[6]||"",!0),this.o=Ym(e[7]||"")):(this.g=!!t,this.h=new kv(null,this.g))}function Ro(n){return new hu(n)}function Mv(n,t,e){n.j=e?Ym(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Tv(n,t,e){n.i=e?Ym(t,!0):t}function Iv(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function KS(n,t,e){t instanceof kv?(n.h=t,function(n,t){t&&!n.j&&(Od(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(XS(this,i),ok(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Wm(t,MN)),n.h=new kv(t,n.g))}function di(n,t,e){n.h.set(t,e)}function Av(n){return di(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ym(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wm(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,ik),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ik(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}hu.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Wm(t,QS,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Wm(t,QS,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Wm(e,"/"==e.charAt(0)?xN:rk,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Wm(e,TN)),n.join("")};var QS=/[#\/\?@]/g,rk=/[#\?:]/g,xN=/[#\?]/g,MN=/[#\?@]/g,TN=/#/g;function kv(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Od(n){n.g||(n.g=new mf,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function XS(n,t){Od(n),t=Zm(n,t),du(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,du((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Aw(n)))}function sk(n,t){return Od(n),t=Zm(n,t),du(n.g.h,t)}function ok(n,t,e){XS(n,t),0<e.length&&(n.i=null,n.g.set(Zm(n,t),ow(e)),n.h+=e.length)}function Zm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function l(n){this.l=n||u,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ea&&kt.g.Ea()&&kt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=kv.prototype).add=function(n,t){Od(this),this.i=null,n=Zm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ot.forEach=function(n,t){Od(this),this.g.forEach(function(e,i){sw(e,function(r){n.call(t,r,i,this)},this)},this)},ot.T=function(){Od(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},ot.R=function(n){Od(this);var t=[];if("string"==typeof n)sk(this,n)&&(t=xS(t,this.g.get(Zm(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=xS(t,n[e])}return t},ot.set=function(n,t){return Od(this),this.i=null,sk(this,n=Zm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ot.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var u=10;function h(n){return!!n.h||!!n.g&&n.g.size>=n.j}function f(n){return n.h?1:n.g?n.g.size:0}function _(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function b(n,t){n.g?n.g.add(t):n.h=t}function D(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function E(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return ow(n.i)}function I(){}function R(){this.g=new I}function B(n,t,e){const i=e||"";try{xv(n,function(r,s){let c=r;Om(r)&&(c=Lm(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function X(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function me(n){this.l=n.$b||null,this.j=n.ib||!1}function Pe(n,t){Ki.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=je,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}l.prototype.cancel=function(){if(this.i=E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},I.prototype.stringify=function(n){return kt.JSON.stringify(n,void 0)},I.prototype.parse=function(n){return kt.JSON.parse(n,void 0)},wr(me,Sw),me.prototype.g=function(){return new Pe(this.l,this.j)},me.prototype.i=function(n){return function(){return n}}({}),wr(Pe,Ki);var je=0;function at(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ce(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ft(n)}function ft(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=Pe.prototype).open=function(n,t){if(this.readyState!=je)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,ft(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||kt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ce(this)),this.readyState=je},ot.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ft(this)),this.g&&(this.readyState=3,ft(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==kt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;at(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ot.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Ce(this):ft(this),3==this.readyState&&at(this)}},ot.Ua=function(n){this.g&&(this.response=this.responseText=n,Ce(this))},ot.Ta=function(n){this.g&&(this.response=n,Ce(this))},ot.ha=function(){this.g&&Ce(this)},ot.setRequestHeader=function(n,t){this.v.append(n,t)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Pe.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Qt=kt.JSON.parse;function St(n){Ki.call(this),this.headers=new mf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Os,this.K=this.L=!1}wr(St,Ki);var Os="",Pd=/^https?$/i,kw=["POST","PUT"];function Ow(n){return"content-type"==n.toLowerCase()}function Rv(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Ov(n),gf(n)}function Ov(n){n.D||(n.D=!0,Dr(n,"complete"),Dr(n,"error"))}function Pv(n){if(n.h&&void 0!==lf&&(!n.C[1]||4!=ha(n)||2!=n.ba()))if(n.v&&4==ha(n))ww(n.Fa,0,n);else if(Dr(n,"readystatechange"),4==ha(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(qm)[1]||null;if(!r&&kt.self&&kt.self.location){var s=kt.self.location.protocol;r=s.substr(0,s.length-1)}i=!Pd.test(r?r.toLowerCase():"")}e=i}if(e)Dr(n,"complete"),Dr(n,"success");else{n.m=6;try{var c=2<ha(n)?n.g.statusText:""}catch(m){c=""}n.j=c+" ["+n.ba()+"]",Ov(n)}}finally{gf(n)}}}function gf(n,t){if(n.g){Fv(n);const e=n.g,i=n.C[0]?nw:null;n.g=null,n.C=null,t||Dr(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function Fv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function ha(n){return n.g?n.g.readyState:0}function AN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Os:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ak(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function(n){let t="";return lw(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):di(n,t,e))}function Pw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function kN(n){this.za=0,this.l=[],this.h=new Hm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pw("baseRetryDelayMs",5e3,n),this.$a=Pw("retryDelaySeedMs",1e4,n),this.Ya=Pw("forwardChannelMaxRetries",2,n),this.ra=Pw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new l(n&&n.concurrentRequestLimit),this.Ca=new R,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function lk(n){if(RN(n),3==n.G){var t=n.V++,e=Ro(n.F);di(e,"SID",n.J),di(e,"RID",t),di(e,"TYPE","terminate"),Fw(n,e),(t=new kd(n,n.h,t,void 0)).K=2,t.v=Av(Ro(e)),e=!1,kt.navigator&&kt.navigator.sendBeacon&&(e=kt.navigator.sendBeacon(t.v.toString(),"")),!e&&kt.Image&&((new Image).src=t.v,e=!0),e||(t.g=jN(t.l,null),t.g.ea(t.v)),t.F=Date.now(),pf(t)}VN(n)}function JS(n){n.g&&(dk(n),n.g.cancel(),n.g=null)}function RN(n){JS(n),n.u&&(kt.clearTimeout(n.u),n.u=null),tx(n),n.i.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function ck(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&ex(n)}function ex(n){h(n.i)||n.m||(n.m=!0,_w(n.Ha,n),n.C=0)}function ON(n,t){var e;e=t?t.m:n.V++;const i=Ro(n.F);di(i,"SID",n.J),di(i,"RID",e),di(i,"AID",n.U),Fw(n,i),n.o&&n.s&&ak(i,n.o,n.s),e=new kd(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=PN(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),b(n.i,e),YS(e,i,t)}function Fw(n,t){n.j&&xv({},function(e,i){di(t,i,e)})}function PN(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Zi(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let m=0;m<e;m++){let y=r[m].h;const C=r[m].g;if(y-=s,0>y)s=Math.max(0,r[m].h-100),d=!1;else try{B(C,c,"req"+y+"_")}catch(S){i&&i(C)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function FN(n){n.g||n.u||(n.Y=1,_w(n.Ga,n),n.A=0)}function uk(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Um(Zi(n.Ga,n),BN(n,n.A)),n.A++,0))}function dk(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function NN(n){n.g=new kd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Ro(n.oa);di(t,"RID","rpc"),di(t,"SID",n.J),di(t,"CI",n.N?"0":"1"),di(t,"AID",n.U),Fw(n,t),di(t,"TYPE","xmlhttp"),n.o&&n.s&&ak(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Av(Ro(t)),e.s=null,e.U=!0,QA(e,n)}function tx(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function LN(n,t){var e=null;if(n.g==t){tx(n),dk(n),n.g=null;var i=2}else{if(!_(n.i,t))return;e=t.D,D(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Dr(i=Cv(),new KA(i,e,t,r)),ex(n)}else FN(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function(n,t){return!(f(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Um(Zi(n.Ha,n,t),BN(n,n.C)),n.C++,0)))}(n,t)||2==i&&uk(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Km(n,5);break;case 4:Km(n,10);break;case 3:Km(n,6);break;default:Km(n,2)}}function BN(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Km(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Zi(n.jb,n);e||(e=new hu("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||Mv(e,"https"),Av(e)),function(n,t){const e=new Hm;if(kt.Image){const i=new Image;i.onload=rw(X,e,i,"TestLoadImage: loaded",!0,t),i.onerror=rw(X,e,i,"TestLoadImage: error",!1,t),i.onabort=rw(X,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=rw(X,e,i,"TestLoadImage: timeout",!1,t),kt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Rs(2);n.G=0,n.j&&n.j.va(t),VN(n),RN(n)}function VN(n){n.G=0,n.I=-1,n.j&&((0!=E(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ow(n.l),n.l.length=0),n.j.ua())}function HN(n,t,e){let i=function(n){return n instanceof hu?Ro(n):new hu(n,void 0)}(e);if(""!=i.i)t&&Tv(i,t+"."+i.i),Iv(i,i.m);else{const r=kt.location;i=function(n,t,e,i){var r=new hu(null,void 0);return n&&Mv(r,n),t&&Tv(r,t),e&&Iv(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&lw(n.aa,function(r,s){di(i,s,r)}),e=n.sa,(t=n.D)&&e&&di(i,t,e),di(i,"VER",n.ma),Fw(n,i),i}function jN(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new St(e&&n.Ba&&!n.qa?new me({ib:!0}):n.qa)).L=n.H,t}function UN(){}function nx(){if(Fm&&!(10<=Number(kS)))throw Error("Environmental error: no available transport.")}function fa(n,t){Ki.call(this),this.g=new kN(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!Pm(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Pm(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Nv(this)}function zN(n){zm.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function GN(){Gm.call(this),this.status=1}function Nv(n){this.g=n}(ot=St.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mw.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Mw),this.g.onreadystatechange=Zi(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void Rv(this,s)}n=e||"";const r=new mf(this.headers);i&&xv(i,function(s,c){r.set(c,s)}),i=function(n){e:{var t=Ow;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=kt.FormData&&n instanceof kt.FormData,!(0<=ES(kw,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fv(this),0<this.B&&((this.K=function(n){return Fm&&dw()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zi(this.pa,this)):this.A=ww(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Rv(this,s)}},ot.pa=function(){void 0!==lf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dr(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Dr(this,"complete"),Dr(this,"abort"),gf(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gf(this,!0)),St.Z.M.call(this)},ot.Fa=function(){this.s||(this.F||this.v||this.l?Pv(this):this.cb())},ot.cb=function(){Pv(this)},ot.ba=function(){try{return 2<ha(this)?this.g.status:-1}catch(n){return-1}},ot.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ot.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Qt(t)}},ot.Da=function(){return this.m},ot.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=kN.prototype).ma=8,ot.G=1,ot.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},ot.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new kd(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=NA(s),LA(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=PN(this,r,t),di(e=Ro(this.F),"RID",n),di(e,"CVER",22),this.D&&di(e,"X-HTTP-Session-Id",this.D),Fw(this,e),this.o&&s&&ak(e,this.o,s),b(this.i,r),this.Ra&&di(e,"TYPE","init"),this.ja?(di(e,"$req",t),di(e,"SID","null"),r.$=!0,YS(r,e,null)):YS(r,e,t),this.G=2}}else 3==this.G&&(n?ON(this,n):0==this.l.length||h(this.i)||ON(this))},ot.Ga=function(){if(this.u=null,NN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Um(Zi(this.bb,this),n)}},ot.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rs(10),JS(this),NN(this))},ot.ab=function(){null!=this.v&&(this.v=null,JS(this),uk(this),Rs(19))},ot.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Rs(2)):(this.h.info("Failed to ping google.com"),Rs(1))},(ot=UN.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Oa=function(){},nx.prototype.g=function(n,t){return new fa(n,t)},wr(fa,Ki),fa.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),_w(Zi(n.hb,n,t))),Rs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=HN(n,null,n.W),ex(n)},fa.prototype.close=function(){lk(this.g)},fa.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,ck(this.g,t)}else this.v?((t={}).__data__=Lm(n),ck(this.g,t)):ck(this.g,n)},fa.prototype.M=function(){this.g.j=null,delete this.j,lk(this.g),delete this.g,fa.Z.M.call(this)},wr(zN,zm),wr(GN,Gm),wr(Nv,UN),Nv.prototype.xa=function(){Dr(this.g,"a")},Nv.prototype.wa=function(n){Dr(this.g,new zN(n))},Nv.prototype.va=function(n){Dr(this.g,new GN(n))},Nv.prototype.ua=function(){Dr(this.g,"b")},nx.prototype.createWebChannel=nx.prototype.g,fa.prototype.send=fa.prototype.u,fa.prototype.open=fa.prototype.m,fa.prototype.close=fa.prototype.close,Ad.NO_ERROR=0,Ad.TIMEOUT=8,Ad.HTTP_ERROR=6,GS.COMPLETE="complete",uu.EventType=hf,hf.OPEN="a",hf.CLOSE="b",hf.ERROR="c",hf.MESSAGE="d",Ki.prototype.listen=Ki.prototype.N,St.prototype.listenOnce=St.prototype.O,St.prototype.getLastError=St.prototype.La,St.prototype.getLastErrorCode=St.prototype.Da,St.prototype.getStatus=St.prototype.ba,St.prototype.getResponseJson=St.prototype.Qa,St.prototype.getResponseText=St.prototype.ga,St.prototype.send=St.prototype.ea;var eG=Wa.createWebChannelTransport=function(){return new nx},tG=Wa.getStatEventTarget=function(){return Cv()},hk=Wa.ErrorCode=Ad,nG=Wa.EventType=GS,iG=Wa.Event=Id,$N=Wa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rG=Wa.FetchXmlHttpFactory=me,ix=Wa.WebChannel=uu,sG=Wa.XhrIo=St;const qN="@firebase/firestore";class ds{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ds.UNAUTHENTICATED=new ds(null),ds.GOOGLE_CREDENTIALS=new ds("google-credentials-uid"),ds.FIRST_PARTY=new ds("first-party-uid"),ds.MOCK_USER=new ds("mock-user");let Lv="9.6.1";const _f=new ua.Yd("@firebase/firestore");function fk(){return _f.logLevel}function Le(n,...t){if(_f.logLevel<=ua.in.DEBUG){const e=t.map(pk);_f.debug(`Firestore (${Lv}): ${n}`,...e)}}function cr(n,...t){if(_f.logLevel<=ua.in.ERROR){const e=t.map(pk);_f.error(`Firestore (${Lv}): ${n}`,...e)}}function Nw(n,...t){if(_f.logLevel<=ua.in.WARN){const e=t.map(pk);_f.warn(`Firestore (${Lv}): ${n}`,...e)}}function pk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function yt(n="Unexpected state"){const t=`FIRESTORE (${Lv}) INTERNAL ASSERTION FAILED: `+n;throw cr(t),new Error(t)}function Rt(n,t){n||yt()}function We(n,t){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class YN{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ds.UNAUTHENTICATED))}shutdown(){}}class cG{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class uG{constructor(t){this.t=t,this.currentUser=ds.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,e(y)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable((0,_e.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},m=y=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Rt("string"==typeof i.accessToken),new YN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Rt(null===t||"string"==typeof t),new ds(t)}}class dG{constructor(t,e,i){this.type="FirstParty",this.user=ds.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class hG{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new dG(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(ds.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fG{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=r=>{t.enqueueRetryable(()=>{return null!=(s=r).error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),e(s.token);var s})};const i=r=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?i(r):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Rt("string"==typeof e.token),new WN(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class pa{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.p(i),this.T=i=>e.writeSequenceNumber(i))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function pG(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}pa.I=-1;class ZN{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=pG(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function on(n,t){return n<t?-1:n>t?1:0}function Bv(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function KN(n){return n+"\0"}class Br{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Br.fromMillis(Date.now())}static fromDate(t){return Br.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Br(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?on(this.nanoseconds,t.nanoseconds):on(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $t{constructor(t){this.timestamp=t}static fromTimestamp(t){return new $t(t)}static min(){return new $t(new Br(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function QN(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Qm(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function XN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Lw{constructor(t,e,i){void 0===e?e=0:e>t.length&&yt(),void 0===i?i=t.length-e:i>t.length-e&&yt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Lw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Lw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class On extends Lw{construct(t,e,i){return new On(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Re(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new On(e)}static emptyPath(){return new On([])}}const mG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hs extends Lw{construct(t,e,i){return new hs(t,e,i)}static isValidIdentifier(t){return mG.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hs(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Re(pe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Re(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Re(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Re(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hs(e)}static emptyPath(){return new hs([])}}class Vv{constructor(t){this.fields=t,t.sort(hs.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Bv(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Vr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Vr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Vr(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return on(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const _G=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vf(n){if(Rt(!!n),"string"==typeof n){let t=0;const e=_G.exec(n);if(Rt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ur(n.seconds),nanos:ur(n.nanos)}}function ur(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hv(n){return"string"==typeof n?Vr.fromBase64String(n):Vr.fromUint8Array(n)}function mk(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function JN(n){const t=n.mapValue.fields.__previous_value__;return mk(t)?JN(t):t}function Bw(n){const t=vf(n.mapValue.fields.__local_write_time__.timestampValue);return new Br(t.seconds,t.nanos)}function Xm(n){return null==n}function rx(n){return 0===n&&1/n==-1/0}function eL(n){return"number"==typeof n&&Number.isInteger(n)&&!rx(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(On.fromString(t))}static fromName(t){return new gt(On.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===On.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return On.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new On(t.slice()))}}function Jm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mk(n)?4:10:yt()}function fu(n,t){const e=Jm(n);if(e!==Jm(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Bw(n).isEqual(Bw(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=vf(i.timestampValue),c=vf(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Hv(n.bytesValue).isEqual(Hv(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ur(i.geoPointValue.latitude)===ur(r.geoPointValue.latitude)&&ur(i.geoPointValue.longitude)===ur(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ur(i.integerValue)===ur(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=ur(i.doubleValue),c=ur(r.doubleValue);return s===c?rx(s)===rx(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return Bv(n.arrayValue.values||[],t.arrayValue.values||[],fu);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(QN(s)!==QN(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!fu(s[d],c[d])))return!1;return!0}(n,t);default:return yt()}var r}function Vw(n,t){return void 0!==(n.values||[]).find(e=>fu(e,t))}function jv(n,t){const e=Jm(n),i=Jm(t);if(e!==i)return on(e,i);switch(e){case 0:return 0;case 1:return on(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=ur(r.integerValue||r.doubleValue),d=ur(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return tL(n.timestampValue,t.timestampValue);case 4:return tL(Bw(n),Bw(t));case 5:return on(n.stringValue,t.stringValue);case 6:return function(r,s){const c=Hv(r),d=Hv(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let m=0;m<c.length&&m<d.length;m++){const y=on(c[m],d[m]);if(0!==y)return y}return on(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=on(ur(r.latitude),ur(s.latitude));return 0!==c?c:on(ur(r.longitude),ur(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let m=0;m<c.length&&m<d.length;++m){const y=jv(c[m],d[m]);if(y)return y}return on(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){const c=r.fields||{},d=Object.keys(c),m=s.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let C=0;C<d.length&&C<y.length;++C){const S=on(d[C],y[C]);if(0!==S)return S;const A=jv(c[d[C]],m[y[C]]);if(0!==A)return A}return on(d.length,y.length)}(n.mapValue,t.mapValue);default:throw yt()}}function tL(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return on(n,t);const e=vf(n),i=vf(t),r=on(e.seconds,i.seconds);return 0!==r?r:on(e.nanos,i.nanos)}function gk(n){return _k(n)}function _k(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=vf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hv(n.bytesValue).toBase64():"referenceValue"in n?gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=_k(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${_k(i.fields[d])}`;return s+"}"}(n.mapValue):yt();var t}function sx(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function vk(n){return!!n&&"integerValue"in n}function yk(n){return!!n&&"arrayValue"in n}function nL(n){return!!n&&"nullValue"in n}function iL(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ox(n){return!!n&&"mapValue"in n}function Hw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Qm(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Hw(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Hw(n.arrayValue.values[e]);return t}return Object.assign({},n)}class Ps{constructor(t){this.value=t}static empty(){return new Ps({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ox(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hw(e)}setAll(t){let e=hs.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=Hw(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());ox(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return fu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];ox(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Qm(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ps(Hw(this.value))}}function rL(n){const t=[];return Qm(n.fields,(e,i)=>{const r=new hs([e]);if(ox(i)){const s=rL(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new Vv(t)}class _i{constructor(t,e,i,r,s){this.key=t,this.documentType=e,this.version=i,this.data=r,this.documentState=s}static newInvalidDocument(t){return new _i(t,0,$t.min(),Ps.empty(),0)}static newFoundDocument(t,e,i){return new _i(t,1,e,i,0)}static newNoDocument(t,e){return new _i(t,2,e,Ps.empty(),0)}static newUnknownDocument(t,e){return new _i(t,3,e,Ps.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof _i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new _i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vG{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.R=null}}function sL(n,t=null,e=[],i=[],r=null,s=null,c=null){return new vG(n,t,e,i,r,s,c)}function jw(n){const t=We(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function(n){return n.field.canonicalString()+n.op.toString()+gk(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Xm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=cx(t.startAt)),t.endAt&&(e+="|ub:",e+=cx(t.endAt)),t.R=e}return t.R}function ax(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!TG(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!fu(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!lL(n.startAt,t.startAt)&&lL(n.endAt,t.endAt)}function lx(n){return gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class io extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,i):new wG(t,e,i):"array-contains"===e?new EG(t,i):"in"===e?new SG(t,i):"not-in"===e?new xG(t,i):"array-contains-any"===e?new MG(t,i):new io(t,e,i)}static P(t,e,i){return"in"===e?new CG(t,i):new DG(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(jv(e,this.value)):null!==e&&Jm(this.value)===Jm(e)&&this.v(jv(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return yt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class wG extends io{constructor(t,e,i){super(t,e,i),this.key=gt.fromName(i.referenceValue)}matches(t){const e=gt.comparator(t.key,this.key);return this.v(e)}}class CG extends io{constructor(t,e){super(t,"in",e),this.keys=oL(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class DG extends io{constructor(t,e){super(t,"not-in",e),this.keys=oL(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function oL(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>gt.fromName(i.referenceValue))}class EG extends io{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return yk(e)&&Vw(e.arrayValue,this.value)}}class SG extends io{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Vw(this.value.arrayValue,e)}}class xG extends io{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Vw(this.value.arrayValue,e)}}class MG extends io{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!yk(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Vw(this.value.arrayValue,i))}}class Uw{constructor(t,e){this.position=t,this.before=e}}function cx(n){return`${n.before?"b":"a"}:${n.position.map(t=>gk(t)).join(",")}`}class Uv{constructor(t,e="asc"){this.field=t,this.dir=e}}function TG(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function aL(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?gt.comparator(gt.fromName(c.referenceValue),e.key):jv(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function lL(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!fu(n.position[e],t.position[e]))return!1;return!0}class Fd{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=m,this.S=null,this.D=null}}function cL(n,t,e,i,r,s,c,d){return new Fd(n,t,e,i,r,s,c,d)}function zv(n){return new Fd(n)}function ux(n){return!Xm(n.limit)&&"F"===n.limitType}function dx(n){return!Xm(n.limit)&&"L"===n.limitType}function bk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function wk(n){for(const t of n.filters)if(t.V())return t.field;return null}function Ck(n){return null!==n.collectionGroup}function Gv(n){const t=We(n);if(null===t.S){t.S=[];const e=wk(t),i=bk(t);if(null!==e&&null===i)e.isKeyField()||t.S.push(new Uv(e)),t.S.push(new Uv(hs.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.S.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Uv(hs.keyField(),s))}}}return t.S}function Za(n){const t=We(n);if(!t.D)if("F"===t.limitType)t.D=sL(t.path,t.collectionGroup,Gv(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Gv(t))e.push(new Uv(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Uw(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Uw(t.startAt.position,!t.startAt.before):null;t.D=sL(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.D}function uL(n,t,e){return new Fd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function zw(n,t){return ax(Za(n),Za(t))&&n.limitType===t.limitType}function dL(n){return`${jw(Za(n))}|lt:${n.limitType}`}function Dk(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${gk(i.value)}`;var i}).join(", ")}]`),Xm(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+cx(n.startAt)),n.endAt&&(t+=", endAt: "+cx(n.endAt)),`Target(${t})`}(Za(n))}; limitType=${n.limitType})`}function Gw(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):gt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!aL(e.startAt,Gv(e),i)||e.endAt&&aL(e.endAt,Gv(e),i)));var e,i}function hL(n){return(t,e)=>{let i=!1;for(const r of Gv(n)){const s=IG(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function IG(n,t,e){const i=n.field.isKeyField()?gt.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),m=c.data.field(r);return null!==d&&null!==m?jv(d,m):yt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return yt()}}function fL(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rx(t)?"-0":t}}function pL(n){return{integerValue:""+n}}function mL(n,t){return eL(t)?pL(t):fL(n,t)}class hx{constructor(){this._=void 0}}function AG(n,t,e){return n instanceof $v?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof eg?_L(n,t):n instanceof tg?vL(n,t):function(i,r){const s=gL(i,r),c=yL(s)+yL(i.N);return vk(s)&&vk(i.N)?pL(c):fL(i.k,c)}(n,t)}function kG(n,t,e){return n instanceof eg?_L(n,t):n instanceof tg?vL(n,t):e}function gL(n,t){return n instanceof qv?vk(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class $v extends hx{}class eg extends hx{constructor(t){super(),this.elements=t}}function _L(n,t){const e=bL(t);for(const i of n.elements)e.some(r=>fu(r,i))||e.push(i);return{arrayValue:{values:e}}}class tg extends hx{constructor(t){super(),this.elements=t}}function vL(n,t){let e=bL(t);for(const i of n.elements)e=e.filter(r=>!fu(r,i));return{arrayValue:{values:e}}}class qv extends hx{constructor(t,e){super(),this.k=t,this.N=e}}function yL(n){return ur(n.integerValue||n.doubleValue)}function bL(n){return yk(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $w{constructor(t,e){this.field=t,this.transform=e}}class OG{constructor(t,e){this.version=t,this.transformResults=e}}class dr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new dr}static exists(t){return new dr(void 0,t)}static updateTime(t){return new dr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fx(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class px{}function PG(n,t,e){n instanceof qw?function(i,r,s){const c=i.value.clone(),d=EL(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof yf?function(i,r,s){if(!fx(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=EL(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(DL(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Ek(n,t,e){var r;n instanceof qw?function(i,r,s){if(!fx(i.precondition,r))return;const c=i.value.clone(),d=SL(i.fieldTransforms,s,r);c.setAll(d),r.convertToFoundDocument(CL(r),c).setHasLocalMutations()}(n,t,e):n instanceof yf?function(i,r,s){if(!fx(i.precondition,r))return;const c=SL(i.fieldTransforms,s,r),d=r.data;d.setAll(DL(i)),d.setAll(c),r.convertToFoundDocument(CL(r),d).setHasLocalMutations()}(n,t,e):fx(n.precondition,r=t)&&r.convertToNoDocument($t.min())}function FG(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=gL(i.transform,r||null);null!=s&&(null==e&&(e=Ps.empty()),e.set(i.field,s))}return e||null}function wL(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Bv(e,i,(r,s)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof eg&&i instanceof eg||e instanceof tg&&i instanceof tg?Bv(e.elements,i.elements,fu):e instanceof qv&&i instanceof qv?fu(e.N,i.N):e instanceof $v&&i instanceof $v);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function CL(n){return n.isFoundDocument()?n.version:$t.min()}class qw extends px{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class yf extends px{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function DL(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function EL(n,t,e){const i=new Map;Rt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,kG(c,d,e[r]))}return i}function SL(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,AG(s,c,t))}return i}class Yw extends px{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Sk extends px{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class NG{constructor(t){this.count=t}}var hr,gn;function xL(n){switch(n){default:return yt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function ML(n){if(void 0===n)return cr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case hr.OK:return pe.OK;case hr.CANCELLED:return pe.CANCELLED;case hr.UNKNOWN:return pe.UNKNOWN;case hr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case hr.INTERNAL:return pe.INTERNAL;case hr.UNAVAILABLE:return pe.UNAVAILABLE;case hr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case hr.NOT_FOUND:return pe.NOT_FOUND;case hr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case hr.ABORTED:return pe.ABORTED;case hr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case hr.DATA_LOSS:return pe.DATA_LOSS;default:return yt()}}(gn=hr||(hr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class Er{constructor(t,e){this.comparator=t,this.root=e||fs.EMPTY}insert(t,e){return new Er(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(t){return new Er(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mx(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mx(this.root,t,this.comparator,!1)}getReverseIterator(){return new mx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mx(this.root,t,this.comparator,!0)}}class mx{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fs{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:fs.RED,this.left=null!=r?r:fs.EMPTY,this.right=null!=s?s:fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new fs(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return fs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1,fs.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new fs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hi{constructor(t){this.comparator=t,this.data=new Er(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new TL(this.data.getIterator())}getIteratorFrom(t){return new TL(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Hi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Hi(this.comparator);return e.data=t,e}}class TL{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const LG=new Er(gt.comparator);function Ka(){return LG}const BG=new Er(gt.comparator);function xk(){return BG}const VG=new Er(gt.comparator);function IL(){return VG}const HG=new Hi(gt.comparator);function Un(...n){let t=HG;for(const e of n)t=t.add(e);return t}const jG=new Hi(on);function gx(){return jG}class Ww{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Zw.createSynthesizedTargetChangeForCurrentChange(t,e)),new Ww($t.min(),i,gx(),Ka(),Un())}}class Zw{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Zw(Vr.EMPTY_BYTE_STRING,e,Un(),Un(),Un())}}class _x{constructor(t,e,i,r){this.$=t,this.removedTargetIds=e,this.key=i,this.F=r}}class AL{constructor(t,e){this.targetId=t,this.O=e}}class kL{constructor(t,e,i=Vr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class RL{constructor(){this.M=0,this.L=PL(),this.B=Vr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=Un(),e=Un(),i=Un();return this.L.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:yt()}}),new Zw(this.B,this.U,t,e,i)}H(){this.q=!1,this.L=PL()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class UG{constructor(t){this.et=t,this.nt=new Map,this.st=Ka(),this.it=OL(),this.rt=new Hi(on)}ot(t){for(const e of t.$)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ut(t){this.forEachTarget(t,e=>{const i=this.ht(e);switch(t.state){case 0:this.lt(e)&&i.W(t.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(t.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(e);break;case 3:this.lt(e)&&(i.tt(),i.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),i.W(t.resumeToken));break;default:yt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((i,r)=>{this.lt(r)&&e(r)})}dt(t){const e=t.targetId,i=t.O.count,r=this.wt(e);if(r){const s=r.target;if(lx(s))if(0===i){const c=new gt(s.path);this.ct(e,c,_i.newNoDocument(c,$t.min()))}else Rt(1===i);else this._t(e)!==i&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((s,c)=>{const d=this.wt(c);if(d){if(s.current&&lx(d.target)){const m=new gt(d.target.path);null!==this.st.get(m)||this.yt(c,m)||this.ct(c,m,_i.newNoDocument(m,t))}s.j&&(e.set(c,s.G()),s.H())}});let i=Un();this.it.forEach((s,c)=>{let d=!0;c.forEachWhile(m=>{const y=this.wt(m);return!y||2===y.purpose||(d=!1,!1)}),d&&(i=i.add(s))});const r=new Ww(t,e,this.rt,this.st,i);return this.st=Ka(),this.it=OL(),this.rt=new Hi(on),r}at(t,e){if(!this.lt(t))return;const i=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,i),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.lt(t))return;const r=this.ht(t);this.yt(t,e)?r.J(e,1):r.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),i&&(this.st=this.st.insert(e,i))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new RL,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new Hi(on),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new RL),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function OL(){return new Er(gt.comparator)}function PL(){return new Er(gt.comparator)}const zG={asc:"ASCENDING",desc:"DESCENDING"},GG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class $G{constructor(t,e){this.databaseId=t,this.C=e}}function Kw(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FL(n,t){return n.C?t.toBase64():t.toUint8Array()}function qG(n,t){return Kw(n,t.toTimestamp())}function Hr(n){return Rt(!!n),$t.fromTimestamp(function(t){const e=vf(t);return new Br(e.seconds,e.nanos)}(n))}function Mk(n,t){return(e=n,new On(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function NL(n){const t=On.fromString(n);return Rt(WL(t)),t}function Qw(n,t){return Mk(n.databaseId,t.path)}function pu(n,t){const e=NL(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new gt(BL(e))}function Tk(n,t){return Mk(n.databaseId,t)}function LL(n){const t=NL(n);return 4===t.length?On.emptyPath():BL(t)}function Xw(n){return new On(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BL(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VL(n,t,e){return{name:Qw(n,t),fields:e.value.mapValue.fields}}function HL(n,t,e){const i=pu(n,t.name),r=Hr(t.updateTime),s=new Ps({mapValue:{fields:t.fields}}),c=_i.newFoundDocument(i,r,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function vx(n,t){let e;if(t instanceof qw)e={update:VL(n,t.key,t.value)};else if(t instanceof Yw)e={delete:Qw(n,t.key)};else if(t instanceof yf)e={update:VL(n,t.key,t.data),updateMask:t$(t.fieldMask)};else{if(!(t instanceof Sk))return yt();e={verify:Qw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof $v)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof eg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof tg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qv)return{fieldPath:s.field.canonicalString(),increment:c.N};throw yt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:qG(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:yt()),e;var r}function jL(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?dr.updateTime(Hr(r.updateTime)):void 0!==r.exists?dr.exists(r.exists):dr.none():dr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Rt("REQUEST_TIME"===c.setToServerValue),d=new $v):"appendMissingElements"in c?d=new eg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new tg(c.removeAllFromArray.values||[]):"increment"in c?d=new qv(s,c.increment):yt();const m=hs.fromServerFormat(c.fieldPath);return new $w(m,d)}(n,r)):[];var r;if(t.update){const r=pu(n,t.update.name),s=new Ps({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Vv((t.updateMask.fieldPaths||[]).map(y=>hs.fromServerFormat(y)));return new yf(r,s,c,e,i)}return new qw(r,s,e,i)}if(t.delete){const r=pu(n,t.delete);return new Yw(r,e)}if(t.verify){const r=pu(n,t.verify);return new Sk(r,e)}return yt()}function UL(n,t){return{documents:[Tk(n,t.path)]}}function zL(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Tk(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Tk(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(d){if(0===d.length)return;const m=d.map(y=>function(C){if("=="===C.op){if(iL(C.value))return{unaryFilter:{field:Yv(C.field),op:"IS_NAN"}};if(nL(C.value))return{unaryFilter:{field:Yv(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(iL(C.value))return{unaryFilter:{field:Yv(C.field),op:"IS_NOT_NAN"}};if(nL(C.value))return{unaryFilter:{field:Yv(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yv(C.field),op:XG(C.op),value:C.value}}}(y));return 1===m.length?m[0]:{compositeFilter:{op:"AND",filters:m}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(d){if(0!==d.length)return d.map(m=>{return{field:Yv((y=m).field),direction:QG(y.dir)};var y})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(m=t.limit,n.C||Xm(m)?m:{value:m});var m;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=qL(t.startAt)),t.endAt&&(e.structuredQuery.endAt=qL(t.endAt)),e}function GL(n){let t=LL(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Rt(1===i);const C=e.from[0];C.allDescendants?r=C.collectionId:t=t.child(C.collectionId)}let s=[];e.where&&(s=$L(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(C=>{return new Uv(Wv((S=C).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let d=null;e.limit&&(d=function(C){let S;return S="object"==typeof C?C.value:C,Xm(S)?null:S}(e.limit));let m=null;e.startAt&&(m=YL(e.startAt));let y=null;return e.endAt&&(y=YL(e.endAt)),cL(t,r,c,s,d,"F",m,y)}function $L(n){return n?void 0!==n.unaryFilter?[e$(n)]:void 0!==n.fieldFilter?[JG(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>$L(t)).reduce((t,e)=>t.concat(e)):yt():[]}function qL(n){return{before:n.before,values:n.position}}function YL(n){return new Uw(n.values||[],!!n.before)}function QG(n){return zG[n]}function XG(n){return GG[n]}function Yv(n){return{fieldPath:n.canonicalString()}}function Wv(n){return hs.fromServerFormat(n.fieldPath)}function JG(n){return io.create(Wv(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(n.fieldFilter.op),n.fieldFilter.value)}function e$(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Wv(n.unaryFilter.field);return io.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Wv(n.unaryFilter.field);return io.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wv(n.unaryFilter.field);return io.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Wv(n.unaryFilter.field);return io.create(r,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}function t$(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function WL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function lc(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ZL(t)),t=n$(n.get(e),t);return ZL(t)}function n$(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function ZL(n){return n+"\x01\x01"}function Nd(n){const t=n.length;if(Rt(t>=2),2===t)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),On.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&yt(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let m;0===r.length?m=d:(r+=d,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:yt()}s=c+2}return new On(i)}class i${constructor(t,e){this.seconds=t,this.nanoseconds=e}}class ma{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}ma.store="owner",ma.key="owner";class bf{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}bf.store="mutationQueues",bf.keyPath="userId";class hi{constructor(t,e,i,r,s){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=s}}hi.store="mutations",hi.keyPath="batchId",hi.userMutationsIndex="userMutationsIndex",hi.userMutationsKeyPath=["userId","batchId"];class Fs{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,lc(e)]}static key(t,e,i){return[t,lc(e),i]}}Fs.store="documentMutations",Fs.PLACEHOLDER=new Fs;class r${constructor(t,e){this.path=t,this.readTime=e}}class s${constructor(t,e){this.path=t,this.version=e}}class ji{constructor(t,e,i,r,s,c){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=r,this.readTime=s,this.parentPath=c}}ji.store="remoteDocuments",ji.readTimeIndex="readTimeIndex",ji.readTimeIndexPath="readTime",ji.collectionReadTimeIndex="collectionReadTimeIndex",ji.collectionReadTimeIndexPath=["parentPath","readTime"];class mu{constructor(t){this.byteSize=t}}mu.store="remoteDocumentGlobal",mu.key="remoteDocumentGlobalKey";class Oo{constructor(t,e,i,r,s,c,d){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=c,this.query=d}}Oo.store="targets",Oo.keyPath="targetId",Oo.queryTargetsIndexName="queryTargetsIndex",Oo.queryTargetsKeyPath=["canonicalId","targetId"];class ps{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}ps.store="targetDocuments",ps.keyPath=["targetId","path"],ps.documentTargetsIndex="documentTargetsIndex",ps.documentTargetsKeyPath=["path","targetId"];class ga{constructor(t,e,i,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=r}}ga.key="targetGlobalKey",ga.store="targetGlobal";class ng{constructor(t,e){this.collectionId=t,this.parent=e}}ng.store="collectionParents",ng.keyPath=["collectionId","parent"];class Ld{constructor(t,e,i,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=r}}Ld.store="clientMetadata",Ld.keyPath="clientId";class Zv{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}Zv.store="bundles",Zv.keyPath="bundleId";class Kv{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}Kv.store="namedQueries",Kv.keyPath="name";const o$=[bf.store,hi.store,Fs.store,ji.store,Oo.store,ma.store,ga.store,ps.store,Ld.store,mu.store,ng.store,Zv.store,Kv.store],KL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ae((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ae?e:Ae.resolve(e)}catch(e){return Ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ae.reject(e)}static resolve(t){return new Ae((e,i)=>{e(t)})}static reject(t){return new Ae((e,i)=>{i(t)})}static waitFor(t){return new Ae((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},m=>i(m))}),c=!0,s===r&&e()})}static or(t){let e=Ae.resolve(!1);for(const i of t)e=e.next(r=>r?Ae.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}}class yx{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new Lr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new Jw(t,e.error)):this.It.resolve()},this.transaction.onerror=i=>{const r=Ik(i.target.error);this.It.reject(new Jw(t,r))}}static open(t,e,i,r){try{return new yx(e,t.transaction(r,i))}catch(s){throw new Jw(e,s)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new l$(e)}}class cc{constructor(t,e,i){this.name=t,this.version=e,this.Rt=i,12.2===cc.Pt((0,F.z$)())&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),rg(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,F.hl)())return!1;if(cc.vt())return!0;const t=(0,F.z$)(),e=cc.Pt(t),i=0<e&&e<10,r=cc.Vt(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static Pt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(t){var e=this;return(0,_e.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new Jw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Re(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Re(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new Jw(t,d))},s.onupgradeneeded=c=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.Rt.Nt(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=i=>e.kt(i)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,_e.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.Ct(t);const m=yx.open(s.db,t,c?"readonly":"readwrite",i),y=r(m).catch(C=>(m.abort(C),Ae.reject(C))).toPromise();return y.catch(()=>{}),yield m.At,y}catch(m){const y="FirebaseError"!==m.name&&d<3;if(Le("SimpleDb","Transaction failed with error:",m.message,"Retrying:",y),s.close(),!y)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class a${constructor(t){this.$t=t,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(t){this.$t=t}done(){this.Ft=!0}Lt(t){this.Ot=t}delete(){return rg(this.$t.delete())}}class Jw extends Re{constructor(t,e){super(pe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ig(n){return"IndexedDbTransactionError"===n.name}class l${constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),rg(i)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),rg(this.store.add(t))}get(t){return rg(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),rg(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),rg(this.store.count())}Bt(t,e){const i=this.cursor(this.options(t,e)),r=[];return this.Ut(i,(s,c)=>{r.push(c)}).next(()=>r)}qt(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Kt=!1;const r=this.cursor(i);return this.Ut(r,(s,c,d)=>d.delete())}jt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Ut(r,e)}Qt(t){const e=this.cursor({});return new Ae((i,r)=>{e.onerror=s=>{const c=Ik(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}Ut(t,e){const i=[];return new Ae((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const m=new a$(d),y=e(d.primaryKey,d.value,m);if(y instanceof Ae){const C=y.catch(S=>(m.done(),Ae.reject(S)));i.push(C)}m.isDone?r():null===m.Mt?d.continue():d.continue(m.Mt)}}).next(()=>Ae.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Kt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function rg(n){return new Ae((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Ik(i.target.error);e(r)}})}let XL=!1;function Ik(n){const t=cc.Pt((0,F.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return XL||(XL=!0,setTimeout(()=>{throw i},0)),i}}return n}class JL extends QL{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function Po(n,t){const e=We(n);return cc.Dt(e.Wt,t)}class Ak{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&PG(s,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Ek(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Ek(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument($t.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Un())}isEqual(t){return this.batchId===t.batchId&&Bv(this.mutations,t.mutations,(e,i)=>wL(e,i))&&Bv(this.baseMutations,t.baseMutations,(e,i)=>wL(e,i))}}class kk{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Rt(t.mutations.length===i.length);let r=IL();const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new kk(t,e,i,r)}}class wf{constructor(t,e,i,r,s=$t.min(),c=$t.min(),d=Vr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new wf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new wf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new wf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class eB{constructor(t){this.Gt=t}}function Rk(n,t){if(t.document)return HL(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=gt.fromSegments(t.noDocument.path),i=Xv(t.noDocument.readTime),r=_i.newNoDocument(e,i);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=gt.fromSegments(t.unknownDocument.path),i=Xv(t.unknownDocument.version);return _i.newUnknownDocument(e,i)}return yt()}function tB(n,t,e){const i=Ok(e),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const s={name:Qw(d=n.Gt,(m=t).key),fields:m.data.value.mapValue.fields,updateTime:Kw(d,m.version.toTimestamp())};return new ji(null,null,s,t.hasCommittedMutations,i,r)}var d,m;if(t.isNoDocument()){const s=t.key.path.toArray(),c=Qv(t.version),d=t.hasCommittedMutations;return new ji(null,new r$(s,c),null,d,i,r)}if(t.isUnknownDocument()){const s=t.key.path.toArray(),c=Qv(t.version);return new ji(new s$(s,c),null,null,!0,i,r)}return yt()}function Ok(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function nB(n){const t=new Br(n[0],n[1]);return $t.fromTimestamp(t)}function Qv(n){const t=n.toTimestamp();return new i$(t.seconds,t.nanoseconds)}function Xv(n){const t=new Br(n.seconds,n.nanoseconds);return $t.fromTimestamp(t)}function Jv(n,t){const e=(t.baseMutations||[]).map(s=>jL(n.Gt,s));for(let s=0;s<t.mutations.length-1;++s){const c=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(c.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>jL(n.Gt,s)),r=Br.fromMillis(t.localWriteTimeMs);return new Ak(t.batchId,r,e,i)}function eC(n){const t=Xv(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Xv(n.lastLimboFreeSnapshotVersion):$t.min();let i;var r;return void 0!==n.query.documents?(Rt(1===(r=n.query).documents.length),i=Za(zv(LL(r.documents[0])))):i=Za(GL(n.query)),new wf(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Vr.fromBase64String(n.resumeToken))}function iB(n,t){const e=Qv(t.snapshotVersion),i=Qv(t.lastLimboFreeSnapshotVersion);let r;r=lx(t.target)?UL(n.Gt,t.target):zL(n.Gt,t.target);const s=t.resumeToken.toBase64();return new Oo(t.targetId,jw(t.target),e,s,t.sequenceNumber,i,r)}function Pk(n){const t=GL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?uL(t,t.limit,"L"):t}class c${getBundleMetadata(t,e){return rB(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Xv(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return rB(t).put({bundleId:(i=e).id,createTime:Qv(Hr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return sB(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:Pk(r.bundledQuery),readTime:Xv(r.readTime)};var r})}saveNamedQuery(t,e){return sB(t).put({name:(i=e).name,readTime:Qv(Hr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function rB(n){return Po(n,Zv.store)}function sB(n){return Po(n,Kv.store)}class u${constructor(){this.zt=new Fk}addToCollectionParentIndex(t,e){return this.zt.add(e),Ae.resolve()}getCollectionParents(t,e){return Ae.resolve(this.zt.getEntries(e))}}class Fk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Hi(On.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Hi(On.comparator)).toArray()}}class d${constructor(){this.Ht=new Fk}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const s={collectionId:i,parent:lc(r)};return oB(t).put(s)}return Ae.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[KN(e),""],!1,!0);return oB(t).Bt(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(Nd(c.parent))}return i})}}function oB(n){return Po(n,ng.store)}const aB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Fo(t,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lB(n,t,e){const i=n.store(hi.store),r=n.store(Fs.store),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const m=i.jt({range:c},(C,S,A)=>(d++,A.delete()));s.push(m.next(()=>{Rt(1===d)}));const y=[];for(const C of e.mutations){const S=Fs.key(t,C.key.path,e.batchId);s.push(r.delete(S)),y.push(C.key)}return Ae.waitFor(s).next(()=>y)}function bx(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw yt();t=n.noDocument}return JSON.stringify(t).length}Fo.DEFAULT_COLLECTION_PERCENTILE=10,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fo.DEFAULT=new Fo(41943040,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fo.DISABLED=new Fo(-1,0,0);class Nk{constructor(t,e,i,r){this.userId=t,this.k=e,this.Jt=i,this.referenceDelegate=r,this.Yt={}}static Xt(t,e,i,r){Rt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new Nk(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cf(t).jt({index:hi.userMutationsIndex,range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=ey(t),c=Cf(t);return c.add({}).next(d=>{Rt("number"==typeof d);const m=new Ak(d,e,i,r),y=function(A,P,H){const J=H.baseMutations.map(Ye=>vx(A.Gt,Ye)),se=H.mutations.map(Ye=>vx(A.Gt,Ye));return new hi(P,H.batchId,H.localWriteTime.toMillis(),J,se)}(this.k,this.userId,m),C=[];let S=new Hi((A,P)=>on(A.canonicalString(),P.canonicalString()));for(const A of r){const P=Fs.key(this.userId,A.key.path,d);S=S.add(A.key.path.popLast()),C.push(c.put(y)),C.push(s.put(P,Fs.PLACEHOLDER))}return S.forEach(A=>{C.push(this.Jt.addToCollectionParentIndex(t,A))}),t.addOnCommittedListener(()=>{this.Yt[d]=m.keys()}),Ae.waitFor(C).next(()=>m)})}lookupMutationBatch(t,e){return Cf(t).get(e).next(i=>i?(Rt(i.userId===this.userId),Jv(this.k,i)):null)}Zt(t,e){return this.Yt[e]?Ae.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Yt[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Cf(t).jt({index:hi.userMutationsIndex,range:r},(c,d,m)=>{d.userId===this.userId&&(Rt(d.batchId>=i),s=Jv(this.k,d)),m.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Cf(t).jt({index:hi.userMutationsIndex,range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cf(t).Bt(hi.userMutationsIndex,e).next(i=>i.map(r=>Jv(this.k,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Fs.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return ey(t).jt({range:r},(c,d,m)=>{const[y,C,S]=c,A=Nd(C);if(y===this.userId&&e.path.isEqual(A))return Cf(t).get(S).next(P=>{if(!P)throw yt();Rt(P.userId===this.userId),s.push(Jv(this.k,P))});m.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Hi(on);const r=[];return e.forEach(s=>{const c=Fs.prefixForPath(this.userId,s.path),d=IDBKeyRange.lowerBound(c),m=ey(t).jt({range:d},(y,C,S)=>{const[A,P,H]=y,J=Nd(P);A===this.userId&&s.path.isEqual(J)?i=i.add(H):S.done()});r.push(m)}),Ae.waitFor(r).next(()=>this.te(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=Fs.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new Hi(on);return ey(t).jt({range:c},(m,y,C)=>{const[S,A,P]=m,H=Nd(A);S===this.userId&&i.isPrefixOf(H)?H.length===r&&(d=d.add(P)):C.done()}).next(()=>this.te(t,d))}te(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Cf(t).get(s).next(c=>{if(null===c)throw yt();Rt(c.userId===this.userId),i.push(Jv(this.k,c))}))}),Ae.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return lB(t.Wt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),Ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ae.resolve();const i=IDBKeyRange.lowerBound(Fs.prefixForUser(this.userId)),r=[];return ey(t).jt({range:i},(s,c,d)=>{if(s[0]===this.userId){const m=Nd(s[1]);r.push(m)}else d.done()}).next(()=>{Rt(0===r.length)})})}containsKey(t,e){return cB(t,this.userId,e)}ne(t){return uB(t).get(this.userId).next(e=>e||new bf(this.userId,-1,""))}}function cB(n,t,e){const i=Fs.prefixForPath(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return ey(n).jt({range:s,Kt:!0},(d,m,y)=>{const[C,S,A]=d;C===t&&S===r&&(c=!0),y.done()}).next(()=>c)}function Cf(n){return Po(n,hi.store)}function ey(n){return Po(n,Fs.store)}function uB(n){return Po(n,bf.store)}class sg{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new sg(0)}static re(){return new sg(-1)}}class h${constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const i=new sg(e.highestTargetId);return e.highestTargetId=i.next(),this.ae(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>$t.fromTimestamp(new Br(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.oe(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.ae(t,r)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.oe(t).next(i=>(i.targetCount+=1,this.ue(e,i),this.ae(t,i))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>ty(t).delete(e.targetId)).next(()=>this.oe(t)).next(i=>(Rt(i.targetCount>0),i.targetCount-=1,this.ae(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return ty(t).jt((c,d)=>{const m=eC(d);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,s.push(this.removeTargetData(t,m)))}).next(()=>Ae.waitFor(s)).next(()=>r)}forEachTarget(t,e){return ty(t).jt((i,r)=>{const s=eC(r);e(s)})}oe(t){return dB(t).get(ga.key).next(e=>(Rt(null!==e),e))}ae(t,e){return dB(t).put(ga.key,e)}ce(t,e){return ty(t).put(iB(this.k,e))}ue(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const i=jw(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return ty(t).jt({range:r,index:Oo.queryTargetsIndexName},(c,d,m)=>{const y=eC(d);ax(e,y.target)&&(s=y,m.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Df(t);return e.forEach(c=>{const d=lc(c.path);r.push(s.put(new ps(i,d))),r.push(this.referenceDelegate.addReference(t,i,c))}),Ae.waitFor(r)}removeMatchingKeys(t,e,i){const r=Df(t);return Ae.forEach(e,s=>{const c=lc(s.path);return Ae.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Df(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Df(t);let s=Un();return r.jt({range:i,Kt:!0},(c,d,m)=>{const y=Nd(c[1]),C=new gt(y);s=s.add(C)}).next(()=>s)}containsKey(t,e){const i=lc(e.path),r=IDBKeyRange.bound([i],[KN(i)],!1,!0);let s=0;return Df(t).jt({index:ps.documentTargetsIndex,Kt:!0,range:r},([c,d],m,y)=>{0!==c&&(s++,y.done())}).next(()=>s>0)}Et(t,e){return ty(t).get(e).next(i=>i?eC(i):null)}}function ty(n){return Po(n,Oo.store)}function dB(n){return Po(n,ga.store)}function Df(n){return Po(n,ps.store)}function og(n){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,_e.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==KL)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),Lk.apply(this,arguments)}function hB([n,t],[e,i]){const r=on(n,e);return 0===r?on(t,i):r}class f${constructor(t){this.he=t,this.buffer=new Hi(hB),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();hB(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class p${constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const i=this.we?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,_e.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){ig(r)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield og(r)}yield e.me(t)}))}}class m${constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ae.resolve(pa.I);const i=new f$(e);return this.ge.forEachTarget(t,r=>i.de(r.sequenceNumber)).next(()=>this.ge.pe(t,r=>i.de(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.ge.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(aB)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aB):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let i,r,s,c,d,m,y;const C=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,c=Date.now(),this.nthSequenceNumber(t,r))).next(S=>(i=S,d=Date.now(),this.removeTargets(t,i,e))).next(S=>(s=S,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(y=Date.now(),fk()<=ua.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-C}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(m-d)+`ms\n\tRemoved ${S} documents in `+(y-m)+`ms\nTotal Duration: ${y-C}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:S})))}}class g${constructor(t,e){this.db=t,this.garbageCollector=new m$(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Ee(t){let e=0;return this.pe(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(i,r)=>e(r))}addReference(t,e,i){return wx(t,i)}removeReference(t,e,i){return wx(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return wx(t,e)}Ae(t,e){return function(i,r){let s=!1;return uB(i).Qt(c=>cB(i,c,r).next(d=>(d&&(s=!0),Ae.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Ie(t,(c,d)=>{if(d<=e){const m=this.Ae(t,c).next(y=>{if(!y)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c),Df(t).delete([0,lc(c.path)])))});r.push(m)}}).next(()=>Ae.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return wx(t,e)}Ie(t,e){const i=Df(t);let r,s=pa.I;return i.jt({index:ps.documentTargetsIndex},([c,d],{path:m,sequenceNumber:y})=>{0===c?(s!==pa.I&&e(new gt(Nd(r)),s),s=y,r=m):s=pa.I}).next(()=>{s!==pa.I&&e(new gt(Nd(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function wx(n,t){return Df(n).put((i=n.currentSequenceNumber,new ps(0,lc(t.path),i)));var i}class ny{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0!==r){for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),!0;return!1}forEach(t){Qm(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return XN(this.inner)}}class fB{constructor(){this.changes=new ny(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:$t.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:_i.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ae.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class _${constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,i){return Ef(t).put(Cx(e),i)}removeEntry(t,e){const i=Ef(t),r=Cx(e);return i.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Re(t,i)))}getEntry(t,e){return Ef(t).get(Cx(e)).next(i=>this.Pe(e,i))}be(t,e){return Ef(t).get(Cx(e)).next(i=>({document:this.Pe(e,i),size:bx(i)}))}getEntries(t,e){let i=Ka();return this.ve(t,e,(r,s)=>{const c=this.Pe(r,s);i=i.insert(r,c)}).next(()=>i)}Ve(t,e){let i=Ka(),r=new Er(gt.comparator);return this.ve(t,e,(s,c)=>{const d=this.Pe(s,c);i=i.insert(s,d),r=r.insert(s,bx(c))}).next(()=>({documents:i,Se:r}))}ve(t,e,i){if(e.isEmpty())return Ae.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),s=e.getIterator();let c=s.getNext();return Ef(t).jt({range:r},(d,m,y)=>{const C=gt.fromSegments(d);for(;c&&gt.comparator(c,C)<0;)i(c,null),c=s.getNext();c&&c.isEqual(C)&&(i(c,m),c=s.hasNext()?s.getNext():null),c?y.Lt(c.path.toArray()):y.done()}).next(()=>{for(;c;)i(c,null),c=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i){let r=Ka();const s=e.path.length+1,c={};if(i.isEqual($t.min())){const d=e.path.toArray();c.range=IDBKeyRange.lowerBound(d)}else{const d=e.path.toArray(),m=Ok(i);c.range=IDBKeyRange.lowerBound([d,m],!0),c.index=ji.collectionReadTimeIndex}return Ef(t).jt(c,(d,m,y)=>{if(d.length!==s)return;const C=Rk(this.k,m);e.path.isPrefixOf(C.key.path)?Gw(e,C)&&(r=r.insert(C.key,C)):y.done()}).next(()=>r)}newChangeBuffer(t){return new v$(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return pB(t).get(mu.key).next(e=>(Rt(!!e),e))}Re(t,e){return pB(t).put(mu.key,e)}Pe(t,e){if(e){const i=Rk(this.k,e);if(!i.isNoDocument()||!i.version.isEqual($t.min()))return i}return _i.newInvalidDocument(t)}}class v$ extends fB{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new ny(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Hi((s,c)=>on(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Ce.get(s);if(c.document.isValidDocument()){const m=tB(this.De.k,c.document,this.getReadTime(s));r=r.add(s.path.popLast()),i+=bx(m)-d,e.push(this.De.addEntry(t,s,m))}else if(i-=d,this.trackRemovals){const m=tB(this.De.k,_i.newNoDocument(s,$t.min()),this.getReadTime(s));e.push(this.De.addEntry(t,s,m))}else e.push(this.De.removeEntry(t,s))}),r.forEach(s=>{e.push(this.De.Jt.addToCollectionParentIndex(t,s))}),e.push(this.De.updateMetadata(t,i)),Ae.waitFor(e)}getFromCache(t,e){return this.De.be(t,e).next(i=>(this.Ce.set(e,i.size),i.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:i,Se:r})=>(r.forEach((s,c)=>{this.Ce.set(s,c)}),i))}}function pB(n){return Po(n,mu.store)}function Ef(n){return Po(n,ji.store)}function Cx(n){return n.path.toArray()}class y${constructor(t){this.k=t}Nt(t,e,i,r){Rt(i<r&&i>=0&&r<=11);const s=new yx("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore(ma.store),(d=t).createObjectStore(bf.store,{keyPath:bf.keyPath}),d.createObjectStore(hi.store,{keyPath:hi.keyPath,autoIncrement:!0}).createIndex(hi.userMutationsIndex,hi.userMutationsKeyPath,{unique:!0}),d.createObjectStore(Fs.store),mB(t),function(d){d.createObjectStore(ji.store)}(t));let c=Ae.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore(ps.store),d.deleteObjectStore(Oo.store),d.deleteObjectStore(ga.store)}(t),mB(t)),c=c.next(()=>function(d){const m=d.store(ga.store),y=new ga(0,0,$t.min().toTimestamp(),0);return m.put(ga.key,y)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,m){return m.store(hi.store).Bt().next(y=>{d.deleteObjectStore(hi.store),d.createObjectStore(hi.store,{keyPath:hi.keyPath,autoIncrement:!0}).createIndex(hi.userMutationsIndex,hi.userMutationsKeyPath,{unique:!0});const C=m.store(hi.store),S=y.map(A=>C.put(A));return Ae.waitFor(S)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore(Ld.store,{keyPath:Ld.keyPath})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Ne(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore(mu.store)}(t),this.ke(s)))),i<7&&r>=7&&(c=c.next(()=>this.xe(s))),i<8&&r>=8&&(c=c.next(()=>this.$e(t,s))),i<9&&r>=9&&(c=c.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(t),function(d){const m=d.objectStore(ji.store);m.createIndex(ji.readTimeIndex,ji.readTimeIndexPath,{unique:!1}),m.createIndex(ji.collectionReadTimeIndex,ji.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&r>=10&&(c=c.next(()=>this.Fe(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore(Zv.store,{keyPath:Zv.keyPath})})(t),function(d){d.createObjectStore(Kv.store,{keyPath:Kv.keyPath})}(t)})),c}ke(t){let e=0;return t.store(ji.store).jt((i,r)=>{e+=bx(r)}).next(()=>{const i=new mu(e);return t.store(mu.store).put(mu.key,i)})}Ne(t){const e=t.store(bf.store),i=t.store(hi.store);return e.Bt().next(r=>Ae.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Bt(hi.userMutationsIndex,c).next(d=>Ae.forEach(d,m=>{Rt(m.userId===s.userId);const y=Jv(this.k,m);return lB(t,s.userId,y).next(()=>{})}))}))}xe(t){const e=t.store(ps.store),i=t.store(ji.store);return t.store(ga.store).get(ga.key).next(r=>{const s=[];return i.jt((c,d)=>{const m=new On(c),y=[0,lc(m)];s.push(e.get(y).next(C=>C?Ae.resolve():e.put(new ps(0,lc(m),r.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(s))})}$e(t,e){t.createObjectStore(ng.store,{keyPath:ng.keyPath});const i=e.store(ng.store),r=new Fk,s=c=>{if(r.add(c)){const d=c.lastSegment(),m=c.popLast();return i.put({collectionId:d,parent:lc(m)})}};return e.store(ji.store).jt({Kt:!0},(c,d)=>{const m=new On(c);return s(m.popLast())}).next(()=>e.store(Fs.store).jt({Kt:!0},([c,d,m],y)=>{const C=Nd(d);return s(C.popLast())}))}Fe(t){const e=t.store(Oo.store);return e.jt((i,r)=>{const s=eC(r),c=iB(this.k,s);return e.put(c)})}}function mB(n){n.createObjectStore(ps.store,{keyPath:ps.keyPath}).createIndex(ps.documentTargetsIndex,ps.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Oo.store,{keyPath:Oo.keyPath}).createIndex(Oo.queryTargetsIndexName,Oo.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ga.store)}const Bk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vk{constructor(t,e,i,r,s,c,d,m,y,C){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Oe=s,this.window=c,this.document=d,this.Me=y,this.Le=C,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=S=>Promise.resolve(),!Vk.bt())throw new Re(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new g$(this,r),this.Ge=e+"main",this.k=new eB(m),this.ze=new cc(this.Ge,11,new y$(this.k)),this.He=new h$(this.referenceDelegate,this.k),this.Jt=new d$,this.Je=new _$(this.k,this.Jt),this.Ye=new c$,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===C&&cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(pe.FAILED_PRECONDITION,Bk);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new pa(t,this.Me)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var i=(0,_e.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,_e.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,_e.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Dx(t).put(new Ld(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.an(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(ig(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return tC(t).get(ma.key).next(e=>Ae.resolve(this.un(e)))}hn(t){return Dx(t).delete(this.clientId)}ln(){var t=this;return(0,_e.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Po(i,Ld.store);return r.Bt().next(s=>{const c=t.dn(s,18e5),d=s.filter(m=>-1===c.indexOf(m));return Ae.forEach(d,m=>r.delete(m.clientId)).next(()=>d)})}).catch(()=>[]);if(t.Xe)for(const i of e)t.Xe.removeItem(t.wn(i.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?Ae.resolve(!0):tC(t).get(ma.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new Re(pe.FAILED_PRECONDITION,Bk);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dx(t).Bt().next(i=>void 0===this.dn(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,_e.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[ma.store,Ld.store],e=>{const i=new JL(e,pa.I);return t.an(i).next(()=>t.hn(i))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(i=>this.fn(i.updateTimeMs,e)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>Dx(t).Bt().next(e=>this.dn(e,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(t){return Nk.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,i){let s;return Le("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",o$,c=>(s=new JL(c,this.Be?this.Be.next():pa.I),"readwrite-primary"===e?this.rn(s).next(d=>!!d||this.on(s)).next(d=>{if(!d)throw cr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new Re(pe.FAILED_PRECONDITION,KL);return i(s)}).next(d=>this.cn(s).next(()=>d)):this.En(s).next(()=>i(s)))).then(c=>(s.raiseOnCommittedEvent(),c))}En(t){return tC(t).get(ma.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Re(pe.FAILED_PRECONDITION,Bk)})}cn(t){const e=new ma(this.clientId,this.allowTabSynchronization,Date.now());return tC(t).put(ma.key,e)}static bt(){return cc.bt()}an(t){const e=tC(t);return e.get(ma.key).next(i=>this.un(i)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete(ma.key)):Ae.resolve())}fn(t,e){const i=Date.now();return!(t<i-e||t>i&&(cr(`Detected an update time that is in the future: ${t} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,F.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const i=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return Le("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return cr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){cr("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function tC(n){return Po(n,ma.store)}function Dx(n){return Po(n,Ld.store)}function Hk(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class b${constructor(t,e){this.progress=t,this.In=e}}class gB{constructor(t,e,i){this.Je=t,this.An=e,this.Jt=i}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Pn(t,e,i))}Pn(t,e,i){return this.Je.getEntry(t,e).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}bn(t,e){t.forEach((i,r)=>{for(const s of e)s.applyToLocalView(r)})}vn(t,e){return this.Je.getEntries(t,e).next(i=>this.Vn(t,i).next(()=>i))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.bn(e,i))}getDocumentsMatchingQuery(t,e,i){return gt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(t,e.path):Ck(e)?this.Dn(t,e,i):this.Cn(t,e,i);var r}Sn(t,e){return this.Rn(t,new gt(e)).next(i=>{let r=xk();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Dn(t,e,i){const r=e.collectionGroup;let s=xk();return this.Jt.getCollectionParents(t,r).next(c=>Ae.forEach(c,d=>{const m=(y=e,C=d.child(r),new Fd(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.Cn(t,m,i).next(y=>{y.forEach((C,S)=>{s=s.insert(C,S)})})}).next(()=>s))}Cn(t,e,i){let r,s;return this.Je.getDocumentsMatchingQuery(t,e,i).next(c=>(r=c,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(c=>(s=c,this.Nn(t,s,r).next(d=>{r=d;for(const m of s)for(const y of m.mutations){const C=y.key;let S=r.get(C);null==S&&(S=_i.newInvalidDocument(C),r=r.insert(C,S)),Ek(y,S,m.localWriteTime),S.isFoundDocument()||(r=r.remove(C))}}))).next(()=>(r.forEach((c,d)=>{Gw(e,d)||(r=r.remove(c))}),r))}Nn(t,e,i){let r=Un();for(const c of e)for(const d of c.mutations)d instanceof yf&&null===i.get(d.key)&&(r=r.add(d.key));let s=i;return this.Je.getEntries(t,r).next(c=>(c.forEach((d,m)=>{m.isFoundDocument()&&(s=s.insert(d,m))}),s))}}class jk{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.kn=i,this.xn=r}static $n(t,e){let i=Un(),r=Un();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new jk(t,e.fromCache,i,r)}}class _B{Fn(t){this.On=t}getDocumentsMatchingQuery(t,e,i,r){return 0===(s=e).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||i.isEqual($t.min())?this.Mn(t,e):this.On.vn(t,r).next(s=>{const c=this.Ln(e,s);return(ux(e)||dx(e))&&this.Bn(e.limitType,c,r,i)?this.Mn(t,e):(fk()<=ua.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dk(e)),this.On.getDocumentsMatchingQuery(t,e,i).next(d=>(c.forEach(m=>{d=d.insert(m.key,m)}),d)))});var s}Ln(t,e){let i=new Hi(hL(t));return e.forEach((r,s)=>{Gw(t,s)&&(i=i.add(s))}),i}Bn(t,e,i,r){if(i.size!==e.size)return!0;const s="F"===t?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mn(t,e){return fk()<=ua.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Dk(e)),this.On.getDocumentsMatchingQuery(t,e,$t.min())}}class w${constructor(t,e,i,r){this.persistence=t,this.Un=e,this.k=r,this.qn=new Er(on),this.Kn=new ny(s=>jw(s),ax),this.jn=$t.min(),this.An=t.getMutationQueue(i),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new gB(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function vB(n,t,e,i){return new w$(n,t,e,i)}function yB(n,t){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,_e.Z)(function*(n,t){const e=We(n);let i=e.An,r=e.Wn;const s=yield e.persistence.runTransaction("Handle user change","readonly",c=>{let d;return e.An.getAllMutationBatches(c).next(m=>(d=m,i=e.persistence.getMutationQueue(t),r=new gB(e.Qn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(c))).next(m=>{const y=[],C=[];let S=Un();for(const A of d){y.push(A.batchId);for(const P of A.mutations)S=S.add(P.key)}for(const A of m){C.push(A.batchId);for(const P of A.mutations)S=S.add(P.key)}return r.vn(c,S).next(A=>({Gn:A,removedBatchIds:y,addedBatchIds:C}))})});return e.An=i,e.Wn=r,e.Un.Fn(e.Wn),s}),Uk.apply(this,arguments)}function C$(n,t){const e=We(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Qn.newChangeBuffer({trackRemovals:!0});return function(c,d,m,y){const C=m.batch,S=C.keys();let A=Ae.resolve();return S.forEach(P=>{A=A.next(()=>y.getEntry(d,P)).next(H=>{const J=m.docVersions.get(P);Rt(null!==J),H.version.compareTo(J)<0&&(C.applyToRemoteDocument(H,m),H.isValidDocument()&&y.addEntry(H,m.commitVersion))})}),A.next(()=>c.An.removeMutationBatch(d,C))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.An.performConsistencyCheck(i)).next(()=>e.Wn.vn(i,r))})}function bB(n){const t=We(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function D$(n,t){const e=We(n),i=t.snapshotVersion;let r=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Qn.newChangeBuffer({trackRemovals:!0});r=e.qn;const d=[];t.targetChanges.forEach((y,C)=>{const S=r.get(C);if(!S)return;d.push(e.He.removeMatchingKeys(s,y.removedDocuments,C).next(()=>e.He.addMatchingKeys(s,y.addedDocuments,C)));const A=y.resumeToken;if(A.approximateByteSize()>0){const P=S.withResumeToken(A,i).withSequenceNumber(s.currentSequenceNumber);r=r.insert(C,P),H=S,se=y,Rt((J=P).resumeToken.approximateByteSize()>0),(0===H.resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0)&&d.push(e.He.updateTargetData(s,P))}var H,J,se});let m=Ka();if(t.documentUpdates.forEach((y,C)=>{t.resolvedLimboDocuments.has(y)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,y))}),d.push(wB(s,c,t.documentUpdates,i,void 0).next(y=>{m=y})),!i.isEqual($t.min())){const y=e.He.getLastRemoteSnapshotVersion(s).next(C=>e.He.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(y)}return Ae.waitFor(d).next(()=>c.apply(s)).next(()=>e.Wn.Vn(s,m)).next(()=>m)}).then(s=>(e.qn=r,s))}function wB(n,t,e,i,r){let s=Un();return e.forEach(c=>s=s.add(c)),t.getEntries(n,s).next(c=>{let d=Ka();return e.forEach((m,y)=>{const C=c.get(m),S=(null==r?void 0:r.get(m))||i;y.isNoDocument()&&y.version.isEqual($t.min())?(t.removeEntry(m,S),d=d.insert(m,y)):!C.isValidDocument()||y.version.compareTo(C.version)>0||0===y.version.compareTo(C.version)&&C.hasPendingWrites?(t.addEntry(y,S),d=d.insert(m,y)):Le("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",y.version)}),d})}function E$(n,t){const e=We(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(i,t)))}function iy(n,t){const e=We(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.He.getTargetData(i,t).next(s=>s?(r=s,Ae.resolve(r)):e.He.allocateTargetId(i).next(c=>(r=new wf(t,c,0,i.currentSequenceNumber),e.He.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qn.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qn=e.qn.insert(i.targetId,i),e.Kn.set(t,i.targetId)),i})}function ry(n,t,e){return zk.apply(this,arguments)}function zk(){return zk=(0,_e.Z)(function*(n,t,e){const i=We(n),r=i.qn.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!ig(c))throw c;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.qn=i.qn.remove(t),i.Kn.delete(r.target)}),zk.apply(this,arguments)}function Ex(n,t,e){const i=We(n);let r=$t.min(),s=Un();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,m,y){const C=We(d),S=C.Kn.get(y);return void 0!==S?Ae.resolve(C.qn.get(S)):C.He.getTargetData(m,y)}(i,c,Za(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(c,d.targetId).next(m=>{s=m})}).next(()=>i.Un.getDocumentsMatchingQuery(c,t,e?r:$t.min(),e?s:Un())).next(d=>({documents:d,zn:s})))}function CB(n,t){const e=We(n),i=We(e.He),r=e.qn.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,t).next(c=>c?c.target:null))}function DB(n){const t=We(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,r,s){const c=We(i);let d=Ka(),m=Ok(s);const y=Ef(r),C=IDBKeyRange.lowerBound(m,!0);return y.jt({index:ji.readTimeIndex,range:C},(S,A)=>{const P=Rk(c.k,A);d=d.insert(P.key,P),m=A.readTime}).next(()=>({In:d,readTime:nB(m)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:i})=>(t.jn=i,e))}function Gk(){return Gk=(0,_e.Z)(function*(n){const t=We(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const r=Ef(i);let s=$t.min();return r.jt({index:ji.readTimeIndex,reverse:!0},(c,d,m)=>{d.readTime&&(s=nB(d.readTime)),m.done()}).next(()=>s)}(e)).then(e=>{t.jn=e})}),Gk.apply(this,arguments)}function $k(){return $k=(0,_e.Z)(function*(n,t,e,i){const r=We(n);let s=Un(),c=Ka(),d=IL();for(const C of e){const S=t.Hn(C.metadata.name);C.document&&(s=s.add(S)),c=c.insert(S,t.Jn(C)),d=d.insert(S,t.Yn(C.metadata.readTime))}const m=r.Qn.newChangeBuffer({trackRemovals:!0}),y=yield iy(r,(C=i,Za(zv(On.fromString(`__bundle__/docs/${C}`)))));var C;return r.persistence.runTransaction("Apply bundle documents","readwrite",C=>wB(C,m,c,$t.min(),d).next(S=>(m.apply(C),S)).next(S=>r.He.removeMatchingKeysForTargetId(C,y.targetId).next(()=>r.He.addMatchingKeys(C,s,y.targetId)).next(()=>r.Wn.Vn(C,S)).next(()=>S)))}),$k.apply(this,arguments)}function M$(n,t){return qk.apply(this,arguments)}function qk(){return qk=(0,_e.Z)(function*(n,t,e=Un()){const i=yield iy(n,Za(Pk(t.bundledQuery))),r=We(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Hr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ye.saveNamedQuery(s,t);const d=i.withResumeToken(Vr.EMPTY_BYTE_STRING,c);return r.qn=r.qn.insert(d.targetId,d),r.He.updateTargetData(s,d).next(()=>r.He.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.He.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ye.saveNamedQuery(s,t))})}),qk.apply(this,arguments)}class T${constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return Ae.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var i;return this.Xn.set(e.id,{id:(i=e).id,version:i.version,createTime:Hr(i.createTime)}),Ae.resolve()}getNamedQuery(t,e){return Ae.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(i=e).name,query:Pk(i.bundledQuery),readTime:Hr(i.readTime)}),Ae.resolve();var i}}class Yk{constructor(){this.ts=new Hi(jr.es),this.ns=new Hi(jr.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const i=new jr(t,e);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.os(new jr(t,e))}cs(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new gt(new On([])),i=new jr(e,t),r=new jr(e,t+1),s=[];return this.ns.forEachInRange([i,r],c=>{this.os(c),s.push(c.key)}),s}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new gt(new On([])),i=new jr(e,t),r=new jr(e,t+1);let s=Un();return this.ns.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new jr(t,0),i=this.ts.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class jr{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return gt.comparator(t.key,e.key)||on(t.fs,e.fs)}static ss(t,e){return on(t.fs,e.fs)||gt.comparator(t.key,e.key)}}class I${constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new Hi(jr.es)}checkEmpty(t){return Ae.resolve(0===this.An.length)}addMutationBatch(t,e,i,r){const s=this.ds;this.ds++;const c=new Ak(s,e,i,r);this.An.push(c);for(const d of r)this.ws=this.ws.add(new jr(d.key,s)),this.Jt.addToCollectionParentIndex(t,d.key.path.popLast());return Ae.resolve(c)}lookupMutationBatch(t,e){return Ae.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.gs(e+1),s=r<0?0:r;return Ae.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return Ae.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new jr(e,0),r=new jr(e,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([i,r],c=>{const d=this._s(c.fs);s.push(d)}),Ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Hi(on);return e.forEach(r=>{const s=new jr(r,0),c=new jr(r,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,c],d=>{i=i.add(d.fs)})}),Ae.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;gt.isDocumentKey(s)||(s=s.child(""));const c=new jr(new gt(s),0);let d=new Hi(on);return this.ws.forEachWhile(m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(d=d.add(m.fs)),!0)},c),Ae.resolve(this.ys(d))}ys(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Rt(0===this.ps(e.batchId,"removed")),this.An.shift();let i=this.ws;return Ae.forEach(e.mutations,r=>{const s=new jr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ws=i})}ee(t){}containsKey(t,e){const i=new jr(e,0),r=this.ws.firstAfterOrEqual(i);return Ae.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ae.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class A${constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new Er(gt.comparator),this.size=0}addEntry(t,e,i){const r=e.key,s=this.docs.get(r),c=s?s.size:0,d=this.Ts(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:d,readTime:i}),this.size+=d-c,this.Jt.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ae.resolve(i?i.document.clone():_i.newInvalidDocument(e))}getEntries(t,e){let i=Ka();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.clone():_i.newInvalidDocument(r))}),Ae.resolve(i)}getDocumentsMatchingQuery(t,e,i){let r=Ka();const s=new gt(e.path.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:m,readTime:y}}=c.getNext();if(!e.path.isPrefixOf(d.path))break;y.compareTo(i)<=0||Gw(e,m)&&(r=r.insert(m.key,m.clone()))}return Ae.resolve(r)}Es(t,e){return Ae.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new k$(this)}getSize(t){return Ae.resolve(this.size)}}class k$ extends fB{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.document.isValidDocument()?e.push(this.De.addEntry(t,r.document,this.getReadTime(i))):this.De.removeEntry(i)}),Ae.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class R${constructor(t){this.persistence=t,this.Is=new ny(e=>jw(e),ax),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.As=0,this.Rs=new Yk,this.targetCount=0,this.Ps=sg.ie()}forEachTarget(t,e){return this.Is.forEach((i,r)=>e(r)),Ae.resolve()}getLastRemoteSnapshotVersion(t){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ae.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.Ps.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.As&&(this.As=e),Ae.resolve()}ce(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ps=new sg(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,Ae.resolve()}updateTargetData(t,e){return this.ce(e),Ae.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Is.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Is.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),Ae.waitFor(s).next(()=>r)}getTargetCount(t){return Ae.resolve(this.targetCount)}getTargetData(t,e){const i=this.Is.get(e)||null;return Ae.resolve(i)}addMatchingKeys(t,e,i){return this.Rs.rs(e,i),Ae.resolve()}removeMatchingKeys(t,e,i){this.Rs.cs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),Ae.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),Ae.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Rs.ls(e);return Ae.resolve(i)}containsKey(t,e){return Ae.resolve(this.Rs.containsKey(e))}}class O${constructor(t,e){this.bs={},this.Be=new pa(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new R$(this),this.Jt=new u$,this.Je=new A$(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new eB(e),this.Ye=new T$(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new I$(this.Jt,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,i){Le("MemoryPersistence","Starting transaction:",t);const r=new P$(this.Be.next());return this.referenceDelegate.Vs(),i(r).next(s=>this.referenceDelegate.Ss(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ds(t,e){return Ae.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class P$ extends QL{constructor(t){super(),this.currentSequenceNumber=t}}class Wk{constructor(t){this.persistence=t,this.Cs=new Yk,this.Ns=null}static ks(t){return new Wk(t)}get xs(){if(this.Ns)return this.Ns;throw yt()}addReference(t,e,i){return this.Cs.addReference(i,e),this.xs.delete(i.toString()),Ae.resolve()}removeReference(t,e,i){return this.Cs.removeReference(i,e),this.xs.add(i.toString()),Ae.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Ae.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(r=>this.xs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.xs.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,i=>{const r=gt.fromPath(i);return this.$s(t,r).next(s=>{s||e.removeEntry(r)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return Ae.or([()=>Ae.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function EB(n,t){return`firestore_clients_${n}_${t}`}function SB(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function Zk(n,t){return`firestore_targets_${n}_${t}`}class Sx{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Fs(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Re(r.error.code,r.error.message))),c?new Sx(t,e,r.state,s):(cr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class nC{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Fs(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Re(i.error.code,i.error.message))),s?new nC(t,i.state,r):(cr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class xx{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Fs(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=gx();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=eL(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new xx(t,s):(cr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Kk{constructor(t,e){this.clientId=t,this.onlineState=e}static Fs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Kk(e.clientId,e.onlineState):(cr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Qk{constructor(){this.activeTargetIds=gx()}Ms(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Xk{constructor(t,e,i,r,s){this.window=t,this.Oe=e,this.persistenceKey=i,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Er(on),this.started=!1,this.js=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Qs=EB(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new Qk),this.Gs=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(d){return`firestore_bundle_loaded_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,_e.Z)(function*(){const e=yield t.syncEngine.Tn();for(const r of e){if(r===t.Bs)continue;const s=t.getItem(EB(t.persistenceKey,r));if(s){const c=xx.Fs(r,s);c&&(t.Ks=t.Ks.insert(c.clientId,c))}}t.Xs();const i=t.storage.getItem(t.Js);if(i){const r=t.Zs(i);r&&t.ti(r)}for(const r of t.js)t.qs(r);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,i){this.ni(t,e,i),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(Zk(this.persistenceKey,t));if(i){const r=nC.Fs(t,i);r&&(e=r.state)}}return this.ii.Ms(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Zk(this.persistenceKey,t))}updateQueryState(t,e,i){this.ri(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.si(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,_e.Z)(function*(){if(e.started){if(null!==i.key)if(e.Gs.test(i.key)){if(null==i.newValue){const r=e.ci(i.key);return e.ui(r,null)}{const r=e.hi(i.key,i.newValue);if(r)return e.ui(r.clientId,r)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const r=e.li(i.key,i.newValue);if(r)return e.fi(r)}}else if(e.Hs.test(i.key)){if(null!==i.newValue){const r=e.di(i.key,i.newValue);if(r)return e.wi(r)}}else if(i.key===e.Js){if(null!==i.newValue){const r=e.Zs(i.newValue);if(r)return e.ti(r)}}else if(i.key===e.Ws){const r=function(s){let c=pa.I;if(null!=s)try{const d=JSON.parse(s);Rt("number"==typeof d),c=d}catch(d){cr("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==pa.I&&e.sequenceNumberHandler(r)}else if(i.key===e.Ys)return e.syncEngine._i()}else e.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(t,e,i){const r=new Sx(this.currentUser,t,e,i),s=SB(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Os())}si(t){const e=SB(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,i){const r=Zk(this.persistenceKey,t),s=new nC(t,e,i);this.setItem(r,s.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const i=this.ci(t);return xx.Fs(i,e)}li(t,e){const i=this.zs.exec(t),r=Number(i[1]);return Sx.Fs(new ds(void 0!==i[2]?i[2]:null),r,e)}di(t,e){const i=this.Hs.exec(t),r=Number(i[1]);return nC.Fs(r,e)}Zs(t){return Kk.Fs(t)}fi(t){var e=this;return(0,_e.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const i=e?this.Ks.insert(t,e):this.Ks.remove(t),r=this.ei(this.Ks),s=this.ei(i),c=[],d=[];return s.forEach(m=>{r.has(m)||c.push(m)}),r.forEach(m=>{s.has(m)||d.push(m)}),this.syncEngine.yi(c,d).then(()=>{this.Ks=i})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=gx();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class xB{constructor(){this.pi=new Qk,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.pi.Ms(t),this.Ti[t]||"not-current"}updateQueryState(t,e,i){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new Qk,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class F${Ei(t){}shutdown(){}}class MB{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Pi(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const N$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class L${constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Fi(t){this.ki(t)}Oi(t){this.xi(t)}}class B$ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Mi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,i,r,s){const c=this.Ui(t,e);Le("RestConnection","Sending: ",c,i);const d={};return this.qi(d,r,s),this.Ki(t,c,d,i).then(m=>(Le("RestConnection","Received: ",m),m),m=>{throw Nw("RestConnection",`${t} failed with error: `,m,"url: ",c,"request:",i),m})}ji(t,e,i,r,s){return this.Bi(t,e,i,r,s)}qi(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Lv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}Ui(t,e){return`${this.Mi}/v1/${e}:${N$[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,i,r){return new Promise((s,c)=>{const d=new sG;d.listenOnce(nG.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case hk.NO_ERROR:const y=d.getResponseJson();Le("Connection","XHR received:",JSON.stringify(y)),s(y);break;case hk.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),c(new Re(pe.DEADLINE_EXCEEDED,"Request time out"));break;case hk.HTTP_ERROR:const C=d.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',C,"response text:",d.getResponseText()),C>0){const S=d.getResponseJson().error;if(S&&S.status&&S.message){const A=function(P){const H=P.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(H)>=0?H:pe.UNKNOWN}(S.status);c(new Re(A,S.message))}else c(new Re(pe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Re(pe.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(r);d.send(e,"POST",m,i,15)})}Qi(t,e,i){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=eG(),c=tG(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new rG({})),this.qi(d.initMessageHeaders,e,i),(0,F.uI)()||(0,F.b$)()||(0,F.d)()||(0,F.w1)()||(0,F.Mn)()||(0,F.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const m=r.join("");Le("Connection","Creating WebChannel: "+m,d);const y=s.createWebChannel(m,d);let C=!1,S=!1;const A=new L$({Vi:H=>{S?Le("Connection","Not sending because WebChannel is closed:",H):(C||(Le("Connection","Opening WebChannel transport."),y.open(),C=!0),Le("Connection","WebChannel sending:",H),y.send(H))},Si:()=>y.close()}),P=(H,J,se)=>{H.listen(J,Ye=>{try{se(Ye)}catch(nt){setTimeout(()=>{throw nt},0)}})};return P(y,ix.EventType.OPEN,()=>{S||Le("Connection","WebChannel transport opened.")}),P(y,ix.EventType.CLOSE,()=>{S||(S=!0,Le("Connection","WebChannel transport closed"),A.Fi())}),P(y,ix.EventType.ERROR,H=>{S||(S=!0,Nw("Connection","WebChannel transport errored:",H),A.Fi(new Re(pe.UNAVAILABLE,"The operation could not be completed")))}),P(y,ix.EventType.MESSAGE,H=>{var J;if(!S){const se=H.data[0];Rt(!!se);const Ye=se,nt=Ye.error||(null===(J=Ye[0])||void 0===J?void 0:J.error);if(nt){Le("Connection","WebChannel received error:",nt);const ut=nt.status;let ct=function(Ui){const fr=hr[Ui];if(void 0!==fr)return ML(fr)}(ut),In=nt.message;void 0===ct&&(ct=pe.INTERNAL,In="Unknown error status: "+ut+" with message "+nt.message),S=!0,A.Fi(new Re(ct,In)),y.close()}else Le("Connection","WebChannel received:",se),A.Oi(se)}}),P(c,iG.STAT_EVENT,H=>{H.stat===$N.PROXY?Le("Connection","Detected buffering proxy"):H.stat===$N.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.$i()},0),A}}function TB(){return"undefined"!=typeof window?window:null}function Mx(){return"undefined"!=typeof document?document:null}function iC(n){return new $G(n,!0)}class Jk{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Oe=t,this.timerId=e,this.Wi=i,this.Gi=r,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),r=Math.max(0,e-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class IB{constructor(t,e,i,r,s,c,d,m){this.Oe=t,this.nr=i,this.sr=r,this.ir=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Jk(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,_e.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,_e.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var i=this;return(0,_e.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==t?i.ur.reset():e&&e.code===pe.RESOURCE_EXHAUSTED?(cr(e.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):e&&e.code===pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.rr===e&&this.Ir(i,r)},i=>{t(()=>{const r=new Re(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(r)})})}Ir(t,e){const i=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{i(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(r=>{i(()=>this.Ar(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}dr(){var t=this;this.state=5,this.ur.Zi((0,_e.Z)(function*(){t.state=0,t.start()}))}Ar(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Oe.enqueueAndForget(()=>this.rr===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V$ extends IB{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.k=s}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:yt(),r=t.targetChange.targetIds||[],s=function(m,y){return m.C?(Rt(void 0===y||"string"==typeof y),Vr.fromBase64String(y||"")):(Rt(void 0===y||y instanceof Uint8Array),Vr.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(m){const y=void 0===m.code?pe.UNKNOWN:ML(m.code);return new Re(y,m.message||"")}(c);e=new kL(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=pu(n,i.document.name),s=Hr(i.document.updateTime),c=new Ps({mapValue:{fields:i.document.fields}}),d=_i.newFoundDocument(r,s,c);e=new _x(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=pu(n,i.document),s=i.readTime?Hr(i.readTime):$t.min(),c=_i.newNoDocument(r,s);e=new _x([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=pu(n,i.document);e=new _x([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return yt();{const i=t.filter,s=new NG(i.count||0);e=new AL(i.targetId,s)}}var m;return e}(this.k,t),i=function(r){if(!("targetChange"in r))return $t.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?$t.min():s.readTime?Hr(s.readTime):$t.min()}(t);return this.listener.Pr(e,i)}br(t){const e={};e.database=Xw(this.k),e.addTarget=function(r,s){let c;const d=s.target;return c=lx(d)?{documents:UL(r,d)}:{query:zL(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=FL(r,s.resumeToken):s.snapshotVersion.compareTo($t.min())>0&&(c.readTime=Kw(r,s.snapshotVersion.toTimestamp())),c}(this.k,t);const i=function(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.gr(e)}vr(t){const e={};e.database=Xw(this.k),e.removeTarget=t,this.gr(e)}}class H$ extends IB{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(Rt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(n,t){return n&&n.length>0?(Rt(void 0!==t),n.map(e=>function(i,r){let s=Hr(i.updateTime?i.updateTime:r);return s.isEqual($t.min())&&(s=Hr(r)),new OG(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Hr(t.commitTime);return this.listener.Cr(i,e)}return Rt(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=Xw(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>vx(this.k,i))};this.gr(e)}}class j$ extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=i,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new Re(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,i){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.ir.Bi(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(pe.UNKNOWN,r.toString())})}ji(t,e,i){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.ir.ji(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(pe.UNKNOWN,r.toString())})}terminate(){this.$r=!0}}class U${constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Or=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(cr(e),this.Lr=!1):Le("OnlineStateTracker",e)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class z${constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(d=>{i.enqueueAndForget((0,_e.Z)(function*(){var m;Sf(c)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,_e.Z)(function*(y){const C=We(y);C.Gr.add(4),yield sy(C),C.Jr.set("Unknown"),C.Gr.delete(4),yield rC(C)}),function(y){return m.apply(this,arguments)})(c))}))}),this.Jr=new U$(i,r)}}function rC(n){return eR.apply(this,arguments)}function eR(){return eR=(0,_e.Z)(function*(n){if(Sf(n))for(const t of n.zr)yield t(!0)}),eR.apply(this,arguments)}function sy(n){return tR.apply(this,arguments)}function tR(){return tR=(0,_e.Z)(function*(n){for(const t of n.zr)yield t(!1)}),tR.apply(this,arguments)}function Tx(n,t){const e=We(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),rR(e)?iR(e):ay(e).lr()&&nR(e,t))}function sC(n,t){const e=We(n),i=ay(e);e.Wr.delete(t),i.lr()&&AB(e,t),0===e.Wr.size&&(i.lr()?i._r():Sf(e)&&e.Jr.set("Unknown"))}function nR(n,t){n.Yr.X(t.targetId),ay(n).br(t)}function AB(n,t){n.Yr.X(t),ay(n).vr(t)}function iR(n){n.Yr=new UG({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),ay(n).start(),n.Jr.Br()}function rR(n){return Sf(n)&&!ay(n).hr()&&n.Wr.size>0}function Sf(n){return 0===We(n).Gr.size}function kB(n){n.Yr=void 0}function G$(n){return sR.apply(this,arguments)}function sR(){return sR=(0,_e.Z)(function*(n){n.Wr.forEach((t,e)=>{nR(n,t)})}),sR.apply(this,arguments)}function $$(n,t){return oR.apply(this,arguments)}function oR(){return oR=(0,_e.Z)(function*(n,t){kB(n),rR(n)?(n.Jr.Kr(t),iR(n)):n.Jr.set("Unknown")}),oR.apply(this,arguments)}function q$(n,t,e){return aR.apply(this,arguments)}function aR(){return aR=(0,_e.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof kL&&2===t.state&&t.cause)try{yield(i=(0,_e.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.Wr.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.Wr.delete(d),r.Yr.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Ix(n,i)}else if(t instanceof _x?n.Yr.ot(t):t instanceof AL?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual($t.min()))try{const i=yield bB(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.Yr.gt(s);return c.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=r.Wr.get(m);y&&r.Wr.set(m,y.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const m=r.Wr.get(d);if(!m)return;r.Wr.set(d,m.withResumeToken(Vr.EMPTY_BYTE_STRING,m.snapshotVersion)),AB(r,d);const y=new wf(m.target,d,1,m.sequenceNumber);nR(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield Ix(n,i)}var i}),aR.apply(this,arguments)}function Ix(n,t,e){return lR.apply(this,arguments)}function lR(){return lR=(0,_e.Z)(function*(n,t,e){if(!ig(t))throw t;n.Gr.add(1),yield sy(n),n.Jr.set("Offline"),e||(e=()=>bB(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield rC(n)}))}),lR.apply(this,arguments)}function RB(n,t){return t().catch(e=>Ix(n,e,t))}function oy(n){return cR.apply(this,arguments)}function cR(){return cR=(0,_e.Z)(function*(n){const t=We(n),e=xf(t);let i=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Y$(t);)try{const r=yield E$(t.localStore,i);if(null===r){0===t.Qr.length&&e._r();break}i=r.batchId,W$(t,r)}catch(r){yield Ix(t,r)}OB(t)&&PB(t)}),cR.apply(this,arguments)}function Y$(n){return Sf(n)&&n.Qr.length<10}function W$(n,t){n.Qr.push(t);const e=xf(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function OB(n){return Sf(n)&&!xf(n).hr()&&n.Qr.length>0}function PB(n){xf(n).start()}function Z$(n){return uR.apply(this,arguments)}function uR(){return uR=(0,_e.Z)(function*(n){xf(n).kr()}),uR.apply(this,arguments)}function K$(n){return dR.apply(this,arguments)}function dR(){return dR=(0,_e.Z)(function*(n){const t=xf(n);for(const e of n.Qr)t.Dr(e.mutations)}),dR.apply(this,arguments)}function Q$(n,t,e){return hR.apply(this,arguments)}function hR(){return hR=(0,_e.Z)(function*(n,t,e){const i=n.Qr.shift(),r=kk.from(i,t,e);yield RB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield oy(n)}),hR.apply(this,arguments)}function X$(n,t){return fR.apply(this,arguments)}function fR(){return fR=(0,_e.Z)(function*(n,t){var e;t&&xf(n).Sr&&(yield(e=(0,_e.Z)(function*(i,r){if(xL(s=r.code)&&s!==pe.ABORTED){const c=i.Qr.shift();xf(i).wr(),yield RB(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield oy(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),OB(n)&&PB(n)}),fR.apply(this,arguments)}function pR(n,t){return mR.apply(this,arguments)}function mR(){return mR=(0,_e.Z)(function*(n,t){const e=We(n);t?(e.Gr.delete(2),yield rC(e)):t||(e.Gr.add(2),yield sy(e),e.Jr.set("Unknown"))}),mR.apply(this,arguments)}function ay(n){return n.Xr||(n.Xr=function(t,e,i){const r=We(t);return r.Fr(),new V$(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:G$.bind(null,n),Ni:$$.bind(null,n),Pr:q$.bind(null,n)}),n.zr.push(function(){var t=(0,_e.Z)(function*(e){e?(n.Xr.wr(),rR(n)?iR(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),kB(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function xf(n){return n.Zr||(n.Zr=function(t,e,i){const r=We(t);return r.Fr(),new H$(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:Z$.bind(null,n),Ni:X$.bind(null,n),Nr:K$.bind(null,n),Cr:Q$.bind(null,n)}),n.zr.push(function(){var t=(0,_e.Z)(function*(e){e?(n.Zr.wr(),yield oy(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class gR{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new gR(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(pe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(n,t){if(cr("AsyncQueue",`${t}: ${n}`),ig(n))return new Re(pe.UNAVAILABLE,`${t}: ${n}`);throw n}class cy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||gt.comparator(e.key,i.key):(e,i)=>gt.comparator(e.key,i.key),this.keyedMap=xk(),this.sortedSet=new Er(this.comparator)}static emptySet(t){return new cy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof cy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new cy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class FB{constructor(){this.eo=new Er(gt.comparator)}track(t){const e=t.doc.key,i=this.eo.get(e);i?0!==t.type&&3===i.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==i.type?this.eo=this.eo.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.eo=this.eo.remove(e):1===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):yt():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,i)=>{t.push(i)}),t}}class uy{constructor(t,e,i,r,s,c,d,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new uy(t,e,cy.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class J${constructor(){this.so=void 0,this.listeners=[]}}class e6{constructor(){this.queries=new ny(t=>dL(t),zw),this.onlineState="Unknown",this.io=new Set}}function _R(n,t){return vR.apply(this,arguments)}function vR(){return vR=(0,_e.Z)(function*(n,t){const e=We(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new J$),r)try{s.so=yield e.onListen(i)}catch(c){const d=ly(c,`Initialization of query '${Dk(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.ro(e.onlineState),s.so&&t.oo(s.so)&&wR(e)}),vR.apply(this,arguments)}function yR(n,t){return bR.apply(this,arguments)}function bR(){return bR=(0,_e.Z)(function*(n,t){const e=We(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),bR.apply(this,arguments)}function t6(n,t){const e=We(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.oo(r)&&(i=!0);c.so=r}}i&&wR(e)}function n6(n,t,e){const i=We(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function wR(n){n.io.forEach(t=>{t.next()})}class CR{constructor(t,e,i){this.query=t,this.ao=e,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new uy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.ho(t)&&(this.ao.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.ao.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.co&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=uy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.ao.next(t)}}class i6{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class NB{constructor(t){this.k=t}Hn(t){return pu(this.k,t)}Jn(t){return t.metadata.exists?HL(this.k,t.document,!1):_i.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return Hr(t)}}class r6{constructor(t,e,i){this.mo=t,this.localStore=e,this.k=i,this.queries=[],this.documents=[],this.progress=LB(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,i=new NB(this.k);for(const r of t)if(r.metadata.queries){const s=i.Hn(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||Un()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,_e.Z)(function*(){const e=yield function(n,t,e,i){return $k.apply(this,arguments)}(t.localStore,new NB(t.k),t.documents,t.mo.id),i=t.po(t.documents);for(const r of t.queries)yield M$(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",new b$(Object.assign({},t.progress),e)})()}}function LB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class BB{constructor(t){this.key=t}}class VB{constructor(t){this.key=t}}class HB{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=Un(),this.mutatedKeys=Un(),this.Ao=hL(t),this.Ro=new cy(this.Ao)}get Po(){return this.To}bo(t,e){const i=e?e.vo:new FB,r=e?e.Ro:this.Ro;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const m=ux(this.query)&&r.size===this.query.limit?r.last():null,y=dx(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((C,S)=>{const A=r.get(C),P=Gw(this.query,S)?S:null,H=!!A&&this.mutatedKeys.has(A.key),J=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let se=!1;A&&P?A.data.isEqual(P.data)?H!==J&&(i.track({type:3,doc:P}),se=!0):this.Vo(A,P)||(i.track({type:2,doc:P}),se=!0,(m&&this.Ao(P,m)>0||y&&this.Ao(P,y)<0)&&(d=!0)):!A&&P?(i.track({type:0,doc:P}),se=!0):A&&!P&&(i.track({type:1,doc:A}),se=!0,(m||y)&&(d=!0)),se&&(P?(c=c.add(P),s=J?s.add(C):s.delete(C)):(c=c.delete(C),s=s.delete(C)))}),ux(this.query)||dx(this.query))for(;c.size>this.query.limit;){const C=ux(this.query)?c.last():c.first();c=c.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{Ro:c,vo:i,Bn:d,mutatedKeys:s}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const s=t.vo.no();s.sort((y,C)=>function(S,A){const P=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return P(S)-P(A)}(y.type,C.type)||this.Ao(y.doc,C.doc)),this.So(i);const c=e?this.Do():[],d=0===this.Io.size&&this.current?1:0,m=d!==this.Eo;return this.Eo=d,0!==s.length||m?{snapshot:new uy(this.query,t.Ro,r,s,t.mutatedKeys,0===d,m,!1),Co:c}:{Co:c}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new FB,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=Un(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const e=[];return t.forEach(i=>{this.Io.has(i)||e.push(new VB(i))}),this.Io.forEach(i=>{t.has(i)||e.push(new BB(i))}),e}ko(t){this.To=t.zn,this.Io=Un();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return uy.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class s6{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class o6{constructor(t){this.key=t,this.$o=!1}}class a6{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Fo={},this.Oo=new ny(d=>dL(d),zw),this.Mo=new Map,this.Lo=new Set,this.Bo=new Er(gt.comparator),this.Uo=new Map,this.qo=new Yk,this.Ko={},this.jo=new Map,this.Qo=sg.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function l6(n,t){return DR.apply(this,arguments)}function DR(){return DR=(0,_e.Z)(function*(n,t){const e=qR(n);let i,r;const s=e.Oo.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.xo();else{const c=yield iy(e.localStore,Za(t)),d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield ER(e,t,i,"current"===d),e.isPrimaryClient&&Tx(e.remoteStore,c)}return r}),DR.apply(this,arguments)}function ER(n,t,e,i){return SR.apply(this,arguments)}function SR(){return SR=(0,_e.Z)(function*(n,t,e,i){n.Go=(C,S,A)=>{return(P=(0,_e.Z)(function*(H,J,se,Ye){let nt=J.view.bo(se);nt.Bn&&(nt=yield Ex(H.localStore,J.query,!1).then(({documents:In})=>J.view.bo(In,nt)));const ut=Ye&&Ye.targetChanges.get(J.targetId),ct=J.view.applyChanges(nt,H.isPrimaryClient,ut);return FR(H,J.targetId,ct.Co),ct.snapshot}),function(H,J,se,Ye){return P.apply(this,arguments)})(n,C,S,A);var P};const r=yield Ex(n.localStore,t,!0),s=new HB(t,r.zn),c=s.bo(r.documents),d=Zw.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),m=s.applyChanges(c,n.isPrimaryClient,d);FR(n,e,m.Co);const y=new s6(t,e,s);return n.Oo.set(t,y),n.Mo.has(e)?n.Mo.get(e).push(t):n.Mo.set(e,[t]),m.snapshot}),SR.apply(this,arguments)}function c6(n,t){return xR.apply(this,arguments)}function xR(){return xR=(0,_e.Z)(function*(n,t){const e=We(n),i=e.Oo.get(t),r=e.Mo.get(i.targetId);if(r.length>1)return e.Mo.set(i.targetId,r.filter(s=>!zw(s,t))),void e.Oo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ry(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),sC(e.remoteStore,i.targetId),dy(e,i.targetId)}).catch(og))):(dy(e,i.targetId),yield ry(e.localStore,i.targetId,!0))}),xR.apply(this,arguments)}function MR(){return MR=(0,_e.Z)(function*(n,t,e){const i=YR(n);try{const r=yield function(s,c){const d=We(s),m=Br.now(),y=c.reduce((S,A)=>S.add(A.key),Un());let C;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>d.Wn.vn(S,y).next(A=>{C=A;const P=[];for(const H of c){const J=FG(H,C.get(H.key));null!=J&&P.push(new yf(H.key,J,rL(J.value.mapValue),dr.exists(!0)))}return d.An.addMutationBatch(S,m,P,c)})).then(S=>(S.applyToLocalDocumentSet(C),{batchId:S.batchId,changes:C}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let m=s.Ko[s.currentUser.toKey()];m||(m=new Er(on)),m=m.insert(c,d),s.Ko[s.currentUser.toKey()]=m}(i,r.batchId,e),yield Bd(i,r.changes),yield oy(i.remoteStore)}catch(r){const s=ly(r,"Failed to persist write");e.reject(s)}}),MR.apply(this,arguments)}function jB(n,t){return TR.apply(this,arguments)}function TR(){return TR=(0,_e.Z)(function*(n,t){const e=We(n);try{const i=yield D$(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.Uo.get(s);c&&(Rt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.$o=!0:r.modifiedDocuments.size>0?Rt(c.$o):r.removedDocuments.size>0&&(Rt(c.$o),c.$o=!1))}),yield Bd(e,i,t)}catch(i){yield og(i)}}),TR.apply(this,arguments)}function UB(n,t,e){const i=We(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Oo.forEach((s,c)=>{const d=c.view.ro(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=We(s);d.onlineState=c;let m=!1;d.queries.forEach((y,C)=>{for(const S of C.listeners)S.ro(c)&&(m=!0)}),m&&wR(d)}(i.eventManager,t),r.length&&i.Fo.Pr(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function d6(n,t,e){return IR.apply(this,arguments)}function IR(){return IR=(0,_e.Z)(function*(n,t,e){const i=We(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Uo.get(t),s=r&&r.key;if(s){let c=new Er(gt.comparator);c=c.insert(s,_i.newNoDocument(s,$t.min()));const d=Un().add(s),m=new Ww($t.min(),new Map,new Hi(on),c,d);yield jB(i,m),i.Bo=i.Bo.remove(s),i.Uo.delete(t),NR(i)}else yield ry(i.localStore,t,!1).then(()=>dy(i,t,e)).catch(og)}),IR.apply(this,arguments)}function h6(n,t){return AR.apply(this,arguments)}function AR(){return AR=(0,_e.Z)(function*(n,t){const e=We(n),i=t.batch.batchId;try{const r=yield C$(e.localStore,t);PR(e,i,null),OR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Bd(e,r)}catch(r){yield og(r)}}),AR.apply(this,arguments)}function f6(n,t,e){return kR.apply(this,arguments)}function kR(){return kR=(0,_e.Z)(function*(n,t,e){const i=We(n);try{const r=yield function(s,c){const d=We(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return d.An.lookupMutationBatch(m,c).next(C=>(Rt(null!==C),y=C.keys(),d.An.removeMutationBatch(m,C))).next(()=>d.An.performConsistencyCheck(m)).next(()=>d.Wn.vn(m,y))})}(i.localStore,t);PR(i,t,e),OR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Bd(i,r)}catch(r){yield og(r)}}),kR.apply(this,arguments)}function RR(){return RR=(0,_e.Z)(function*(n,t){const e=We(n);Sf(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=We(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.An.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.jo.get(i)||[];r.push(t),e.jo.set(i,r)}catch(i){const r=ly(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),RR.apply(this,arguments)}function OR(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function PR(n,t,e){const i=We(n);let r=i.Ko[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Ko[i.currentUser.toKey()]=r}}function dy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Mo.get(t))n.Oo.delete(i),e&&n.Fo.zo(i,e);n.Mo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(i=>{n.qo.containsKey(i)||zB(n,i)})}function zB(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(sC(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),NR(n))}function FR(n,t,e){for(const i of e)i instanceof BB?(n.qo.addReference(i.key,t),m6(n,i)):i instanceof VB?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,t),n.qo.containsKey(i.key)||zB(n,i.key)):yt()}function m6(n,t){const e=t.key,i=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(i)||(Le("SyncEngine","New document in limbo: "+e),n.Lo.add(i),NR(n))}function NR(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new gt(On.fromString(t)),i=n.Qo.next();n.Uo.set(i,new o6(e)),n.Bo=n.Bo.insert(e,i),Tx(n.remoteStore,new wf(Za(zv(e.path)),i,2,pa.I))}}function Bd(n,t,e){return LR.apply(this,arguments)}function LR(){return LR=(0,_e.Z)(function*(n,t,e){const i=We(n),r=[],s=[],c=[];var d;i.Oo.isEmpty()||(i.Oo.forEach((d,m)=>{c.push(i.Go(m,t,e).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,y.fromCache?"not-current":"current"),r.push(y);const C=jk.$n(m.targetId,y);s.push(C)}}))}),yield Promise.all(c),i.Fo.Pr(r),yield(d=(0,_e.Z)(function*(m,y){const C=We(m);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Ae.forEach(y,A=>Ae.forEach(A.kn,P=>C.persistence.referenceDelegate.addReference(S,A.targetId,P)).next(()=>Ae.forEach(A.xn,P=>C.persistence.referenceDelegate.removeReference(S,A.targetId,P)))))}catch(S){if(!ig(S))throw S;Le("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const A=S.targetId;if(!S.fromCache){const P=C.qn.get(A),J=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);C.qn=C.qn.insert(A,J)}}}),function(m,y){return d.apply(this,arguments)})(i.localStore,s))}),LR.apply(this,arguments)}function g6(n,t){return BR.apply(this,arguments)}function BR(){return BR=(0,_e.Z)(function*(n,t){const e=We(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const i=yield yB(e.localStore,t);e.currentUser=t,(r=e).jo.forEach(c=>{c.forEach(d=>{d.reject(new Re(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.jo.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Bd(e,i.Gn)}var r}),BR.apply(this,arguments)}function _6(n,t){const e=We(n),i=e.Uo.get(t);if(i&&i.$o)return Un().add(i.key);{let r=Un();const s=e.Mo.get(t);if(!s)return r;for(const c of s){const d=e.Oo.get(c);r=r.unionWith(d.view.Po)}return r}}function v6(n,t){return VR.apply(this,arguments)}function VR(){return VR=(0,_e.Z)(function*(n,t){const e=We(n),i=yield Ex(e.localStore,t.query,!0),r=t.view.ko(i);return e.isPrimaryClient&&FR(e,t.targetId,r.Co),r}),VR.apply(this,arguments)}function y6(n){return HR.apply(this,arguments)}function HR(){return HR=(0,_e.Z)(function*(n){const t=We(n);return DB(t.localStore).then(e=>Bd(t,e))}),HR.apply(this,arguments)}function b6(n,t,e,i){return jR.apply(this,arguments)}function jR(){return jR=(0,_e.Z)(function*(n,t,e,i){const r=We(n),s=yield function(c,d){const m=We(c),y=We(m.An);return m.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.Zt(C,d).next(S=>S?m.Wn.vn(C,S):Ae.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield oy(r.remoteStore):"acknowledged"===e||"rejected"===e?(PR(r,t,i||null),OR(r,t),d=t,We(We(r.localStore).An).ee(d)):yt(),yield Bd(r,s)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)}),jR.apply(this,arguments)}function UR(){return UR=(0,_e.Z)(function*(n,t){const e=We(n);if(qR(e),YR(e),!0===t&&!0!==e.Wo){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield GB(e,i.toArray());e.Wo=!0,yield pR(e.remoteStore,!0);for(const s of r)Tx(e.remoteStore,s)}else if(!1===t&&!1!==e.Wo){const i=[];let r=Promise.resolve();e.Mo.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(dy(e,c),ry(e.localStore,c,!0))),sC(e.remoteStore,c)}),yield r,yield GB(e,i),function(s){const c=We(s);c.Uo.forEach((d,m)=>{sC(c.remoteStore,m)}),c.qo.hs(),c.Uo=new Map,c.Bo=new Er(gt.comparator)}(e),e.Wo=!1,yield pR(e.remoteStore,!1)}}),UR.apply(this,arguments)}function GB(n,t,e){return zR.apply(this,arguments)}function zR(){return zR=(0,_e.Z)(function*(n,t,e){const i=We(n),r=[],s=[];for(const c of t){let d;const m=i.Mo.get(c);if(m&&0!==m.length){d=yield iy(i.localStore,Za(m[0]));for(const y of m){const C=i.Oo.get(y),S=yield v6(i,C);S.snapshot&&s.push(S.snapshot)}}else{const y=yield CB(i.localStore,c);d=yield iy(i.localStore,y),yield ER(i,$B(y),c,!1)}r.push(d)}return i.Fo.Pr(s),r}),zR.apply(this,arguments)}function $B(n){return cL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function C6(n){const t=We(n);return We(We(t.localStore).persistence).Tn()}function D6(n,t,e,i){return GR.apply(this,arguments)}function GR(){return GR=(0,_e.Z)(function*(n,t,e,i){const r=We(n);if(r.Wo)Le("SyncEngine","Ignoring unexpected query state notification.");else if(r.Mo.has(t))switch(e){case"current":case"not-current":{const s=yield DB(r.localStore),c=Ww.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Bd(r,s,c);break}case"rejected":yield ry(r.localStore,t,!0),dy(r,t,i);break;default:yt()}}),GR.apply(this,arguments)}function E6(n,t,e){return $R.apply(this,arguments)}function $R(){return $R=(0,_e.Z)(function*(n,t,e){const i=qR(n);if(i.Wo){for(const r of t){if(i.Mo.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const s=yield CB(i.localStore,r),c=yield iy(i.localStore,s);yield ER(i,$B(s),c.targetId,!1),Tx(i.remoteStore,c)}for(const r of e)i.Mo.has(r)&&(yield ry(i.localStore,r,!1).then(()=>{sC(i.remoteStore,r),dy(i,r)}).catch(og))}}),$R.apply(this,arguments)}function qR(n){const t=We(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=jB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=d6.bind(null,t),t.Fo.Pr=t6.bind(null,t.eventManager),t.Fo.zo=n6.bind(null,t.eventManager),t}function YR(n){const t=We(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=h6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=f6.bind(null,t),t}class qB{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,_e.Z)(function*(){e.k=iC(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return vB(this.persistence,new _B,t.initialUser,this.k)}Yo(t){return new O$(Wk.ks,this.k)}Jo(t){return new xB}terminate(){var t=this;return(0,_e.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class YB extends qB{constructor(t,e,i){super(),this.ta=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield e().call(i,t),yield function(n){return Gk.apply(this,arguments)}(i.localStore),yield i.ta.initialize(i,t),yield YR(i.ta.syncEngine),yield oy(i.ta.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(t){return vB(this.persistence,new _B,t.initialUser,this.k)}Xo(t){return new p$(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=Hk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Fo.withCacheSize(this.cacheSizeBytes):Fo.DEFAULT;return new Vk(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,TB(),Mx(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new xB}}class x6 extends YB{constructor(t,e){super(t,e,!1),this.ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield e().call(i,t);const r=i.ta.syncEngine;i.sharedClientState instanceof Xk&&(i.sharedClientState.syncEngine={mi:b6.bind(null,r),gi:D6.bind(null,r),yi:E6.bind(null,r),Tn:C6.bind(null,r),_i:y6.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var s=(0,_e.Z)(function*(c){yield function(n,t){return UR.apply(this,arguments)}(i.ta.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):c||i.gcScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}Jo(t){const e=TB();if(!Xk.bt(e))throw new Re(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Hk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Xk(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class WR{initialize(t,e){var i=this;return(0,_e.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>UB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=g6.bind(null,i.syncEngine),yield pR(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new e6}createDatastore(t){const e=iC(t.databaseInfo.databaseId),i=new B$(t.databaseInfo);return new j$(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>UB(this.syncEngine,d,0),c=MB.bt()?new MB:new F$,new z$(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,m,y){const C=new a6(i,r,s,c,d,m);return y&&(C.Wo=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,_e.Z)(function*(e){const i=We(e);Le("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield sy(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function WB(n,t=10240){let e=0;return{read:()=>(0,_e.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ax{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ea(this.observer.next,t)}error(t){this.observer.error?this.ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}na(){this.muted=!0}ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class M6{constructor(t,e){this.sa=t,this.k=e,this.metadata=new Lr,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sa.cancel()}getMetadata(){var t=this;return(0,_e.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,_e.Z)(function*(){return yield t.getMetadata(),t.ra()})()}ra(){var t=this;return(0,_e.Z)(function*(){const e=yield t.oa();if(null===e)return null;const i=t.ia.decode(e),r=Number(i);isNaN(r)&&t.aa(`length string (${i}) is not valid number`);const s=yield t.ca(r);return new i6(JSON.parse(s),e.length+r)})()}ua(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oa(){var t=this;return(0,_e.Z)(function*(){for(;t.ua()<0&&!(yield t.ha()););if(0===t.buffer.length)return null;const e=t.ua();e<0&&t.aa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ca(t){var e=this;return(0,_e.Z)(function*(){for(;e.buffer.length<t;)(yield e.ha())&&e.aa("Reached the end of bundle when more is expected.");const i=e.ia.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}aa(t){throw this.sa.cancel(),new Error(`Invalid bundle format: ${t}`)}ha(){var t=this;return(0,_e.Z)(function*(){const e=yield t.sa.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class T6{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Re(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,_e.Z)(function*(s,c){const d=We(s),m=Xw(d.k)+"/documents",y={documents:c.map(P=>Qw(d.k,P))},C=yield d.ji("BatchGetDocuments",m,y),S=new Map;C.forEach(P=>{const H=function(n,t){return"found"in t?function(e,i){Rt(!!i.found);const r=pu(e,i.found.name),s=Hr(i.found.updateTime),c=new Ps({mapValue:{fields:i.found.fields}});return _i.newFoundDocument(r,s,c)}(n,t):"missing"in t?function(e,i){Rt(!!i.missing),Rt(!!i.readTime);const r=pu(e,i.missing),s=Hr(i.readTime);return _i.newNoDocument(r,s)}(n,t):yt()}(d.k,P);S.set(H.key.toString(),H)});const A=[];return c.forEach(P=>{const H=S.get(P.toString());Rt(!!H),A.push(H)}),A}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Yw(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=gt.fromPath(r);t.mutations.push(new Sk(s,t.precondition(s)))}),yield(i=(0,_e.Z)(function*(r,s){const c=We(r),d=Xw(c.k)+"/documents",m={writes:s.map(y=>vx(c.k,y))};yield c.Bi("Commit",d,m)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw yt();e=$t.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Re(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?dr.updateTime(e):dr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual($t.min()))throw new Re(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dr.updateTime(e)}return dr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class I6{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.la=5,this.ur=new Jk(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var t=this;this.ur.Zi((0,_e.Z)(function*(){const e=new T6(t.datastore),i=t.da(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.wa(s)}))}).catch(r=>{t.wa(r)})}))}da(t){try{const e=this.updateFunction(t);return!Xm(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(t){this.la>0&&this._a(t)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(t)}_a(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!xL(e)}return!1}}class A6{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ds.UNAUTHENTICATED,this.clientId=ZN.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,_e.Z)(function*(d){Le("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,()=>Promise.resolve())}getConfiguration(){var t=this;return(0,_e.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ly(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function ZB(n,t){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,_e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,_e.Z)(function*(s){i.isEqual(s)||(yield yB(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),ZR.apply(this,arguments)}function KB(n,t){return KR.apply(this,arguments)}function KR(){return KR=(0,_e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield QR(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>{return(s=(0,_e.Z)(function*(c,d){const m=We(c);m.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const y=Sf(m);m.Gr.add(3),yield sy(m),y&&m.Jr.set("Unknown"),yield m.remoteSyncer.handleCredentialChange(d),m.Gr.delete(3),yield rC(m)}),function(c,d){return s.apply(this,arguments)})(t.remoteStore,r);var s}),n.onlineComponents=t}),KR.apply(this,arguments)}function QR(n){return XR.apply(this,arguments)}function XR(){return XR=(0,_e.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield ZB(n,new qB)),n.offlineComponents}),XR.apply(this,arguments)}function kx(n){return JR.apply(this,arguments)}function JR(){return JR=(0,_e.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield KB(n,new WR)),n.onlineComponents}),JR.apply(this,arguments)}function QB(n){return QR(n).then(t=>t.persistence)}function eO(n){return QR(n).then(t=>t.localStore)}function XB(n){return kx(n).then(t=>t.remoteStore)}function tO(n){return kx(n).then(t=>t.syncEngine)}function hy(n){return nO.apply(this,arguments)}function nO(){return nO=(0,_e.Z)(function*(n){const t=yield kx(n),e=t.eventManager;return e.onListen=l6.bind(null,t.syncEngine),e.onUnlisten=c6.bind(null,t.syncEngine),e}),nO.apply(this,arguments)}function JB(n,t,e={}){const i=new Lr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,s,c,d,m){const y=new Ax({next:S=>{s.enqueueAndForget(()=>yR(r,C));const A=S.docs.has(c);!A&&S.fromCache?m.reject(new Re(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&S.fromCache&&d&&"server"===d.source?m.reject(new Re(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),C=new CR(zv(c.path),y,{includeMetadataChanges:!0,wo:!0});return _R(r,C)}(yield hy(n),n.asyncQueue,t,e,i)})),i.promise}function eV(n,t,e={}){const i=new Lr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,s,c,d,m){const y=new Ax({next:S=>{s.enqueueAndForget(()=>yR(r,C)),S.fromCache&&"server"===d.source?m.reject(new Re(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),C=new CR(c,y,{includeMetadataChanges:!0,wo:!0});return _R(r,C)}(yield hy(n),n.asyncQueue,t,e,i)})),i.promise}class V6{constructor(t,e,i,r,s,c,d,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=m}}class fy{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof fy&&t.projectId===this.projectId&&t.database===this.database}}const tV=new Map;function iO(n,t,e){if(!e)throw new Re(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function nV(n,t,e,i){if(!0===t&&!0===i)throw new Re(pe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function iV(n){if(!gt.isDocumentKey(n))throw new Re(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rV(n){if(gt.isDocumentKey(n))throw new Re(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rx(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":yt()}function _n(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Rx(n);throw new Re(pe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function sV(n,t){if(t<=0)throw new Re(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class oV{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Re(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Re(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,nV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class oC{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oV({}),this._settingsFrozen=!1,t instanceof fy?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Re(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fy(r.options.projectId)}(t))}get app(){if(!this._app)throw new Re(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Re(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new lG;switch(e.type){case"gapi":const i=e.client;return Rt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new hG(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Re(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=tV.get(t);e&&(Le("ComponentProvider","Removing Datastore"),tV.delete(t),e.terminate())}(this),Promise.resolve()}}class fi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fi(this.firestore,t,this._key)}}class Ns{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ns(this.firestore,t,this._query)}}class gu extends Ns{constructor(t,e,i){super(t,e,zv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fi(this.firestore,null,new gt(t))}withConverter(t){return new gu(this.firestore,t,this._path)}}function aV(n,t,...e){if(n=(0,F.m9)(n),iO("collection","path",t),n instanceof oC){const i=On.fromString(t,...e);return rV(i),new gu(n,null,i)}{if(!(n instanceof fi||n instanceof gu))throw new Re(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(t,...e));return rV(i),new gu(n.firestore,null,i)}}function Ox(n,t,...e){if(n=(0,F.m9)(n),1===arguments.length&&(t=ZN.A()),iO("doc","path",t),n instanceof oC){const i=On.fromString(t,...e);return iV(i),new fi(n,null,new gt(i))}{if(!(n instanceof fi||n instanceof gu))throw new Re(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(On.fromString(t,...e));return iV(i),new fi(n.firestore,n instanceof gu?n.converter:null,new gt(i))}}function lV(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),(n instanceof fi||n instanceof gu)&&(t instanceof fi||t instanceof gu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function cV(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),n instanceof Ns&&t instanceof Ns&&n.firestore===t.firestore&&zw(n._query,t._query)&&n.converter===t.converter}class U6{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Jk(this,"async_queue_retry"),this.Ra=()=>{const e=Mx();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=Mx();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pa(),this.ba(t)}enterRestrictedMode(t){if(!this.ya){this.ya=!0,this.Ia=t||!1;const e=Mx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ra)}}enqueue(t){if(this.Pa(),this.ya)return new Promise(()=>{});const e=new Lr;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ga.push(t),this.va()))}va(){var t=this;return(0,_e.Z)(function*(){if(0!==t.ga.length){try{yield t.ga[0](),t.ga.shift(),t.ur.reset()}catch(e){if(!ig(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.ga.length>0&&t.ur.Zi(()=>t.va())}})()}ba(t){const e=this.ma.then(()=>(this.Ea=!0,t().catch(i=>{throw this.Ta=i,this.Ea=!1,cr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Ea=!1,i))));return this.ma=e,e}enqueueAfterDelay(t,e,i){this.Pa(),this.Aa.indexOf(t)>-1&&(e=0);const r=gR.createAndSchedule(this,t,e,i,s=>this.Va(s));return this.pa.push(r),r}Pa(){this.Ta&&yt()}verifyOperationInProgress(){}Sa(){var t=this;return(0,_e.Z)(function*(){let e;do{e=t.ma,yield e}while(e!==t.ma)})()}Da(t){for(const e of this.pa)if(e.timerId===t)return!0;return!1}Ca(t){return this.Sa().then(()=>{this.pa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.pa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sa()})}Na(t){this.Aa.push(t)}Va(t){const e=this.pa.indexOf(t);this.pa.splice(e,1)}}function rO(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class z6{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class xi extends oC{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new U6,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||uV(this),this._firestoreClient.terminate()}}function Sr(n){return n._firestoreClient||uV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function uV(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new V6(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new A6(n._authCredentials,n._appCheckCredentials,n._queue,i)}function dV(n,t,e){const i=new Lr;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield ZB(n,e),yield KB(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===pe.FAILED_PRECONDITION||s.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function hV(n){if(n._initialized||n._terminated)throw new Re(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Re(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class _u{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _u(Vr.fromBase64String(t))}catch(e){throw new Re(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new _u(Vr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ag{constructor(t){this._methodName=t}}class Px{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return on(this._lat,t._lat)||on(this._long,t._long)}}const J6=/^__.*__$/;class eq{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new yf(t,this.data,this.fieldMask,e,this.fieldTransforms):new qw(t,this.data,e,this.fieldTransforms)}}class fV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new yf(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function pV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class Fx{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.k=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ka(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(t){return new Fx(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$a({path:i,Oa:!1});return r.Ma(t),r}La(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$a({path:i,Oa:!1});return r.ka(),r}Ba(t){return this.$a({path:void 0,Oa:!0})}Ua(t){return Lx(t,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ka(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ma(this.path.get(t))}Ma(t){if(0===t.length)throw this.Ua("Document fields must not be empty");if(pV(this.xa)&&J6.test(t))throw this.Ua('Document fields cannot begin and end with "__"')}}class tq{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=i||iC(t)}ja(t,e,i,r=!1){return new Fx({xa:t,methodName:e,Ka:i,path:hs.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function lg(n){const t=n._freezeSettings(),e=iC(n._databaseId);return new tq(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Nx(n,t,e,i,r,s={}){const c=n.ja(s.merge||s.mergeFields?2:0,t,e,r);lO("Data must be an object, but it was:",c,i);const d=_V(i,c);let m,y;if(s.merge)m=new Vv(c.fieldMask),y=c.fieldTransforms;else if(s.mergeFields){const C=[];for(const S of s.mergeFields){const A=cO(t,S,e);if(!c.contains(A))throw new Re(pe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);yV(C,A)||C.push(A)}m=new Vv(C),y=c.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,y=c.fieldTransforms;return new eq(new Ps(d),m,y)}class aC extends ag{_toFieldTransform(t){if(2!==t.xa)throw t.Ua(1===t.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof aC}}function mV(n,t,e){return new Fx({xa:3,Ka:t.settings.Ka,methodName:n._methodName,Oa:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class sO extends ag{_toFieldTransform(t){return new $w(t.path,new $v)}isEqual(t){return t instanceof sO}}class nq extends ag{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=mV(this,t,!0),i=this.Qa.map(s=>cg(s,e)),r=new eg(i);return new $w(t.path,r)}isEqual(t){return this===t}}class iq extends ag{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=mV(this,t,!0),i=this.Qa.map(s=>cg(s,e)),r=new tg(i);return new $w(t.path,r)}isEqual(t){return this===t}}class rq extends ag{constructor(t,e){super(t),this.Wa=e}_toFieldTransform(t){const e=new qv(t.k,mL(t.k,this.Wa));return new $w(t.path,e)}isEqual(t){return this===t}}function oO(n,t,e,i){const r=n.ja(1,t,e);lO("Data must be an object, but it was:",r,i);const s=[],c=Ps.empty();Qm(i,(m,y)=>{const C=uO(t,m,e);y=(0,F.m9)(y);const S=r.La(C);if(y instanceof aC)s.push(C);else{const A=cg(y,S);null!=A&&(s.push(C),c.set(C,A))}});const d=new Vv(s);return new fV(c,d,r.fieldTransforms)}function aO(n,t,e,i,r,s){const c=n.ja(1,t,e),d=[cO(t,i,e)],m=[r];if(s.length%2!=0)throw new Re(pe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)d.push(cO(t,s[A])),m.push(s[A+1]);const y=[],C=Ps.empty();for(let A=d.length-1;A>=0;--A)if(!yV(y,d[A])){const P=d[A];let H=m[A];H=(0,F.m9)(H);const J=c.La(P);if(H instanceof aC)y.push(P);else{const se=cg(H,J);null!=se&&(y.push(P),C.set(P,se))}}const S=new Vv(y);return new fV(C,S,c.fieldTransforms)}function gV(n,t,e,i=!1){return cg(e,n.ja(i?4:3,t))}function cg(n,t){if(vV(n=(0,F.m9)(n)))return lO("Unsupported field value:",t,n),_V(n,t);if(n instanceof ag)return function(e,i){if(!pV(i.xa))throw i.Ua(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Ua(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=cg(c,i.Ba(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,F.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mL(i.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Br.fromDate(e);return{timestampValue:Kw(i.k,r)}}if(e instanceof Br){const r=new Br(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Kw(i.k,r)}}if(e instanceof Px)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _u)return{bytesValue:FL(i.k,e._byteString)};if(e instanceof fi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.Ua(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Mk(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.Ua(`Unsupported field value: ${Rx(e)}`)}(n,t)}function _V(n,t){const e={};return XN(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qm(n,(i,r)=>{const s=cg(r,t.Fa(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function vV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Br||n instanceof Px||n instanceof _u||n instanceof fi||n instanceof ag)}function lO(n,t,e){if(!vV(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Rx(e);throw t.Ua("an object"===i?n+" a custom object":n+" "+i)}var i}function cO(n,t,e){if((t=(0,F.m9)(t))instanceof Vd)return t._internalPath;if("string"==typeof t)return uO(n,t);throw Lx("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const sq=new RegExp("[~\\*/\\[\\]]");function uO(n,t,e){if(t.search(sq)>=0)throw Lx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Vd(...t.split("."))._internalPath}catch(i){throw Lx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Lx(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(s||c)&&(m+=" (found",s&&(m+=` in field ${i}`),c&&(m+=` in document ${r}`),m+=")"),new Re(pe.INVALID_ARGUMENT,d+n+m)}function yV(n,t){return n.some(e=>e.isEqual(t))}class lC{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new oq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Bx("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class oq extends lC{data(){return super.data()}}function Bx(n,t){return"string"==typeof t?uO(n,t):t instanceof Vd?t._internalPath:t._delegate._internalPath}class ug{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hd extends lC{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new cC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Bx("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class cC extends Hd{data(t={}){return super.data(t)}}class Mf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ug(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new cC(this._firestore,this._userDataWriter,i.key,i,new ug(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new cC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ug(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new cC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ug(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return 0!==c.type&&(m=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),y=s.indexOf(c.doc.key)),{type:aq(c.type),doc:d,oldIndex:m,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function aq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function bV(n,t){return n instanceof Hd&&t instanceof Hd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Mf&&t instanceof Mf&&n._firestore===t._firestore&&cV(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function wV(n){if(dx(n)&&0===n.explicitOrderBy.length)throw new Re(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uC{}function Tf(n,...t){for(const e of t)n=e._apply(n);return n}class lq extends uC{constructor(t,e,i){super(),this.Ga=t,this.za=e,this.Ha=i,this.type="where"}_apply(t){const e=lg(t.firestore),i=function(r,s,c,d,m,y,C){let S;if(m.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Re(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on FieldPath.documentId().`);if("in"===y||"not-in"===y){MV(C,y);const P=[];for(const H of C)P.push(xV(d,r,H));S={arrayValue:{values:P}}}else S=xV(d,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||MV(C,y),S=gV(c,"where",C,"in"===y||"not-in"===y);const A=io.create(m,y,S);return function(P,H){if(H.V()){const se=wk(P);if(null!==se&&!se.isEqual(H.field))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${se.toString()}' and '${H.field.toString()}'`);const Ye=bk(P);null!==Ye&&TV(0,H.field,Ye)}const J=function(se,Ye){for(const nt of se.filters)if(Ye.indexOf(nt.op)>=0)return nt.op;return null}(P,function(se){switch(se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(H.op));if(null!==J)throw new Re(pe.INVALID_ARGUMENT,J===H.op?`Invalid query. You cannot use more than one '${H.op.toString()}' filter.`:`Invalid query. You cannot use '${H.op.toString()}' filters with '${J.toString()}' filters.`)}(r,A),A}(t._query,0,e,t.firestore._databaseId,this.Ga,this.za,this.Ha);return new Ns(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new Fd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class uq extends uC{constructor(t,e){super(),this.Ga=t,this.Ja=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Re(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Uv(r,s);return function(d,m){if(null===bk(d)){const y=wk(d);null!==y&&TV(0,y,m.field)}}(i,c),c}(t._query,this.Ga,this.Ja);return new Ns(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Fd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class CV extends uC{constructor(t,e,i){super(),this.type=t,this.Ya=e,this.Xa=i}_apply(t){return new Ns(t.firestore,t.converter,uL(t._query,this.Ya,this.Xa))}}class DV extends uC{constructor(t,e,i){super(),this.type=t,this.Za=e,this.tc=i}_apply(t){const e=SV(t,this.type,this.Za,this.tc);return new Ns(t.firestore,t.converter,(r=e,new Fd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class EV extends uC{constructor(t,e,i){super(),this.type=t,this.Za=e,this.tc=i}_apply(t){const e=SV(t,this.type,this.Za,this.tc);return new Ns(t.firestore,t.converter,(r=e,new Fd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function SV(n,t,e,i){if(e[0]=(0,F.m9)(e[0]),e[0]instanceof lC)return function(r,s,c,d,m){if(!d)throw new Re(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const C of Gv(r))if(C.field.isKeyField())y.push(sx(s,d.key));else{const S=d.data.field(C.field);if(mk(S))throw new Re(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const A=C.field.canonicalString();throw new Re(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}y.push(S)}return new Uw(y,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=lg(n.firestore);return function(s,c,d,m,y,C){const S=s.explicitOrderBy;if(y.length>S.length)throw new Re(pe.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let P=0;P<y.length;P++){const H=y[P];if(S[P].field.isKeyField()){if("string"!=typeof H)throw new Re(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof H}`);if(!Ck(s)&&-1!==H.indexOf("/"))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${m}() must be a plain document ID, but '${H}' contains a slash.`);const J=s.path.child(On.fromString(H));if(!gt.isDocumentKey(J))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${m}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const se=new gt(J);A.push(sx(c,se))}else{const J=gV(d,m,H);A.push(J)}}return new Uw(A,C)}(n._query,n.firestore._databaseId,r,t,e,i)}}function xV(n,t,e){if("string"==typeof(e=(0,F.m9)(e))){if(""===e)throw new Re(pe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ck(t)&&-1!==e.indexOf("/"))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(On.fromString(e));if(!gt.isDocumentKey(i))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sx(n,new gt(i))}if(e instanceof fi)return sx(n,e._key);throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rx(e)}.`)}function MV(n,t){if(!Array.isArray(n)||0===n.length)throw new Re(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Re(pe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function TV(n,t,e){if(!e.isEqual(t))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class dO{convertValue(t,e="none"){switch(Jm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ur(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Hv(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw yt()}}convertObject(t,e){const i={};return Qm(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new Px(ur(t.latitude),ur(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=JN(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Bw(t));default:return null}}convertTimestamp(t){const e=vf(t);return new Br(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=On.fromString(t);Rt(WL(i));const r=new fy(i.get(1),i.get(3)),s=new gt(i.popFirst(5));return r.isEqual(e)||cr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function Vx(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class vq extends dO{constructor(t){super(),this.firestore=t}convertBytes(t){return new _u(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}class IV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=lg(t)}set(t,e,i){this._verifyNotCommitted();const r=If(t,this._firestore),s=Vx(r.converter,e,i),c=Nx(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,dr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=If(t,this._firestore);let c;return c="string"==typeof(e=(0,F.m9)(e))||e instanceof Vd?aO(this._dataReader,"WriteBatch.update",s._key,e,i,r):oO(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,dr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=If(t,this._firestore);return this._mutations=this._mutations.concat(new Yw(e._key,dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function If(n,t){if((n=(0,F.m9)(n)).firestore!==t)throw new Re(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dg extends dO{constructor(t){super(),this.firestore=t}convertBytes(t){return new _u(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fi(this.firestore,null,e)}}function AV(n,t,e){n=_n(n,fi);const i=_n(n.firestore,xi),r=Vx(n.converter,t,e);return py(i,[Nx(lg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,dr.none())])}function kV(n,t,e,...i){n=_n(n,fi);const r=_n(n.firestore,xi),s=lg(r);let c;return c="string"==typeof(t=(0,F.m9)(t))||t instanceof Vd?aO(s,"updateDoc",n._key,t,e,i):oO(s,"updateDoc",n._key,t),py(r,[c.toMutation(n._key,dr.exists(!0))])}function RV(n,...t){var e,i,r;n=(0,F.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||rO(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(rO(t[c])){const S=t[c];t[c]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[c+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[c+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let m,y,C;if(n instanceof fi)y=_n(n.firestore,xi),C=zv(n._key.path),m={next:S=>{t[c]&&t[c](hO(y,n,S))},error:t[c+1],complete:t[c+2]};else{const S=_n(n,Ns);y=_n(S.firestore,xi),C=S._query;const A=new dg(y);m={next:P=>{t[c]&&t[c](new Mf(y,A,S,P))},error:t[c+1],complete:t[c+2]},wV(n._query)}return function(S,A,P,H){const J=new Ax(H),se=new CR(A,J,P);return S.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return _R(yield hy(S),se)})),()=>{J.na(),S.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return yR(yield hy(S),se)}))}}(Sr(y),C,d,m)}function py(n,t){return function(e,i){const r=new Lr;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,t,e){return MR.apply(this,arguments)}(yield tO(e),i,r)})),r.promise}(Sr(n),t)}function hO(n,t,e){const i=e.docs.get(t._key),r=new dg(n);return new Hd(n,r,t._key,i,new ug(e.hasPendingWrites,e.fromCache),t.converter)}class Tq extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=lg(t)}get(t){const e=If(t,this._firestore),i=new vq(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return yt();const s=r[0];if(s.isFoundDocument())return new lC(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new lC(this._firestore,i,e._key,null,e.converter);throw yt()})}set(t,e,i){const r=If(t,this._firestore),s=Vx(r.converter,e,i),c=Nx(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=If(t,this._firestore);let c;return c="string"==typeof(e=(0,F.m9)(e))||e instanceof Vd?aO(this._dataReader,"Transaction.update",s._key,e,i,r):oO(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=If(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=If(t,this._firestore),i=new dg(this._firestore);return super.get(t).then(r=>new Hd(this._firestore,i,e._key,r._document,new ug(!1,!1),e.converter))}}function fO(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function OV(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function PV(){if("undefined"==typeof atob)throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Lv=ca.SDK_VERSION,(0,ca._registerComponent)(new Ya.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),s=new xi(r,new uG(e.getProvider("auth-internal")),new fG(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),(0,ca.registerVersion)(qN,"3.4.1",n),(0,ca.registerVersion)(qN,"3.4.1","esm2017")}();class dC{constructor(t){this._delegate=t}static fromBase64String(t){return PV(),new dC(_u.fromBase64String(t))}static fromUint8Array(t){return OV(),new dC(_u.fromUint8Array(t))}toBase64(){return PV(),this._delegate.toBase64()}toUint8Array(){return OV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pO(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of["next","error","complete"])if(i in e&&"function"==typeof e[i])return!0;return!1}(n)}class Bq{enableIndexedDbPersistence(t,e){return function(n,t){hV(n=_n(n,xi));const e=Sr(n),i=n._freezeSettings(),r=new WR;return dV(e,r,new YB(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){hV(n=_n(n,xi));const t=Sr(n),e=n._freezeSettings(),i=new WR;return dV(t,i,new x6(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new Re(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(e=(0,_e.Z)(function*(i){if(!cc.bt())return Promise.resolve();const r=i+"main";yield cc.delete(r)}),function(i){return e.apply(this,arguments)})(Hk(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class FV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof fy||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Nw("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function(n,t,e,i={}){var r;const s=(n=_n(n,oC))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Nw("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=ds.MOCK_USER;else{c=(0,F.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Re(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ds(m)}n._authCredentials=new cG(new YN(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const t=yield QB(n),e=yield XB(n);return t.setNetworkEnabled(!0),function(i){const r=We(i);return r.Gr.delete(0),rC(r)}(e)}))}(Sr(n=_n(n,xi)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const t=yield QB(n),e=yield XB(n);return t.setNetworkEnabled(!1),(i=(0,_e.Z)(function*(r){const s=We(r);s.Gr.add(0),yield sy(s),s.Jr.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Sr(n=_n(n,xi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,nV("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new Lr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,t){return RR.apply(this,arguments)}(yield tO(t),e)})),e.promise}(Sr(n=_n(n,xi)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new Ax(t);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield hy(n),r=e,We(i).io.add(r),void r.next();var i,r})),()=>{e.na(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield hy(n),r=e,void We(i).io.delete(r);var i,r}))}}(Sr(n=_n(n,xi)),rO(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new my(this,aV(this._delegate,t))}catch(e){throw ro(e,"collection()","Firestore.collection()")}}doc(t){try{return new Qa(this,Ox(this._delegate,t))}catch(e){throw ro(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new so(this,function(n,t){if(n=_n(n,oC),iO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Re(pe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ns(n,null,(e=t,new Fd(On.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ro(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new Lr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const i=yield(r=n,kx(r).then(s=>s.datastore));var r;new I6(n.asyncQueue,i,t,e).run()})),e.promise}(Sr(n=_n(n,xi)),e=>t(new Tq(n,e)))}(this._delegate,e=>t(new NV(this,e)))}batch(){return Sr(this._delegate),new LV(new IV(this._delegate,t=>py(this._delegate,t)))}loadBundle(t){return function(n,t){const e=Sr(n=_n(n,xi)),i=new z6;return function(n,t,e,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,m=function(m,y){if(m instanceof Uint8Array)return WB(m,y);if(m instanceof ArrayBuffer)return WB(new Uint8Array(m),y);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new M6(m,c);var m}(e,iC(t));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function(n,t,e){const i=We(n);var r;(r=(0,_e.Z)(function*(s,c,d){try{const m=yield c.getMetadata();if(yield function(A,P){const H=We(A),J=Hr(P.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",se=>H.Ye.getBundleMetadata(se,P.id)).then(se=>!!se&&se.createTime.compareTo(J)>=0)}(s.localStore,m))return yield c.close(),void d._completeWith((A=m,{taskState:"Success",documentsLoaded:A.totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}));d._updateProgress(LB(m));const y=new r6(m,s.localStore,c.k);let C=yield c.Ho();for(;C;){const A=yield y.yo(C);A&&d._updateProgress(A),C=yield c.Ho()}const S=yield y.complete();yield Bd(s,S.In,void 0),yield function(A,P){const H=We(A);return H.persistence.runTransaction("Save bundle","readwrite",J=>H.Ye.saveBundleMetadata(J,P))}(s.localStore,m),d._completeWith(S.progress)}catch(m){Nw("SyncEngine",`Loading bundle failed with ${m}`),d._failWith(m)}var A}),function(s,c,d){return r.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield tO(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(e,i){const r=We(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ye.getNamedQuery(s,i))}(yield eO(n),t)}))}(Sr(n=_n(n,xi)),t).then(e=>e?new Ns(n,null,e.query):null)}(this._delegate,t).then(e=>e?new so(this,e):null)}}class Hx extends dO{constructor(t){super(),this.firestore=t}convertBytes(t){return new dC(new _u(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Qa.forKey(e,this.firestore,null)}}class NV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Hx(t)}get(t){const e=fg(t);return this._delegate.get(e).then(i=>new hC(this._firestore,new Hd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=fg(t);return i?(fO("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=fg(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=fg(t);return this._delegate.delete(e),this}}class LV{constructor(t){this._delegate=t}set(t,e,i){const r=fg(t);return i?(fO("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=fg(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=fg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class hg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new cC(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new fC(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=hg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new hg(t,new Hx(t),e),r.set(e,s)),s}}hg.INSTANCES=new WeakMap;class Qa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Hx(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Qa(e,new fi(e._delegate,i,new gt(t)))}static forKey(t,e,i){return new Qa(e,new fi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new my(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new my(this.firestore,aV(this._delegate,t))}catch(e){throw ro(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,F.m9)(t))instanceof fi&&lV(this._delegate,t)}set(t,e){e=fO("DocumentReference.set",e);try{return e?AV(this._delegate,t,e):AV(this._delegate,t)}catch(i){throw ro(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?kV(this._delegate,t):kV(this._delegate,t,e,...i)}catch(r){throw ro(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return py(_n(n.firestore,xi),[new Yw(n._key,dr.none())])}(this._delegate)}onSnapshot(...t){const e=BV(t),i=VV(t,r=>new hC(this.firestore,new Hd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return RV(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=_n(n,fi);const t=_n(n.firestore,xi),e=Sr(t),i=new dg(t);return function(n,t){const e=new Lr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,s,c){try{const d=yield function(m,y){const C=We(m);return C.persistence.runTransaction("read document","readonly",S=>C.Wn.Rn(S,y))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Re(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const m=ly(d,`Failed to get document '${s} from cache`);c.reject(m)}}),function(r,s,c){return i.apply(this,arguments)})(yield eO(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Hd(t,i,n._key,r,new ug(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=_n(n,fi);const t=_n(n.firestore,xi);return JB(Sr(t),n._key,{source:"server"}).then(e=>hO(t,n,e))}(this._delegate):function(n){n=_n(n,fi);const t=_n(n.firestore,xi);return JB(Sr(t),n._key).then(e=>hO(t,n,e))}(this._delegate),e.then(i=>new hC(this.firestore,new Hd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Qa(this.firestore,this._delegate.withConverter(t?hg.getInstance(this.firestore,t):null))}}function ro(n,t,e){return n.message=n.message.replace(t,e),n}function BV(n){for(const t of n)if("object"==typeof t&&!pO(t))return t;return{}}function VV(n,t){var e,i;let r;return r=pO(n[0])?n[0]:pO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class hC{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return bV(this._delegate,t._delegate)}}class fC extends hC{data(t){const e=this._delegate.data(t);return function(n,t){n||yt()}(void 0!==e),e}}class so{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Hx(t)}where(t,e,i){try{return new so(this.firestore,Tf(this._delegate,function(n,t,e){const i=t,r=Bx("where",n);return new lq(r,i,e)}(t,e,i)))}catch(r){throw ro(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new so(this.firestore,Tf(this._delegate,function(n,t="asc"){const e=t,i=Bx("orderBy",n);return new uq(i,e)}(t,e)))}catch(i){throw ro(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new so(this.firestore,Tf(this._delegate,function(n){return sV("limit",n),new CV("limit",n,"F")}(t)))}catch(e){throw ro(e,"limit()","Query.limit()")}}limitToLast(t){try{return new so(this.firestore,Tf(this._delegate,function(n){return sV("limitToLast",n),new CV("limitToLast",n,"L")}(t)))}catch(e){throw ro(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new so(this.firestore,Tf(this._delegate,function(...n){return new DV("startAt",n,!0)}(...t)))}catch(e){throw ro(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new so(this.firestore,Tf(this._delegate,function(...n){return new DV("startAfter",n,!1)}(...t)))}catch(e){throw ro(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new so(this.firestore,Tf(this._delegate,function(...n){return new EV("endBefore",n,!0)}(...t)))}catch(e){throw ro(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new so(this.firestore,Tf(this._delegate,function(...n){return new EV("endAt",n,!1)}(...t)))}catch(e){throw ro(e,"endAt()","Query.endAt()")}}isEqual(t){return cV(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=_n(n,Ns);const t=_n(n.firestore,xi),e=Sr(t),i=new dg(t);return function(n,t){const e=new Lr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,s,c){try{const d=yield Ex(r,s,!0),m=new HB(s,d.zn),y=m.bo(d.documents),C=m.applyChanges(y,!1);c.resolve(C.snapshot)}catch(d){const m=ly(d,`Failed to execute query '${s} against cache`);c.reject(m)}}),function(r,s,c){return i.apply(this,arguments)})(yield eO(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Mf(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=_n(n,Ns);const t=_n(n.firestore,xi),e=Sr(t),i=new dg(t);return eV(e,n._query,{source:"server"}).then(r=>new Mf(t,i,n,r))}(this._delegate):function(n){n=_n(n,Ns);const t=_n(n.firestore,xi),e=Sr(t),i=new dg(t);return wV(n._query),eV(e,n._query).then(r=>new Mf(t,i,n,r))}(this._delegate),e.then(i=>new mO(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=BV(t),i=VV(t,r=>new mO(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return RV(this._delegate,e,i)}withConverter(t){return new so(this.firestore,this._delegate.withConverter(t?hg.getInstance(this.firestore,t):null))}}class Hq{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new fC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mO{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new so(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new fC(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Hq(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new fC(this._firestore,i))})}isEqual(t){return bV(this._delegate,t._delegate)}}class my extends so{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Qa(this.firestore,t):null}doc(t){try{return new Qa(this.firestore,void 0===t?Ox(this._delegate):Ox(this._delegate,t))}catch(e){throw ro(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=_n(n.firestore,xi),i=Ox(n),r=Vx(n.converter,t);return py(e,[Nx(lg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,dr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Qa(this.firestore,e))}isEqual(t){return lV(this._delegate,t._delegate)}withConverter(t){return new my(this.firestore,this._delegate.withConverter(t?hg.getInstance(this.firestore,t):null))}}function fg(n){return _n(n,fi)}class gO{constructor(...t){this._delegate=new Vd(...t)}static documentId(){return new gO(hs.keyField().canonicalString())}isEqual(t){return(t=(0,F.m9)(t))instanceof Vd&&this._delegate._internalPath.isEqual(t._internalPath)}}class pg{constructor(t){this._delegate=t}static serverTimestamp(){const t=new sO("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new pg(t)}static delete(){const t=new aC("deleteField");return t._methodName="FieldValue.delete",new pg(t)}static arrayUnion(...t){const e=function(...n){return new nq("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new pg(e)}static arrayRemove(...t){const e=function(...n){return new iq("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new pg(e)}static increment(t){const e=function(n){return new rq("increment",n)}(t);return e._methodName="FieldValue.increment",new pg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const jq={Firestore:FV,GeoPoint:Px,Timestamp:Br,Blob:dC,Transaction:NV,WriteBatch:LV,DocumentReference:Qa,DocumentSnapshot:hC,Query:so,QueryDocumentSnapshot:fC,QuerySnapshot:mO,CollectionReference:my,FieldPath:gO,FieldValue:pg,setLogLevel:function(n){!function(n){_f.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,t){n.INTERNAL.registerComponent(new Ya.wA("firestore-compat",e=>((t,e)=>new FV(t,e,new Bq))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},jq)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.10")}(yS.Z);const Gq=["mat-button",""],$q=["*"],Yq=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Wq=sc(rc(qa(class{constructor(n){this._elementRef=n}})));let HV=(()=>{class n extends Wq{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of Yq)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Io),o.Y36(Pr,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(ko,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:Gq,ngContentSelectors:$q,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1),o._UZ(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[ko],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),pC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Vi,Ke],Ke]}),n})();class _O{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jx extends _O{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class mC extends _O{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Zq extends _O{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class vO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof jx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof mC?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Zq?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Kq extends vO{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,m=this._document.createComment("dom-portal");d.parentNode.insertBefore(m,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let yO=(()=>{class n extends vO{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(Q))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),jd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const jV=vT();class Xq{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Mn(-this._previousScrollPosition.left),t.style.top=Mn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),jV&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),jV&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Jq{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class UV{enable(){}disable(){}attach(){}}function bO(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function zV(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class e5{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();bO(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let t5=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new UV,this.close=c=>new Jq(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new Xq(this._viewportRuler,this._document),this.reposition=c=>new e5(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ha),o.LFG(fd),o.LFG(o.R0b),o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ux{constructor(t){if(this.scrollStrategy=new UV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class n5{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class r5{constructor(t,e,i,r,s,c,d,m,y){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=m,this._outsideClickDispatcher=y,this._backdropElement=null,this._backdropClick=new Ne.x,this._attachments=new Ne.x,this._detachments=new Ne.x,this._locationChanges=dn.w0.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._keydownEvents=new Ne.x,this._outsidePointerEvents=new Ne.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,hn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Mn(this._config.width),t.height=Mn(this._config.height),t.minWidth=Mn(this._config.minWidth),t.minHeight=Mn(this._config.minHeight),t.maxWidth=Mn(this._config.maxWidth),t.maxHeight=Mn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=o_(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Tt((0,Si.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}let wO=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||zp()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),zp()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q),o.LFG(Li))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GV="cdk-overlay-connected-position-bounding-box",s5=/([A-Za-z%]+)$/;class o5{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ne.x,this._resizeSubscription=dn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(GV),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=[];let s;for(let c of this._preferredPositions){let d=this._getOriginPoint(t,c),m=this._getOverlayPoint(d,e,c),y=this._getOverlayFit(m,e,i,c);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,d);this._canFitWithFlexibleDimensions(y,m,i)?r.push({position:c,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,c)}):(!s||s.overlayFit.visibleArea<y.visibleArea)&&(s={overlayFit:y,overlayPoint:m,originPoint:d,position:c,overlayRect:e})}if(r.length){let c=null,d=-1;for(const m of r){const y=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);y>d&&(d=y,c=m)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&mg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(GV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,r;if("center"==e.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;i="start"==e.originX?s:c}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:r}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=qV(e);let{x:c,y:d}=t,m=this._getOffset(r,"x"),y=this._getOffset(r,"y");m&&(c+=m),y&&(d+=y);let A=0-d,P=d+s.height-i.height,H=this._subtractOverflows(s.width,0-c,c+s.width-i.width),J=this._subtractOverflows(s.height,A,P),se=H*J;return{visibleArea:se,isCompletelyWithinViewport:s.width*s.height===se,fitsInViewportVertically:J===s.height,fitsInViewportHorizontally:H==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=$V(this._overlayRef.getConfig().minHeight),d=$V(this._overlayRef.getConfig().minWidth),y=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&y}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=qV(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),m=Math.max(s.top-i.top-t.y,0),y=Math.max(s.left-i.left-t.x,0);let C=0,S=0;return C=r.width<=s.width?y||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,S=r.height<=s.height?m||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:C,y:S},{x:t.x+C,y:t.y+S}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new n5(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,C,S,A;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const P=Math.min(i.bottom-t.y+i.top,t.y),H=this._lastBoundingBoxSize.height;s=2*P,c=t.y-P,s>H&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-H/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)A=i.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)S=t.x,C=i.right-t.x;else{const P=Math.min(i.right-t.x+i.left,t.x),H=this._lastBoundingBoxSize.width;C=2*P,S=t.x-P,C>H&&!this._isInitialRender&&!this._growAfterOpen&&(S=t.x-H/2)}return{top:c,left:S,bottom:d,right:A,width:C,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Mn(i.height),r.top=Mn(i.top),r.bottom=Mn(i.bottom),r.width=Mn(i.width),r.left=Mn(i.left),r.right=Mn(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Mn(s)),c&&(r.maxWidth=Mn(c))}this._lastBoundingBoxSize=i,mg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){mg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){mg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();mg(i,this._getExactOverlayY(e,t,C)),mg(i,this._getExactOverlayX(e,t,C))}else i.position="static";let d="",m=this._getOffset(e,"x"),y=this._getOffset(e,"y");m&&(d+=`translateX(${m}px) `),y&&(d+=`translateY(${y}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=Mn(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Mn(c.maxWidth):s&&(i.maxWidth="")),mg(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let c=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=c,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Mn(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Mn(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zV(t,i),isOriginOutsideView:bO(t,i),isOverlayClipped:zV(e,i),isOverlayOutsideView:bO(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&o_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function mg(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function $V(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(s5);return e&&"px"!==e?null:parseFloat(t)}return n||null}function qV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const YV="cdk-global-overlay-wrapper";class a5{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(YV),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,m=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d);t.position=this._cssPosition,t.marginLeft=m?"0":this._leftOffset,t.marginTop=y?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,m?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(YV),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let l5=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new a5}flexibleConnectedTo(e){return new o5(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fd),o.LFG(Q),o.LFG(Li),o.LFG(wO))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WV=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c5=(()=>{class n extends WV{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u5=(()=>{class n extends WV{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Is(r)},this._clickListener=r=>{const s=Is(r),c="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let m=d.length-1;m>-1;m--){const y=d[m];if(!(y._outsidePointerEvents.observers.length<1)&&y.hasAttached()){if(y.overlayElement.contains(s)||y.overlayElement.contains(c))break;y._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q),o.LFG(Li))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d5=0,Xa=(()=>{class n{constructor(e,i,r,s,c,d,m,y,C,S,A){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=m,this._document=y,this._directionality=C,this._location=S,this._outsideClickDispatcher=A}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new Ux(e);return c.direction=c.direction||this._directionality.value,new r5(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+d5++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new Kq(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(t5),o.LFG(wO),o.LFG(o._Vd),o.LFG(l5),o.LFG(c5),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Q),o.LFG(Ts),o.LFG(Ge),o.LFG(u5))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const h5=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ZV=new o.OlP("cdk-connected-overlay-scroll-strategy");let KV=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),QV=(()=>{class n{constructor(e,i,r,s,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=dn.w0.EMPTY,this._attachSubscription=dn.w0.EMPTY,this._detachSubscription=dn.w0.EMPTY,this._positionSubscription=dn.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new mC(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=tt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=tt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=tt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=tt(e)}get push(){return this._push}set push(e){this._push=tt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=h5);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!br(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Ux({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof KV?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(n,t=!1){return(0,Kn.e)((e,i)=>{let r=0;e.subscribe(new un.Q(i,s=>{const c=n(s,r++);(c||t)&&i.next(s),!c&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xa),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(ZV),o.Y36(Ts,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const p5={provide:ZV,deps:[Xa],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Ud=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Xa,p5],imports:[[ud,jd,h_],h_]}),n})();const m5=["connectionContainer"],g5=["inputContainer"],_5=["label"];function v5(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15),o._UZ(3,"div",16),o._UZ(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15),o._UZ(7,"div",16),o._UZ(8,"div",17),o.qZA(),o.BQk())}function y5(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function b5(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function w5(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function C5(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function D5(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,b5,4,1,"ng-container",12),o.YNc(3,w5,1,0,"ng-content",12),o.YNc(4,C5,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function E5(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function S5(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function x5(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function M5(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function T5(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,M5,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const I5=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],A5=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],k5=new o.OlP("MatError"),R5={transitionMessages:ui("transitionMessages",[It("enter",Ze({opacity:1,transform:"translateY(0%)"})),Yt("void => enter",[Ze({opacity:0,transform:"translateY(-5px)"}),Kt("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let zx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})();const O5=new o.OlP("MatHint");let XV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),P5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const F5=new o.OlP("MatPrefix"),N5=new o.OlP("MatSuffix");let JV=0;const B5=sc(class{constructor(n){this._elementRef=n}},"primary"),V5=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Gx=new o.OlP("MatFormField");let H5=(()=>{class n extends B5{constructor(e,i,r,s,c,d,m){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ne.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+JV++,this._labelId="mat-form-field-label-"+JV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==m,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=tt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Rn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Tt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Tt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Si.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Rn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Rn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Tt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Jl(this._label.nativeElement,"transitionend").pipe((0,hn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,r=0;const s=this._connectionContainerRef.nativeElement,c=s.querySelectorAll(".mat-form-field-outline-start"),d=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const m=s.getBoundingClientRect();if(0===m.width&&0===m.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const y=this._getStartEnd(m),C=e.children,S=this._getStartEnd(C[0].getBoundingClientRect());let A=0;for(let P=0;P<C.length;P++)A+=C[P].offsetWidth;i=Math.abs(S-y)-5,r=A>0?.75*A+10:0}for(let m=0;m<c.length;m++)c[m].style.width=`${i}px`;for(let m=0;m<d.length;m++)d[m].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Ts,8),o.Y36(V5,8),o.Y36(Li),o.Y36(o.R0b),o.Y36(Pr,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,zx,5),o.Suo(r,zx,7),o.Suo(r,XV,5),o.Suo(r,XV,7),o.Suo(r,P5,5),o.Suo(r,k5,5),o.Suo(r,O5,5),o.Suo(r,F5,5),o.Suo(r,N5,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(m5,7),o.Gf(g5,5),o.Gf(_5,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:Gx,useExisting:n}]),o.qOj],ngContentSelectors:A5,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(I5),o.TgZ(0,"div",0),o.TgZ(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,v5,9,0,"ng-container",3),o.YNc(4,y5,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,D5,5,16,"label",8),o.qZA(),o.qZA(),o.YNc(10,E5,2,0,"div",9),o.qZA(),o.YNc(11,S5,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,x5,2,1,"div",12),o.YNc(14,T5,5,2,"div",13),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[Ri,ll,mr,Lb],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[R5.transitionMessages]},changeDetection:0}),n})(),CO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn,Ke,Yh],Ke]}),n})();function t2(...n){const t=(0,Co.jO)(n),{args:e,keys:i}=Qo(n),r=new Hn.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let m=c,y=c;for(let C=0;C<c;C++){let S=!1;(0,$n.Xf)(e[C]).subscribe(new un.Q(s,A=>{S||(S=!0,y--),d[C]=A},()=>m--,void 0,()=>{(!m||!S)&&(y||s.next(i?Ra(i,d):d),s.complete())}))}});return t?r.pipe(Xo(t)):r}function Af(n){return null==n||0===n.length}function s2(n){return null!=n&&"number"==typeof n.length}const xr=new o.OlP("NgValidators"),kf=new o.OlP("NgAsyncValidators"),$5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class EO{static min(t){return function(n){return t=>{if(Af(t.value)||Af(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(Af(t.value)||Af(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function(n){return Af(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Af(n.value)||$5.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Af(t.value)||!s2(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>s2(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return gC;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Af(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return y2(t)}static composeAsync(t){return b2(t)}}function gC(n){return null}function p2(n){return null!=n}function m2(n){const t=(0,o.QGY)(n)?(0,xn.D)(n):n;return(0,o.CqO)(t),t}function g2(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function _2(n,t){return t.map(e=>e(n))}function v2(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function y2(n){if(!n)return null;const t=n.filter(p2);return 0==t.length?null:function(e){return g2(_2(e,t))}}function SO(n){return null!=n?y2(v2(n)):null}function b2(n){if(!n)return null;const t=n.filter(p2);return 0==t.length?null:function(e){return t2(_2(e,t).map(m2)).pipe((0,Je.U)(g2))}}function xO(n){return null!=n?b2(v2(n)):null}function w2(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function C2(n){return n._rawValidators}function D2(n){return n._rawAsyncValidators}function MO(n){return n?Array.isArray(n)?n:[n]:[]}function $x(n,t){return Array.isArray(n)?n.includes(t):n===t}function E2(n,t){const e=MO(t);return MO(n).forEach(r=>{$x(e,r)||e.push(r)}),e}function S2(n,t){return MO(t).filter(e=>!$x(n,e))}class x2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=SO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class vu extends x2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oo extends x2{get formDirective(){return null}get path(){return null}}function _C(n,t){AO(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&T2(n,t)})}(n,t),function(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&T2(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Wx(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Kx(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Zx(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function AO(n,t){const e=C2(n);null!==t.validator?n.setValidators(w2(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=D2(n);null!==t.asyncValidator?n.setAsyncValidators(w2(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Zx(t._rawValidators,r),Zx(t._rawAsyncValidators,r)}function Kx(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=C2(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=D2(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Zx(t._rawValidators,i),Zx(t._rawAsyncValidators,i),e}function T2(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function I2(n,t){AO(n,t)}function A2(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Qx(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const vC="VALID",Xx="INVALID",gy="PENDING",yC="DISABLED";function OO(n){return(FO(n)?n.validators:n)||null}function k2(n){return Array.isArray(n)?SO(n):n||null}function PO(n,t){return(FO(t)?t.asyncValidators:n)||null}function R2(n){return Array.isArray(n)?xO(n):n||null}function FO(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class NO{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=k2(this._rawValidators),this._composedAsyncValidatorFn=R2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===vC}get invalid(){return this.status===Xx}get pending(){return this.status==gy}get disabled(){return this.status===yC}get enabled(){return this.status!==yC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=k2(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=R2(t)}addValidators(t){this.setValidators(E2(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(E2(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(S2(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(S2(t,this._rawAsyncValidators))}hasValidator(t){return $x(this._rawValidators,t)}hasAsyncValidator(t){return $x(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yC,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=vC,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vC||this.status===gy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yC:vC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gy,this._hasOwnPendingAsyncValidator=!0;const e=m2(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof LO?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof oY&&i.at(r)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?yC:this.errors?Xx:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gy)?gy:this._anyControlsHaveStatus(Xx)?Xx:vC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){FO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Jx extends NO{constructor(t=null,e,i){super(OO(e),PO(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Qx(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Qx(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class LO extends NO{constructor(t,e,i){super(OO(e),PO(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Jx?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class oY extends NO{constructor(t,e,i){super(OO(e),PO(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Jx?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const aY={provide:oo,useExisting:(0,o.Gpc)(()=>wC)},bC=(()=>Promise.resolve(null))();let wC=(()=>{class n extends oo{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new o.vpe,this.form=new LO({},SO(e),xO(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){bC.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),_C(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){bC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),Qx(this._directives,e)})}addFormGroup(e){bC.then(()=>{const i=this._findContainer(e.path),r=new LO({});I2(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){bC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){bC.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,A2(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(xr,10),o.Y36(kf,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([aY]),o.qOj]}),n})();const _Y={provide:oo,useExisting:(0,o.Gpc)(()=>CC)};let CC=(()=>{class n extends oo{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kx(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return _C(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Wx(e.control||null,e,!1),Qx(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,A2(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Wx(i||null,e),r instanceof Jx&&(_C(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);I2(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return Kx(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){AO(this.form,this),this._oldForm&&Kx(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(xr,10),o.Y36(kf,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([_Y]),o.qOj,o.TTD]}),n})();const FY=["trigger"],NY=["panel"];function LY(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function BY(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function VY(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function HY(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,BY,2,1,"span",10),o.YNc(2,VY,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function jY(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13),o.TgZ(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)}),o.Hsn(3,1),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const UY=[[["mat-select-trigger"]],"*"],zY=["mat-select-trigger","*"],eH={transformPanelWrap:ui("transformPanelWrap",[Yt("* => void",RI("@transformPanel",[mE()],{optional:!0}))]),transformPanel:ui("transformPanel",[It("void",Ze({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),It("showing",Ze({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),It("showing-multiple",Ze({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Yt("void => *",Kt("120ms cubic-bezier(0, 0, 0.2, 1)")),Yt("* => void",Kt("100ms 25ms linear",Ze({opacity:0})))])};let tH=0;const iH=new o.OlP("mat-select-scroll-strategy"),YY=new o.OlP("MAT_SELECT_CONFIG"),WY={provide:iH,deps:[Xa],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};class ZY{constructor(t,e){this.source=t,this.value=e}}const KY=qa(oc(rc(DA(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),QY=new o.OlP("MatSelectTrigger");let XY=(()=>{class n extends KY{constructor(e,i,r,s,c,d,m,y,C,S,A,P,H,J){var se,Ye,nt;super(c,s,m,y,S),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=C,this._liveAnnouncer=H,this._defaultOptions=J,this._panelOpen=!1,this._compareWith=(ut,ct)=>ut===ct,this._uid="mat-select-"+tH++,this._triggerAriaLabelledBy=null,this._destroy=new Ne.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+tH++,this._panelDoneAnimatingStream=new Ne.x,this._overlayPanelClass=(null===(se=this._defaultOptions)||void 0===se?void 0:se.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(nt=null===(Ye=this._defaultOptions)||void 0===Ye?void 0:Ye.disableOptionCentering)&&void 0!==nt&&nt,this.ariaLabel="",this.optionSelectionChanges=is(()=>{const ut=this.options;return ut?ut.changes.pipe(Rn(ut),Ln(()=>(0,Si.T)(...ut.map(ct=>ct.onSelectionChange)))):this._ngZone.onStable.pipe((0,hn.q)(1),Ln(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(zt(ut=>ut),(0,Je.U)(()=>{})),this._closedStream=this.openedChange.pipe(zt(ut=>!ut),(0,Je.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==J?void 0:J.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=J.typeaheadDebounceInterval),this._scrollStrategyFactory=P,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(A)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(EO.required))&&void 0!==s&&s}set required(e){this._required=tt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=tt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=tt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=ii(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Xc(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe($h(),Tt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Tt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Rn(null),Tt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!br(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(e);const m=this.selected;m&&d!==m&&this._liveAnnouncer.announce(m.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,c=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||br(e))if(!c&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(m=>!m.disabled&&!m.selected);this.options.forEach(m=>{m.disabled||(d?m.select():m.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,hn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new Bb(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Tt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Tt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Si.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Tt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Si.T)(...this.options.map(i=>i._stateChanges)).pipe(Tt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fd),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(ac),o.Y36(o.SBq),o.Y36(Ts,8),o.Y36(wC,8),o.Y36(CC,8),o.Y36(Gx,8),o.Y36(vu,10),o.$8M("tabindex"),o.Y36(iH),o.Y36(dE),o.Y36(YY,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(FY,5),o.Gf(NY,5),o.Gf(QV,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),JY=(()=>{class n extends XY{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Tt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,hn.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=Rm(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new ZY(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let y=this._selectionModel.selected[0]||this.options.first;c=y&&y.group?32:16}r||(c*=-1);const d=0-(e.left+c-(r?s:0)),m=e.right+c-i.width+(r?0:s);d>0?c+=d+8:m>0&&(c-=m+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),c=(s-this._triggerRect.height)/2,d=Math.floor(256/s);let m;return this.disableOptionCentering?0:(m=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*m-c))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),y=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;y>c?this._adjustPanelUp(y,c):d>s?this._adjustPanelDown(d,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),c=i*e-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=Rm(d,this.options,this.optionGroups);const m=r/2;this._scrollTop=this._calculateOverlayScroll(d,m,c),this._offsetY=this._calculateOverlayOffsetY(d,m,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,QY,5),o.Suo(r,j0,5),o.Suo(r,km,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:zx,useExisting:n},{provide:sf,useExisting:n}]),o.qOj],ngContentSelectors:zY,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(UY),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,LY,2,1,"span",3),o.YNc(5,HY,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA(),o.qZA(),o.YNc(8,jY,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[KV,ll,mr,QV,Xr,jo],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[eH.transformPanelWrap,eH.transformPanel]},changeDetection:0}),n})(),rH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[WY],imports:[[Zn,Ud,sv,Ke],Xs,CO,sv,Ke]}),n})();const sH=new Set;let vy,oH=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tW}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!sH.has(n))try{vy||(vy=document.createElement("style"),vy.setAttribute("type","text/css"),document.head.appendChild(vy)),vy.sheet&&(vy.sheet.insertRule(`@media ${n} {body{ }}`,0),sH.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Li))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tW(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let nW=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Ne.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return aH(o_(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=_r(aH(o_(e)).map(c=>this._registerQuery(c).observable));return s=kl(s.pipe((0,hn.q)(1)),s.pipe(_I(1),um(0))),s.pipe((0,Je.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:m,query:y})=>{d.matches=d.matches||m,d.breakpoints[y]=m}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Hn.y(c=>{const d=m=>this._zone.run(()=>c.next(m));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(Rn(i),(0,Je.U)(({matches:c})=>({query:e,matches:c})),Tt(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oH),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aH(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const rW={tooltipState:ui("state",[It("initial, void, hidden",Ze({opacity:0,transform:"scale(0)"})),It("visible",Ze({transform:"scale(1)"})),Yt("* => visible",Kt("200ms cubic-bezier(0, 0, 0.2, 1)",yd([Ze({opacity:0,transform:"scale(0)",offset:0}),Ze({opacity:.5,transform:"scale(0.99)",offset:.5}),Ze({opacity:1,transform:"scale(1)",offset:1})]))),Yt("* => hidden",Kt("100ms cubic-bezier(0, 0, 0.2, 1)",Ze({opacity:0})))])},lH="tooltip-panel",cH=Qs({passive:!0}),uH=new o.OlP("mat-tooltip-scroll-strategy"),lW={provide:uH,deps:[Xa],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},cW=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let dW=(()=>{class n{constructor(e,i,r,s,c,d,m,y,C,S,A,P){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=c,this._platform=d,this._ariaDescriber=m,this._focusMonitor=y,this._dir=S,this._defaultOptions=A,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ne.x,this._handleKeydown=H=>{this._isTooltipVisible()&&27===H.keyCode&&!br(H)&&(H.preventDefault(),H.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=C,this._document=P,A&&(A.position&&(this.position=A.position),A.touchGestures&&(this.touchGestures=A.touchGestures)),S.change.pipe(Tt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),c.runOutsideAngular(()=>{i.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=tt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ii(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ii(e)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Tt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,cH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new jx(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Tt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Tt(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${lH}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Tt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Tt(this._destroyed)).subscribe(()=>{var r;return null===(r=this._tooltipInstance)||void 0===r?void 0:r._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),s.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),s.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:c}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:c}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:c}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,hn.q)(1),Tt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",c!==this._currentPosition){const d=this._overlayRef;if(d){const m=`${this._cssClassPrefix}-${lH}-`;d.removePanelClass(m+this._currentPosition),d.addPanelClass(m+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,cH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),hW=(()=>{class n extends dW{constructor(e,i,r,s,c,d,m,y,C,S,A,P){super(e,i,r,s,c,d,m,y,C,S,A,P),this._tooltipComponent=pW}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xa),o.Y36(o.SBq),o.Y36(Ha),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(Li),o.Y36(JD),o.Y36(Io),o.Y36(uH),o.Y36(Ts,8),o.Y36(cW,8),o.Y36(Q))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),n})(),fW=(()=>{class n{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Ne.x}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const i=e.toState;"hidden"===i&&!this.isVisible()&&this._onHide.next(),("visible"===i||"hidden"===i)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n}),n})(),pW=(()=>{class n extends fW{constructor(e,i){super(e),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(nW))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){2&e&&o.Udp("zoom","visible"===i._visibility?1:null)},features:[o.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0),o.NdJ("@state.start",function(){return i._animationStart()})("@state.done",function(s){return i._animationDone(s)}),o.ALo(1,"async"),o._uU(2),o.qZA()),2&e){let r;o.ekj("mat-tooltip-handset",null==(r=o.lcZ(1,5,i._isHandset))?null:r.matches),o.Q6J("ngClass",i.tooltipClass)("@state",i._visibility),o.xp6(2),o.Oqu(i.message)}},directives:[jo],pipes:[Iu],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[rW.tooltipState]},changeDetection:0}),n})(),dH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[lW],imports:[[pm,Zn,Ud,Ke],Ke,Xs]}),n})();function mW(n,t){if(1&n&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function gW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-select",17),o.NdJ("selectionChange",function(r){return o.CHM(e),o.oxw(2)._changePageSize(r.value)}),o.YNc(2,mW,2,2,"mat-option",18),o.qZA(),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("appearance",e._formFieldAppearance)("color",e.color),o.xp6(1),o.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),o.xp6(1),o.Q6J("ngForOf",e._displayedPageSizeOptions)}}function _W(n,t){if(1&n&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.pageSize)}}function vW(n,t){if(1&n&&(o.TgZ(0,"div",12),o.TgZ(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,gW,3,6,"mat-form-field",14),o.YNc(4,_W,2,1,"div",15),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.hij(" ",e._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function yW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().firstPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),o.uIk("aria-label",e._intl.firstPageLabel)}}function bW(n,t){if(1&n){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().lastPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA(),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),o.uIk("aria-label",e._intl.lastPageLabel)}}let iM=(()=>{class n{constructor(){this.changes=new Ne.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CW={provide:iM,deps:[[new o.FiY,new o.tp0,iM]],useFactory:function(n){return n||new iM}},EW=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),SW=rc(rS(class{}));let xW=(()=>{class n extends SW{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new o.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:c,hidePageSize:d,showFirstLastButtons:m}=r;null!=s&&(this._pageSize=s),null!=c&&(this._pageSizeOptions=c),null!=d&&(this._hidePageSize=d),null!=m&&(this._showFirstLastButtons=m)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(ii(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=ii(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(ii(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>ii(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=tt(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=tt(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[o.qOj]}),n})(),hH=(()=>{class n extends xW{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(iM),o.Y36(o.sBO),o.Y36(EW,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,vW,5,3,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,yW,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return i.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA(),o.qZA(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return i.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA(),o.qZA(),o.YNc(13,bW,3,5,"button",11),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",!i.hidePageSize),o.xp6(3),o.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),o.xp6(1),o.Q6J("ngIf",i.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),o.uIk("aria-label",i._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),o.uIk("aria-label",i._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",i.showFirstLastButtons))},directives:[Ri,HV,hW,H5,JY,Kr,j0],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),MW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[CW],imports:[[Zn,pC,rH,dH,Ke]]}),n})();const TW=["*",[["mat-toolbar-row"]]],IW=["*","mat-toolbar-row"],AW=sc(class{constructor(n){this._elementRef=n}});let kW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),RW=(()=>{class n extends AW{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Li),o.Y36(Q))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,kW,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:IW,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(TW),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),OW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ke],Ke]}),n})();var zO=N(3099);class FW{}class Rf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Rf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Rf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Rf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class NW{encodeKey(t){return fH(t)}encodeValue(t){return fH(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const BW=/%(\d[a-f0-9])/gi,VW={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function fH(n){return encodeURIComponent(n).replace(BW,(t,e)=>{var i;return null!==(i=VW[e])&&void 0!==i?i:t})}function pH(n){return`${n}`}class Of{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new NW,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],m=e.get(c)||[];m.push(d),e.set(c,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Of({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(pH(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(pH(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class HW{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function mH(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function gH(n){return"undefined"!=typeof Blob&&n instanceof Blob}function _H(n){return"undefined"!=typeof FormData&&n instanceof FormData}class EC{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Rf),this.context||(this.context=new HW),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new Of,this.urlWithParams=e}serializeBody(){return null===this.body?null:mH(this.body)||gH(this.body)||_H(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Of?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_H(this.body)?null:gH(this.body)?this.body.type||null:mH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Of?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let y=t.headers||this.headers,C=t.params||this.params;const S=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(y=Object.keys(t.setHeaders).reduce((A,P)=>A.set(P,t.setHeaders[P]),y)),t.setParams&&(C=Object.keys(t.setParams).reduce((A,P)=>A.set(P,t.setParams[P]),C)),new EC(i,r,c,{params:C,headers:y,context:S,reportProgress:m,responseType:s,withCredentials:d})}}var ms=(()=>((ms=ms||{})[ms.Sent=0]="Sent",ms[ms.UploadProgress=1]="UploadProgress",ms[ms.ResponseHeader=2]="ResponseHeader",ms[ms.DownloadProgress=3]="DownloadProgress",ms[ms.Response=4]="Response",ms[ms.User=5]="User",ms))();class GO extends class{constructor(t,e=200,i="OK"){this.headers=t.headers||new Rf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=ms.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new GO({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function $O(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let yH=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof EC)s=e;else{let m,y;m=r.headers instanceof Rf?r.headers:new Rf(r.headers),r.params&&(y=r.params instanceof Of?r.params:new Of({fromObject:r.params})),s=new EC(e,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=Ue(s).pipe(ws(m=>this.handler.handle(m)));if(e instanceof EC||"events"===r.observe)return c;const d=c.pipe(zt(m=>m instanceof GO));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Je.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return d.pipe((0,Je.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return d.pipe((0,Je.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return d.pipe((0,Je.U)(m=>m.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Of).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,$O(r,i))}post(e,i,r={}){return this.request("POST",e,$O(r,i))}put(e,i,r={}){return this.request("PUT",e,$O(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(FW))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const $W=["*"];let rM;function SC(n){var t;return(null===(t=function(){if(void 0===rM&&(rM=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(rM=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return rM}())||void 0===t?void 0:t.createHTML(n))||n}function bH(n){return Error(`Unable to find icon with the name "${n}"`)}function wH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function CH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class _g{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let sM=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new _g(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw CH(r);const d=SC(c);return this._addSvgIconConfig(e,i,new _g("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new _g(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw CH(i);const c=SC(s);return this._addSvgIconSetConfig(e,new _g("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw wH(e);const r=this._cachedIconsByUrl.get(i);return r?Ue(oM(r)):this._loadSvgIconFromConfig(new _g(e,null)).pipe((0,ci.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Je.U)(s=>oM(s)))}getNamedSvgIcon(e,i=""){const r=DH(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):function(n,t){const e=(0,ss.m)(n)?n:()=>n,i=r=>r.error(e());return new Hn.y(i)}(bH(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Ue(oM(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Je.U)(i=>oM(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Ue(r):t2(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(rs(d=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(y)),Ue(null)})))).pipe((0,Je.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw bH(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ci.b)(i=>e.svgText=i),(0,Je.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Ue(null):this._fetchIcon(e).pipe((0,ci.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(SC("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(SC("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,c=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,r);if(!d)throw wH(r);const m=this._inProgressUrlFetches.get(d);if(m)return m;const y=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,Je.U)(C=>SC(C)),Uu(()=>this._inProgressUrlFetches.delete(d)),(0,zO.B)());return this._inProgressUrlFetches.set(d,y),y}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(DH(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return ZW(s)?new _g(s.url,null,s.options):new _g(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(yH,8),o.LFG(wo),o.LFG(Q,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oM(n){return n.cloneNode(!0)}function DH(n,t){return n+":"+t}function ZW(n){return!(!n.url||!n.options)}const KW=sc(class{constructor(n){this._elementRef=n}}),QW=new o.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,o.f3M)(Q),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),EH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],JW=EH.map(n=>`[${n}]`).join(", "),e4=/^url\(['"]?#(.*?)['"]?\)$/;let t4=(()=>{class n extends KW{constructor(e,i,r,s,c){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=dn.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=tt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(JW),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)EH.forEach(c=>{const d=i[s],m=d.getAttribute(c),y=m?m.match(e4):null;if(y){let C=r.get(d);C||(C=[],r.set(d,C)),C.push({name:c,value:y[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,hn.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(sM),o.$8M("aria-hidden"),o.Y36(QW),o.Y36(o.qLn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:$W,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),SH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ke],Ke]}),n})();function qO(n){return(0,Je.U)(()=>n)}const aM=["*"];function n4(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function r4(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const s4=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],o4=["mat-drawer","mat-drawer-content","*"];function a4(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function l4(n,t){1&n&&(o.TgZ(0,"mat-sidenav-content",3),o.Hsn(1,2),o.qZA())}const c4=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],u4=["mat-sidenav","mat-sidenav-content","*"],xH={transformDrawer:ui("transform",[It("open, open-instant",Ze({transform:"none",visibility:"visible"})),It("void",Ze({"box-shadow":"none",visibility:"hidden"})),Yt("void => open-instant",Kt("0ms")),Yt("void <=> open, open-instant => void",Kt("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},h4=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),YO=new o.OlP("MAT_DRAWER_CONTAINER");let lM=(()=>{class n extends tu{constructor(e,i,r,s,c){super(r,s,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>TH)),o.Y36(o.SBq),o.Y36(Ha),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:aM,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),MH=(()=>{class n{constructor(e,i,r,s,c,d,m,y){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=c,this._interactivityChecker=d,this._doc=m,this._container=y,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ne.x,this._animationEnd=new Ne.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(zt(C=>C),(0,Je.U)(()=>{})),this.openedStart=this._animationStarted.pipe(zt(C=>C.fromState!==C.toState&&0===C.toState.indexOf("open")),qO(void 0)),this._closedStream=this.openedChange.pipe(zt(C=>!C),(0,Je.U)(()=>{})),this.closedStart=this._animationStarted.pipe(zt(C=>C.fromState!==C.toState&&"void"===C.toState),qO(void 0)),this._destroyed=new Ne.x,this.onPositionChanged=new o.vpe,this._modeChanged=new Ne.x,this.openedChange.subscribe(C=>{C?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Jl(this._elementRef.nativeElement,"keydown").pipe(zt(C=>27===C.keyCode&&!this.disableClose&&!br(C)),Tt(this._destroyed)).subscribe(C=>this._ngZone.run(()=>{this.close(),C.stopPropagation(),C.preventDefault()}))}),this._animationEnd.pipe($h((C,S)=>C.fromState===S.fromState&&C.toState===S.toState)).subscribe(C=>{const{fromState:S,toState:A}=C;(0===A.indexOf("open")&&"void"===S||"void"===A&&0===S.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=tt(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=tt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(tt(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var e;const i=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe((0,hn.q)(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(x_),o.Y36(Io),o.Y36(Li),o.Y36(o.R0b),o.Y36(_d),o.Y36(Q,8),o.Y36(YO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:aM,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[tu],encapsulation:2,data:{animation:[xH.transformDrawer]},changeDetection:0}),n})(),TH=(()=>{class n{constructor(e,i,r,s,c,d=!1,m){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=m,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new Ne.x,this._doCheckSubject=new Ne.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ne.x,e&&e.change.pipe(Tt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Tt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=tt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:tt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Rn(this._allDrawers),Tt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Rn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(um(10),Tt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(zt(i=>i.fromState!==i.toState),Tt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Tt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Tt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,hn.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Tt((0,Si.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ts,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(fd),o.Y36(h4),o.Y36(Pr,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,lM,5),o.Suo(r,MH,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(lM,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:YO,useExisting:n}])],ngContentSelectors:o4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(s4),o.YNc(0,n4,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,r4,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},directives:[Ri,lM],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),n})(),WO=(()=>{class n extends lM{constructor(e,i,r,s,c){super(e,i,r,s,c)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>AH)),o.Y36(o.SBq),o.Y36(Ha),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:aM,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),IH=(()=>{class n extends MH{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=tt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=ii(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=ii(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(o.uIk("align",null),o.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:aM,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[tu],encapsulation:2,data:{animation:[xH.transformDrawer]},changeDetection:0}),n})(),AH=(()=>{class n extends TH{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,WO,5),o.Suo(r,IH,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:YO,useExisting:n}]),o.qOj],ngContentSelectors:u4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,i){1&e&&(o.F$t(c4),o.YNc(0,a4,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,l4,2,0,"mat-sidenav-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},directives:[Ri,WO,tu],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),n})(),p4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn,Ke,Kl,Xs],Xs,Ke]}),n})(),kH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ke],Ke]}),n})();const RH=["*"],g4=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],_4=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],C4=rc(qa(class{})),D4=qa(class{}),E4=new o.OlP("MatList"),OH=new o.OlP("MatNavList");let S4=(()=>{class n extends C4{constructor(){super(...arguments),this._stateChanges=new Ne.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[o._Bn([{provide:OH,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:RH,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),PH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),FH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),x4=(()=>{class n extends D4{constructor(e,i,r,s){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Ne.x,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const c=this._getHostElement();"button"===c.nodeName.toLowerCase()&&!c.hasAttribute("type")&&c.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Tt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=tt(e)}ngAfterContentInit(){!function(n,t,e="mat"){n.changes.pipe(Rn(n)).subscribe(({length:i})=>{nf(t,`${e}-2-line`,!1),nf(t,`${e}-3-line`,!1),nf(t,`${e}-multi-line`,!1),2===i||3===i?nf(t,`${e}-${i}-line`,!0):i>3&&nf(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(OH,8),o.Y36(E4,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,PH,5),o.Suo(r,FH,5),o.Suo(r,L0,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._avatar=s.first),o.iGM(s=o.CRH())&&(i._icon=s.first),o.iGM(s=o.CRH())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[o.qOj],ngContentSelectors:_4,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(o.F$t(g4),o.TgZ(0,"div",0),o._UZ(1,"div",1),o.Hsn(2),o.TgZ(3,"div",2),o.Hsn(4,1),o.qZA(),o.Hsn(5,2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[ko],encapsulation:2,changeDetection:0}),n})(),R4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Im,Vi,Ke,rf,Zn],Im,Ke,rf,kH]}),n})(),O4=0;const ZO=new o.OlP("CdkAccordion");let P4=(()=>{class n{constructor(){this._stateChanges=new Ne.x,this._openCloseAllActions=new Ne.x,this.id="cdk-accordion-"+O4++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=tt(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[o._Bn([{provide:ZO,useExisting:n}]),o.TTD]}),n})(),F4=0,N4=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=dn.w0.EMPTY,this.closed=new o.vpe,this.opened=new o.vpe,this.destroyed=new o.vpe,this.expandedChange=new o.vpe,this.id="cdk-accordion-child-"+F4++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,c)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===c&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=tt(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=tt(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ZO,12),o.Y36(o.sBO),o.Y36(gD))},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[o._Bn([{provide:ZO,useValue:void 0}])]}),n})(),LH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const L4=["body"];function B4(n,t){}const V4=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],H4=["mat-expansion-panel-header","*","mat-action-row"];function j4(n,t){if(1&n&&o._UZ(0,"span",2),2&n){const e=o.oxw();o.Q6J("@indicatorRotate",e._getExpandedState())}}const U4=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],z4=["mat-panel-title","mat-panel-description","*"],KO=new o.OlP("MAT_ACCORDION"),BH="225ms cubic-bezier(0.4,0.0,0.2,1)",VH={indicatorRotate:ui("indicatorRotate",[It("collapsed, void",Ze({transform:"rotate(0deg)"})),It("expanded",Ze({transform:"rotate(180deg)"})),Yt("expanded <=> collapsed, void => collapsed",Kt(BH))]),bodyExpansion:ui("bodyExpansion",[It("collapsed, void",Ze({height:"0px",visibility:"hidden"})),It("expanded",Ze({height:"*",visibility:"visible"})),Yt("expanded <=> collapsed, void => collapsed",Kt(BH))])};let G4=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),$4=0;const HH=new o.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let jH=(()=>{class n extends N4{constructor(e,i,r,s,c,d,m){super(e,i,r),this._viewContainerRef=s,this._animationMode=d,this._hideToggle=!1,this.afterExpand=new o.vpe,this.afterCollapse=new o.vpe,this._inputChanges=new Ne.x,this._headerId="mat-expansion-panel-header-"+$4++,this._bodyAnimationDone=new Ne.x,this.accordion=e,this._document=c,this._bodyAnimationDone.pipe($h((y,C)=>y.fromState===C.fromState&&y.toState===C.toState)).subscribe(y=>{"void"!==y.fromState&&("expanded"===y.toState?this.afterExpand.emit():"collapsed"===y.toState&&this.afterCollapse.emit())}),m&&(this.hideToggle=m.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=tt(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Rn(null),zt(()=>this.expanded&&!this._portal),(0,hn.q)(1)).subscribe(()=>{this._portal=new mC(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(KO,12),o.Y36(o.sBO),o.Y36(gD),o.Y36(o.s_b),o.Y36(Q),o.Y36(Pr,8),o.Y36(HH,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,G4,5),2&e){let s;o.iGM(s=o.CRH())&&(i._lazyContent=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(L4,5),2&e){let r;o.iGM(r=o.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[o._Bn([{provide:KO,useValue:void 0}]),o.qOj,o.TTD],ngContentSelectors:H4,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(o.F$t(V4),o.Hsn(0),o.TgZ(1,"div",0,1),o.NdJ("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),o.TgZ(3,"div",2),o.Hsn(4,1),o.YNc(5,B4,0,0,"ng-template",3),o.qZA(),o.Hsn(6,2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),o.uIk("aria-labelledby",i._headerId),o.xp6(4),o.Q6J("cdkPortalOutlet",i._portal))},directives:[yO],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[VH.bodyExpansion]},changeDetection:0}),n})();class q4{}const Y4=oc(q4);let UH=(()=>{class n extends Y4{constructor(e,i,r,s,c,d,m){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=d,this._parentChangeSubscription=dn.w0.EMPTY;const y=e.accordion?e.accordion._stateChanges.pipe(zt(C=>!(!C.hideToggle&&!C.togglePosition))):Pa.E;this.tabIndex=parseInt(m||"")||0,this._parentChangeSubscription=(0,Si.T)(e.opened,e.closed,y,e._inputChanges.pipe(zt(C=>!!(C.hideToggle||C.disabled||C.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(zt(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),c&&(this.expandedHeight=c.expandedHeight,this.collapsedHeight=c.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:br(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(jH,1),o.Y36(o.SBq),o.Y36(Io),o.Y36(o.sBO),o.Y36(HH,8),o.Y36(Pr,8),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&e&&(o.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),o.Udp("height",i._getHeaderHeight()),o.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[o.qOj],ngContentSelectors:z4,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(o.F$t(U4),o.TgZ(0,"span",0),o.Hsn(1),o.Hsn(2,1),o.Hsn(3,2),o.qZA(),o.YNc(4,j4,1,1,"span",1)),2&e&&(o.xp6(4),o.Q6J("ngIf",i._showToggle()))},directives:[Ri],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[VH.indicatorRotate]},changeDetection:0}),n})(),W4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),Z4=(()=>{class n extends P4{constructor(){super(...arguments),this._ownHeaders=new o.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=tt(e)}ngAfterContentInit(){this._headers.changes.pipe(Rn(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Vb(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,UH,5),2&e){let s;o.iGM(s=o.CRH())&&(i._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[o._Bn([{provide:KO,useExisting:n}]),o.qOj]}),n})(),K4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn,Ke,LH,jd]]}),n})();function Q4(n,t){if(1&n&&(o.TgZ(0,"span"),o.TgZ(1,"mat-list-item",22),o.TgZ(2,"div",21),o.TgZ(3,"mat-icon"),o._uU(4),o.qZA(),o._uU(5),o.qZA(),o.qZA(),o.qZA()),2&n){const e=t.$implicit;o.xp6(4),o.Oqu(e.iconName),o.xp6(1),o.hij(" ",e.displayName," ")}}function X4(n,t){if(1&n&&(o.TgZ(0,"span"),o.TgZ(1,"mat-accordion"),o.TgZ(2,"mat-expansion-panel"),o.TgZ(3,"mat-expansion-panel-header"),o.TgZ(4,"mat-panel-title"),o.TgZ(5,"div",21),o.TgZ(6,"mat-icon"),o._uU(7),o.qZA(),o._uU(8),o.qZA(),o.qZA(),o.qZA(),o.YNc(9,Q4,6,2,"span",7),o.qZA(),o.qZA(),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(7),o.Oqu(e.iconName),o.xp6(1),o.hij(" ",e.displayName," "),o.xp6(1),o.Q6J("ngForOf",e.children)}}function J4(n,t){if(1&n&&(o.TgZ(0,"span"),o.TgZ(1,"mat-list-item",23),o.TgZ(2,"div",21),o.TgZ(3,"mat-icon"),o._uU(4),o.qZA(),o._uU(5),o.qZA(),o.qZA(),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(4),o.Oqu(e.iconName),o.xp6(1),o.hij(" ",e.displayName," ")}}function e8(n,t){if(1&n&&(o.TgZ(0,"span"),o.YNc(1,X4,10,3,"span",20),o.YNc(2,J4,6,2,"span",20),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf",e.children&&e.children.length>0),o.xp6(1),o.Q6J("ngIf",!e.children||0===e.children.length)}}function t8(n,t){1&n&&(o.TgZ(0,"th",24),o._uU(1,"GATE"),o.qZA())}function n8(n,t){if(1&n&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.gate)}}function r8(n,t){1&n&&(o.TgZ(0,"th",24),o._uU(1,"DATE"),o.qZA())}function s8(n,t){if(1&n&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.date)}}function o8(n,t){1&n&&(o.TgZ(0,"th",24),o._uU(1,"PRODUCT"),o.qZA())}function a8(n,t){if(1&n&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.product)}}function l8(n,t){1&n&&(o.TgZ(0,"th",24),o._uU(1,"ISSUE"),o.qZA())}function c8(n,t){if(1&n&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.issue)}}function u8(n,t){1&n&&(o.TgZ(0,"th",24),o._uU(1,"PARTY"),o.qZA())}function d8(n,t){if(1&n&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.party)}}function h8(n,t){1&n&&(o.TgZ(0,"th",24),o._uU(1,"RECEIPT"),o.qZA())}function f8(n,t){if(1&n&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.xp6(1),o.Oqu(e.receipt)}}function p8(n,t){1&n&&o._UZ(0,"tr",26)}function m8(n,t){1&n&&o._UZ(0,"tr",27)}const g8=function(){return[5,10,20]};let _8=(()=>{class n{constructor(e,i){this.displayedColumns=["position","name","weight","symbol","party","receipt"],this.dataSource=new J0,this.selection=new Xc(!0,[]),this.comments=[],this.packageBookingList=[],this.menu=[{displayName:"Escritorio",iconName:"desktop_windows",route:"escritorio"},{displayName:"Entradas GADE",iconName:"ballot",route:"entradasGADE"},{displayName:"Expedientes",iconName:"description",children:[{displayName:"Mis Expedientes",iconName:"how_to_reg",route:"/misexpedientes"},{displayName:"Todos",iconName:"waves",route:"/todos"}]},{displayName:"Perfiles",iconName:"group",children:[{displayName:"B\xfasqueda Perfil",iconName:"search",route:"/busquedaperfiles"}]}],this.fillerNav=Array.from({length:50},(r,s)=>`Nav Item ${s+1}`),this.fillerContent=Array.from({length:50},()=>"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut\n       labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\n       laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in\n       voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat\n       cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),this.mobileQuery=i.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>e.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener),this.createPost(),this.getComments()}masterToggle(){}ngAfterViewInit(){this.dataSource=new J0,this.dataSource.paginator=this.paginator}createPost(){}getComments(){ew.Z.firestore().collection("stockparties").get().then(e=>{e.docs.forEach(i=>{this.packageBookingList.push(i.data()),console.log(i.data())}),this.dataSource=new J0(this.packageBookingList.reverse()),this.dataSource.paginator=this.paginator})}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(oH))},n.\u0275cmp=o.Xpm({type:n,selectors:[["my-app"]],viewQuery:function(e,i){if(1&e&&o.Gf(hH,5),2&e){let r;o.iGM(r=o.CRH())&&(i.paginator=r.first)}},decls:35,vars:12,consts:[[1,"example-container"],["color","primary",1,"example-toolbar"],["mat-icon-button","",3,"click"],[1,"example-app-name"],[1,"example-sidenav-container"],["fixedTopGap","56",3,"mode","fixedInViewport"],["snav",""],[4,"ngFor","ngForOf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","weight"],["matColumnDef","symbol"],["matColumnDef","party"],["matColumnDef","receipt"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],["routerLink","[child.route]"],["routerLink","[item.route]"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0),o.TgZ(1,"mat-toolbar",1),o.TgZ(2,"button",2),o.NdJ("click",function(){return o.CHM(r),o.MAs(9).toggle()}),o.TgZ(3,"mat-icon"),o._uU(4,"menu"),o.qZA(),o.qZA(),o.TgZ(5,"h1",3),o._uU(6,"Responsive App"),o.qZA(),o.qZA(),o.TgZ(7,"mat-sidenav-container",4),o.TgZ(8,"mat-sidenav",5,6),o.TgZ(10,"mat-nav-list"),o.YNc(11,e8,3,2,"span",7),o.qZA(),o.qZA(),o.TgZ(12,"mat-sidenav-content"),o.TgZ(13,"table",8),o.ynx(14,9),o.YNc(15,t8,2,0,"th",10),o.YNc(16,n8,2,1,"td",11),o.BQk(),o.ynx(17,12),o.YNc(18,r8,2,0,"th",10),o.YNc(19,s8,2,1,"td",11),o.BQk(),o.ynx(20,13),o.YNc(21,o8,2,0,"th",10),o.YNc(22,a8,2,1,"td",11),o.BQk(),o.ynx(23,14),o.YNc(24,l8,2,0,"th",10),o.YNc(25,c8,2,1,"td",11),o.BQk(),o.ynx(26,15),o.YNc(27,u8,2,0,"th",10),o.YNc(28,d8,2,1,"td",11),o.BQk(),o.ynx(29,16),o.YNc(30,h8,2,0,"th",10),o.YNc(31,f8,2,1,"td",11),o.BQk(),o.YNc(32,p8,1,0,"tr",17),o.YNc(33,m8,1,0,"tr",18),o.qZA(),o._UZ(34,"mat-paginator",19),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.ekj("example-is-mobile",i.mobileQuery.matches),o.xp6(7),o.Udp("margin-top",i.mobileQuery.matches?56:0,"px"),o.xp6(1),o.Q6J("mode",i.mobileQuery.matches?"over":"side")("fixedInViewport",i.mobileQuery.matches),o.xp6(3),o.Q6J("ngForOf",i.menu),o.xp6(2),o.Q6J("dataSource",i.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",i.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",i.displayedColumns),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(11,g8)))},directives:[RW,HV,t4,AH,IH,S4,Kr,WO,ov,W0,Y0,q0,K0,Q0,hH,Ri,Z4,jH,UH,W4,x4,g,av,lv,gS,X0],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.example-is-mobile[_ngcontent-%COMP%]   .example-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2}h1.example-app-name[_ngcontent-%COMP%]{margin-left:8px}.example-sidenav-container[_ngcontent-%COMP%]{flex:1}.example-is-mobile[_ngcontent-%COMP%]   .example-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}table[_ngcontent-%COMP%]{width:100%}"]}),n})();var ao=N(2011),pi=N(5813);function QO(){return(0,Kn.e)((n,t)=>{let e,i=!1;n.subscribe(new un.Q(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var cM=N(5363),v8=N(6063);class y8 extends Ne.x{constructor(t=1/0,e=1/0,i=v8.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let m=1;m<i.length&&i[m]<=c;m+=2)d=m;d&&i.splice(0,d+1)}}}function zH(n,t,e){var i,r;let s,c=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,c=!!n.refCount,e=n.scheduler):s=null!=n?n:1/0,(0,zO.B)({connector:()=>new y8(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}function GH(n,t){return(0,ss.m)(t)?Ln(()=>n,t):Ln(()=>n)}var XO=N(9468);N(5867);const qH=new Map,E8={activated:!1,tokenObservers:[]},S8={initialized:!1,enabled:!1};function zr(n){return qH.get(n)||E8}function uc(n,t){qH.set(n,t)}function dM(){return S8}class A8{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,_e.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const lo=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function WH(n){if(!zr(n).activated)throw lo.create("use-before-activation",{appName:n.name})}function nP(n,t){return iP.apply(this,arguments)}function iP(){return iP=(0,_e.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});r&&(i["X-Firebase-Client"]=r.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(t),headers:i};let c,d;try{c=yield fetch(n,s)}catch(S){throw lo.create("fetch-network-error",{originalErrorMessage:S.message})}if(200!==c.status)throw lo.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(S){throw lo.create("fetch-parse-error",{originalErrorMessage:S.message})}const m=d.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw lo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const y=1e3*Number(m[1]),C=Date.now();return{token:d.attestationToken,expireTimeMillis:C+y,issuedAtTimeMillis:C}}),iP.apply(this,arguments)}function N8(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const xC="firebase-app-check-store";let pM=null;function KH(){return pM||(pM=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(lo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(xC,{keyPath:"compositeKey"})}}catch(e){t(lo.create("storage-open",{originalErrorMessage:e.message}))}}),pM)}function rP(){return rP=(0,_e.Z)(function*(n,t){const i=(yield KH()).transaction(xC,"readwrite"),s=i.objectStore(xC).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=m=>{c()},i.onerror=m=>{var y;d(lo.create("storage-set",{originalErrorMessage:null===(y=m.target.error)||void 0===y?void 0:y.message}))}})}),rP.apply(this,arguments)}const MC=new ua.Yd("@firebase/app-check");function ej(n,t){return(0,F.hl)()?function(n,t){return function(n,t){return rP.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{MC.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function tj(){return dM().enabled}function nj(){return lP.apply(this,arguments)}function lP(){return lP=(0,_e.Z)(function*(){const n=dM();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),lP.apply(this,arguments)}const q8={error:"UNKNOWN_ERROR"};function Y8(n){return F.US.encodeString(JSON.stringify(n),!1)}function mM(n){return cP.apply(this,arguments)}function cP(){return cP=(0,_e.Z)(function*(n,t=!1){const e=n.app;WH(e);const i=zr(e);let s,r=i.token;if(!r){const m=yield i.cachedTokenPromise;m&&gM(m)&&(r=m)}if(!t&&r&&gM(r))return{token:r.token};let d,c=!1;if(tj()){i.exchangeTokenPromise||(i.exchangeTokenPromise=nP(N8(e,yield nj()),n.platformLoggerProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0);const m=yield i.exchangeTokenPromise;return yield ej(e,m),uc(e,Object.assign(Object.assign({},i),{token:m})),{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(m=>(i.exchangeTokenPromise=void 0,m)),c=!0),r=yield i.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?MC.warn(m.message):MC.error(m),s=m}return r?(d={token:r.token},uc(e,Object.assign(Object.assign({},i),{token:r})),yield ej(e,r)):d=Z8(s),c&&rj(e,d),d}),cP.apply(this,arguments)}function dP(n,t){const e=zr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),uc(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function ij(n){const{app:t}=n,e=zr(t);let i=e.tokenRefresher;i||(i=function(n){const{app:t}=n;return new A8((0,_e.Z)(function*(){let i;if(i=zr(t).token?yield mM(n,!0):yield mM(n),i.error)throw i.error}),()=>!0,()=>{const e=zr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),uc(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function rj(n,t){const e=zr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function gM(n){return n.expireTimeMillis-Date.now()>0}function Z8(n){return{token:Y8(q8),error:n}}class K8{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=zr(this.app);for(const e of t)dP(this.app,e.next);return Promise.resolve()}}const hj="app-check-internal";(0,ca._registerComponent)(new Ya.wA("app-check",n=>function(n,t){return new K8(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(hj).initialize()})),(0,ca._registerComponent)(new Ya.wA(hj,n=>function(n){return{getToken:t=>mM(n,t),addTokenListener:t=>function(n,t,e,i){const{app:r}=n,s=zr(r),c={next:e,error:i,type:t};if(uc(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&gM(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),ij(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>ij(n))}(n,"INTERNAL",t),removeTokenListener:t=>dP(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ca.registerVersion)("@firebase/app-check","0.5.2");class vM{constructor(){return(0,pi.vb)("app-check")}}"undefined"!=typeof window&&window;const gP=new o.OlP("angularfire2.auth.use-emulator"),_P=new o.OlP("angularfire2.auth.settings"),vP=new o.OlP("angularfire2.auth.tenant-id"),yP=new o.OlP("angularfire2.auth.langugage-code"),bP=new o.OlP("angularfire2.auth.use-device-language"),wP=new o.OlP("angularfire.auth.persistence"),CP=(n,t,e,i,r,s,c,d)=>(0,ao.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,s&&m.useDeviceLanguage(),c)for(const[y,C]of Object.entries(c))m.settings[y]=C;return d&&m.setPersistence(d),m},[e,i,r,s,c,d]);let DP=(()=>{class n{constructor(e,i,r,s,c,d,m,y,C,S,A,P){const H=new Ne.x,J=Ue(void 0).pipe((0,cM.Q)(c.outsideAngular),Ln(()=>s.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,9259)))),(0,Je.U)(()=>(0,ao.on)(e,s,i)),(0,Je.U)(se=>CP(se,s,d,y,C,S,m,A)),zH({bufferSize:1,refCount:!1}));if($i(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ue(null);else{J.pipe(Rl()).subscribe();const Ye=J.pipe(Ln(ct=>ct.getRedirectResult().then(In=>In,()=>null)),pi.iC,zH({bufferSize:1,refCount:!1})),nt=J.pipe(Ln(ct=>new Hn.y(In=>({unsubscribe:s.runOutsideAngular(()=>ct.onAuthStateChanged(Ui=>In.next(Ui),Ui=>In.error(Ui),()=>In.complete()))})))),ut=J.pipe(Ln(ct=>new Hn.y(In=>({unsubscribe:s.runOutsideAngular(()=>ct.onIdTokenChanged(Ui=>In.next(Ui),Ui=>In.error(Ui),()=>In.complete()))}))));this.authState=Ye.pipe(GH(nt),(0,XO.R)(c.outsideAngular),(0,cM.Q)(c.insideAngular)),this.user=Ye.pipe(GH(ut),(0,XO.R)(c.outsideAngular),(0,cM.Q)(c.insideAngular)),this.idToken=this.user.pipe(Ln(ct=>ct?(0,xn.D)(ct.getIdToken()):Ue(null))),this.idTokenResult=this.user.pipe(Ln(ct=>ct?(0,xn.D)(ct.getIdTokenResult()):Ue(null))),this.credential=(0,Si.T)(Ye,H,this.authState.pipe(zt(ct=>!ct))).pipe((0,Je.U)(ct=>(null==ct?void 0:ct.user)?ct:null),(0,XO.R)(c.outsideAngular),(0,cM.Q)(c.insideAngular))}return(0,ao.pX)(this,J,s,{spy:{apply:(se,Ye,nt)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&nt.then(ut=>H.next(ut))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ao.Dh),o.LFG(ao.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(pi.HU),o.LFG(gP,8),o.LFG(_P,8),o.LFG(vP,8),o.LFG(yP,8),o.LFG(bP,8),o.LFG(wP,8),o.LFG(vM,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function pj(n,t){return function(n,t=ec.z){return new Hn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function EP(n,t){return pj(n,t).pipe((0,Je.U)(e=>({payload:e,type:"query"})))}function yM(n,t){return EP(n,t).pipe(Rn(void 0),QO(),(0,Je.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const m=r.find(C=>C.doc.ref.isEqual(c.ref)),y=null==e?void 0:e.payload.docs.find(C=>C.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function mj(n,t,e){return yM(n,e).pipe(Ar((i,r)=>function(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return SP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return SP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return SP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),$h(),(0,Je.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function SP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function gj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class _j{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=yM(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Je.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Rn(void 0),QO(),zt(([i,r])=>r.length>0||!i),(0,Je.U)(([i,r])=>r),pi.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ar((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=gj(t);return mj(this.query,e,this.afs.schedulers.outsideAngular).pipe(pi.iC)}valueChanges(t={}){return EP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),pi.iC)}get(t){return(0,xn.D)(this.query.get(t)).pipe(pi.iC)}add(t){return this.ref.add(t)}doc(t){return new vj(this.ref.doc(t),this.afs)}}class vj{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=wj(i,e);return new _j(r,s,this.afs)}snapshotChanges(){return function(n,t){return pj(n,t).pipe(Rn(void 0),QO(),(0,Je.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pi.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,xn.D)(this.ref.get(t)).pipe(pi.iC)}}class bZ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?yM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),zt(e=>e.length>0),pi.iC):yM(this.query,this.afs.schedulers.outsideAngular).pipe(pi.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ar((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=gj(t);return mj(this.query,e,this.afs.schedulers.outsideAngular).pipe(pi.iC)}valueChanges(t={}){return EP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),pi.iC)}get(t){return(0,xn.D)(this.query.get(t)).pipe(pi.iC)}}const yj=new o.OlP("angularfire2.enableFirestorePersistence"),bj=new o.OlP("angularfire2.firestore.persistenceSettings"),wZ=new o.OlP("angularfire2.firestore.settings"),CZ=new o.OlP("angularfire2.firestore.use-emulator");function wj(n,t=(e=>e)){return{query:t(n),ref:n}}let DZ=(()=>{class n{constructor(e,i,r,s,c,d,m,y,C,S,A,P,H,J,se,Ye,nt){this.schedulers=m;const ut=(0,ao.on)(e,d,i),ct=C;S&&CP(ut,d,A,H,J,se,P,Ye),[this.firestore,this.persistenceEnabled$]=(0,ao.cc)(`${ut.name}.firestore`,"AngularFirestore",ut.name,()=>{const In=d.runOutsideAngular(()=>ut.firestore());if(s&&In.settings(s),ct&&In.useEmulator(...ct),r&&!$i(c)){const Ui=()=>{try{return(0,xn.D)(In.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(fr){return"undefined"!=typeof console&&console.warn(fr),Ue(!1)}};return[In,d.runOutsideAngular(Ui)]}return[In,Ue(!1)]},[s,ct,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=wj(r,i),d=this.schedulers.ngZone.run(()=>s);return new _j(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new bZ(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new vj(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ao.Dh),o.LFG(ao.xv,8),o.LFG(yj,8),o.LFG(wZ,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(pi.HU),o.LFG(bj,8),o.LFG(CZ,8),o.LFG(DP,8),o.LFG(gP,8),o.LFG(_P,8),o.LFG(vP,8),o.LFG(yP,8),o.LFG(bP,8),o.LFG(wP,8),o.LFG(vM,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),EZ=(()=>{class n{constructor(){ew.Z.registerVersion("angularfire",pi.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:yj,useValue:!0},{provide:bj,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[DZ]}),n})();const Cj="@firebase/database";let xP="";function Ej(n){xP=n}class MZ{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class TZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Sj=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new MZ(t)}}catch(t){}return new TZ},vg=Sj("localStorage"),MP=Sj("sessionStorage"),yy=new ua.Yd("@firebase/database"),xj=function(){let n=1;return function(){return n++}}(),Mj=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const i=e.digest();return F.US.encodeByteArray(i)},TC=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=TC.apply(null,i):t+="object"==typeof i?(0,F.Pz)(i):i,t+=" "}return t};let yg=null,Tj=!0;const Ij=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(yy.logLevel=ua.in.VERBOSE,yg=yy.log.bind(yy),t&&MP.set("logging_enabled",!0)):"function"==typeof n?yg=n:(yg=null,MP.remove("logging_enabled"))},Gr=function(...n){if(!0===Tj&&(Tj=!1,null===yg&&!0===MP.get("logging_enabled")&&Ij(!0)),yg){const t=TC.apply(null,n);yg(t)}},IC=function(n){return function(...t){Gr(n,...t)}},TP=function(...n){const t="FIREBASE INTERNAL ERROR: "+TC(...n);yy.error(t)},yu=function(...n){const t=`FIREBASE FATAL ERROR: ${TC(...n)}`;throw yy.error(t),new Error(t)},co=function(...n){const t="FIREBASE WARNING: "+TC(...n);yy.warn(t)},bM=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zd="[MIN_NAME]",bu="[MAX_NAME]",bg=function(n,t){if(n===t)return 0;if(n===zd||t===bu)return-1;if(t===zd||n===bu)return 1;{const e=wM(n),i=wM(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},kZ=function(n,t){return n===t?0:n<t?-1:1},AC=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(t))},IP=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,F.Pz)(t[i]),e+=":",e+=IP(n[t[i]]);return e+="}",e},Aj=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function $r(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const kj=function(n){(0,F.hu)(!bM(n),"Invalid JSON number");const i=1023;let r,s,c,d,m;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(m=52;m;m-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(m=11;m;m-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const C=y.join("");let S="";for(m=0;m<64;m+=8){let A=parseInt(C.substr(m,8),2).toString(16);1===A.length&&(A="0"+A),S+=A}return S.toLowerCase()},FZ=new RegExp("^-?(0*)\\d{1,10}$"),Rj=-2147483648,AP=2147483647,wM=function(n){if(FZ.test(n)){const t=Number(n);if(t>=Rj&&t<=AP)return t}return null},by=function(n){try{n()}catch(t){setTimeout(()=>{throw co("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},kC=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class LZ{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){co(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class BZ{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Gr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',co(t)}}let RC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Lj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Vj="websocket",Hj="long_polling";class RP{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vg.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&vg.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function jj(n,t,e){let i;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===Vj)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Hj)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return $r(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class jZ{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const OP={},PP={};function FP(n){const t=n.toString();return OP[t]||(OP[t]=new jZ),OP[t]}class zZ{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&by(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class wy{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=IC(t),this.stats_=FP(e),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),jj(e,Hj,m))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new zZ(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new NP((...s)=>{const[c,d,m,y,C]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=m;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Lj.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wy.forceAllow_=!0}static forceDisallow(){wy.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!wy.forceAllow_&&(wy.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),r=Aj(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class NP{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=xj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=NP.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Gr("frame writing exception"),d.stack&&Gr(d.stack),Gr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Gr("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Gr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let OC=null;"undefined"!=typeof MozWebSocket?OC=MozWebSocket:"undefined"!=typeof WebSocket&&(OC=WebSocket);let PC=(()=>{class n{constructor(e,i,r,s,c,d,m){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=IC(this.connId),this.stats_=FP(i),this.connURL=n.connectionURL_(i,d,m,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s){const c={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&Lj.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),s&&(c.ac=s),jj(e,Vj,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vg.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const s={headers:{"User-Agent":`Firebase/5/${xP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(s.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(s.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(s.proxy={origin:d}),this.mySock=new OC(this.connURL,[],s)}else this.mySock=new OC(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==OC&&!n.forceDisallow_}static previouslyFailed(){return vg.isInMemoryStorage||!0===vg.get("previous_websocket_failure")}markConnectionHealthy(){vg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,F.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,F.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Aj(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class LP{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[wy,PC]}initTransports_(t){const e=PC&&PC.isAvailable();let i=e&&!PC.previouslyFailed();if(t.webSocketOnly&&(e||co("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[PC];else{const r=this.transports_=[];for(const s of LP.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class eU{constructor(t,e,i,r,s,c,d,m,y,C){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=m,this.onKill_=y,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=IC("c:"+this.id+":"),this.transportManager_=new LP(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=kC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=AC("t",t),i=AC("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=AC("t",t),i=AC("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=AC("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?TP("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):TP("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&co("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),kC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class tU{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class nU{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class DM extends nU{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new DM}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Vn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Tn(){return new Vn("")}function Xt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Pf(n){return n.pieces_.length-n.pieceNum_}function Xn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Vn(n.pieces_,t)}function VP(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function FC(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function sU(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Vn(t,0)}function vi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Vn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Vn(e,0)}function Jt(n){return n.pieceNum_>=n.pieces_.length}function uo(n,t){const e=Xt(n),i=Xt(t);if(null===e)return t;if(e===i)return uo(Xn(n),Xn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function dK(n,t){const e=FC(n,0),i=FC(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=bg(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function HP(n,t){if(Pf(n)!==Pf(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ja(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Pf(n)>Pf(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class hK{constructor(t,e){this.errorPrefix_=e,this.parts_=FC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);oU(this)}}function oU(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+wg(n))}function wg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class jP extends nU{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new jP}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const NC=1e3;let SM,Cg=(()=>{class n extends tU{constructor(e,i,r,s,c,d,m,y){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=IC("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=NC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jP.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&DM.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,F.Pz)(c)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new F.BH,r={p:e._path.toString(),q:e._queryObject},s={action:"g",request:r,onComplete:d=>{const m=d.d;"ok"===d.s?(this.onDataUpdate_(r.p,m,!1,null),i.resolve(m)):i.reject(m)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const d=this.outstandingGets_[c];void 0===d||s!==d||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const m={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,m=>{const y=m.d,C=m.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",m),"ok"!==C&&this.removeListen_(r,s),e.onComplete&&e.onComplete(C,y))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const r=(0,F.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();co(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):TP("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=NC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=NC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=NC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,_e.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let m=!1,y=null;const C=function(){y?y.close():(m=!0,s())};e.realtime_={close:C,sendRequest:function(P){(0,F.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(P)}};const A=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[P,H]=yield Promise.all([e.authTokenProvider_.getToken(A),e.appCheckTokenProvider_.getToken(A)]);m?Gr("getToken() completed but was canceled"):(Gr("getToken() completed. Creating connection."),e.authToken_=P&&P.accessToken,e.appCheckToken_=H&&H.token,y=new eU(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,J=>{co(J+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(P){e.log_("Failed to get token: "+P),m||(e.repoInfo_.nodeAdmin&&co(P),C())}}})()}interrupt(e){Gr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Gr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=NC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>IP(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Vn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Gr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Gr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+xP.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=DM.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class tn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new tn(t,e)}}class EM{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new tn(zd,t),r=new tn(zd,e);return 0!==this.compare(i,r)}minPost(){return tn.MIN}}class cU extends EM{static get __EMPTY_NODE(){return SM}static set __EMPTY_NODE(t){SM=t}compare(t,e){return bg(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return tn.MIN}maxPost(){return new tn(bu,SM)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new tn(t,SM)}toString(){return".key"}}const wu=new cU;class xM{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let zP,dc=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:No.EMPTY_NODE,this.right=null!=c?c:No.EMPTY_NODE}copy(e,i,r,s,c){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return No.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return No.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class No{constructor(t,e=No.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new No(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,dc.BLACK,null,null))}remove(t){return new No(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,dc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new xM(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new xM(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new xM(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new xM(this.root_,null,this.comparator_,!0,t)}}function wK(n,t){return bg(n.name,t.name)}function UP(n,t){return bg(n,t)}No.EMPTY_NODE=new class{copy(t,e,i,r,s){return this}insert(t,e,i){return new dc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const uU=function(n){return"number"==typeof n?"number:"+kj(n):"string:"+n},dU=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===zP||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===zP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let hU,fU,pU,Cy=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),dU(this.priorityNode_)}static set __childrenNodeConstructor(e){hU=e}static get __childrenNodeConstructor(){return hU}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Jt(e)?this:".priority"===Xt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Xt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,F.hu)(".priority"!==r||1===Pf(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+uU(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?kj(this.value_):this.value_,this.lazyHash_=Mj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,F.hu)(s>=0,"Unknown leaf type: "+i),(0,F.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ri=new class extends EM{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?bg(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return tn.MIN}maxPost(){return new tn(bu,new Cy("[PRIORITY-POST]",pU))}makePost(t,e){const i=fU(t);return new tn(e,new Cy("[PRIORITY-POST]",i))}toString(){return".priority"}},xK=Math.log(2);class MK{constructor(t){this.count=parseInt(Math.log(t+1)/xK,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const MM=function(n,t,e,i){n.sort(t);const r=function(m,y){const C=y-m;let S,A;if(0===C)return null;if(1===C)return S=n[m],A=e?e(S):S,new dc(A,S.node,dc.BLACK,null,null);{const P=parseInt(C/2,10)+m,H=r(m,P),J=r(P+1,y);return S=n[P],A=e?e(S):S,new dc(A,S.node,dc.BLACK,H,J)}},d=function(m){let y=null,C=null,S=n.length;const A=function(H,J){const se=S-H,Ye=S;S-=H;const nt=r(se+1,Ye),ut=n[se],ct=e?e(ut):ut;P(new dc(ct,ut.node,J,null,nt))},P=function(H){y?(y.left=H,y=H):(C=H,y=H)};for(let H=0;H<m.count;++H){const J=m.nextBitIsOne(),se=Math.pow(2,m.count-(H+1));J?A(se,dc.BLACK):(A(se,dc.BLACK),A(se,dc.RED))}return C}(new MK(n.length));return new No(i||t,d)};let GP;const Dy={};class Gd{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(Dy&&ri,"ChildrenNode.ts has not been loaded"),GP=GP||new Gd({".priority":Dy},{".priority":ri}),GP}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof No?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==wu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(tn.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?MM(i,t.getCompare()):Dy;const m=t.toString(),y=Object.assign({},this.indexSet_);y[m]=t;const C=Object.assign({},this.indexes_);return C[m]=d,new Gd(C,y)}addToIndexes(t,e){const i=(0,F.UI)(this.indexes_,(r,s)=>{const c=(0,F.DV)(this.indexSet_,s);if((0,F.hu)(c,"Missing index implementation for "+s),r===Dy){if(c.isDefinedOn(t.node)){const d=[],m=e.getIterator(tn.Wrap);let y=m.getNext();for(;y;)y.name!==t.name&&d.push(y),y=m.getNext();return d.push(t),MM(d,c.getCompare())}return Dy}{const d=e.get(t.name);let m=r;return d&&(m=m.remove(new tn(t.name,d))),m.insert(t,t.node)}});return new Gd(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,F.UI)(this.indexes_,r=>{if(r===Dy)return r;{const s=e.get(t.name);return s?r.remove(new tn(t.name,s)):r}});return new Gd(i,this.indexSet_)}}let LC,Ht=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dU(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return LC||(LC=new n(new No(UP),null,Gd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||LC}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?LC:i}}getChild(e){const i=Xt(e);return null===i?this:this.getImmediateChild(i).getChild(Xn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new tn(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?LC:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=Xt(e);if(null===r)return i;{(0,F.hu)(".priority"!==Xt(e)||1===Pf(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Xn(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(ri,(d,m)=>{i[d]=m.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const m in i)d[m]=i[m];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+uU(this.getPriority().val())+":"),this.forEachChild(ri,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":Mj(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new tn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new tn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new tn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,tn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,tn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===BC?-1:0}withIndex(e){if(e===wu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===wu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ri),s=i.getIterator(ri);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===wu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const BC=new class extends Ht{constructor(){super(new No(UP),Ht.EMPTY_NODE,Gd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ht.EMPTY_NODE}isEmpty(){return!1}};function Mi(n,t=null){if(null===n)return Ht.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Cy(n,Mi(t));if(n instanceof Array){let e=Ht.EMPTY_NODE;return $r(n,(i,r)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const s=Mi(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Mi(t))}{const e=[];let i=!1;if($r(n,(c,d)=>{if("."!==c.substring(0,1)){const m=Mi(d);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),e.push(new tn(c,m)))}}),0===e.length)return Ht.EMPTY_NODE;const s=MM(e,wK,c=>c.name,UP);if(i){const c=MM(e,ri.getCompare());return new Ht(s,Mi(t),new Gd({".priority":c},{".priority":ri}))}return new Ht(s,Mi(t),Gd.Default)}}Object.defineProperties(tn,{MIN:{value:new tn(zd,Ht.EMPTY_NODE)},MAX:{value:new tn(bu,BC)}}),cU.__EMPTY_NODE=Ht.EMPTY_NODE,Cy.__childrenNodeConstructor=Ht,function(n){zP=n}(BC),function(n){pU=n}(BC),function(n){fU=n}(Mi);class $P extends EM{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!Jt(t)&&".priority"!==Xt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?bg(t.name,e.name):s}makePost(t,e){const i=Mi(t),r=Ht.EMPTY_NODE.updateChild(this.indexPath_,i);return new tn(e,r)}maxPost(){const t=Ht.EMPTY_NODE.updateChild(this.indexPath_,BC);return new tn(bu,t)}toString(){return FC(this.indexPath_,0).join("/")}}const qP=new class extends EM{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?bg(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return tn.MIN}maxPost(){return tn.MAX}makePost(t,e){const i=Mi(t);return new tn(e,i)}toString(){return".value"}},Ey="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kK=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Ey.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Ey.charAt(t[r]);return(0,F.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),_U=function(n){if(n===""+AP)return"-";const t=wM(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return bu;const s=Ey.charAt(Ey.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},vU=function(n){if(n===""+Rj)return zd;const t=wM(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+AP:(delete e[e.length-1],e.join("")):(e[e.length-1]=Ey.charAt(Ey.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function yU(n){return{type:"value",snapshotNode:n}}function Sy(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function VC(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function HC(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class WP{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(VC(e,d)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Sy(e,i)):c.trackChildChange(HC(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ri,(r,s)=>{e.hasChild(r)||i.trackChildChange(VC(r,s))}),e.isLeafNode()||e.forEachChild(ri,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(HC(r,s,c))}else i.trackChildChange(Sy(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Ht.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class jC{constructor(t){this.indexedFilter_=new WP(t.getIndex()),this.index_=t.getIndex(),this.startPost_=jC.getStartPost_(t),this.endPost_=jC.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new tn(e,i))||(i=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Ht.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Ht.EMPTY_NODE);const s=this;return e.forEachChild(ri,(c,d)=>{s.matches(new tn(c,d))||(r=r.updateImmediateChild(c,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class OK{constructor(t){this.rangedFilter_=new jC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new tn(e,i))||(i=Ht.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Ht.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Ht.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let m;if(m=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!m)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,m;if(r=e.withIndex(this.index_),r=r.updatePriority(Ht.EMPTY_NODE),this.reverse_){m=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const S=this.index_.getCompare();d=(A,P)=>S(P,A)}else m=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let y=0,C=!1;for(;m.hasNext();){const S=m.getNext();!C&&d(s,S)<=0&&(C=!0),C&&y<this.limit_&&d(S,c)<=0?y++:r=r.updateImmediateChild(S.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const S=this.index_.getCompare();c=(A,P)=>S(P,A)}else c=this.index_.getCompare();const d=t;(0,F.hu)(d.numChildren()===this.limit_,"");const m=new tn(e,i),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),C=this.rangedFilter_.matches(m);if(d.hasChild(e)){const S=d.getImmediateChild(e);let A=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=A&&(A.name===e||d.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const P=null==A?1:c(A,m);if(C&&!i.isEmpty()&&P>=0)return null!=s&&s.trackChildChange(HC(e,i,S)),d.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(VC(e,S));const J=d.updateImmediateChild(e,Ht.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(null!=s&&s.trackChildChange(Sy(A.name,A.node)),J.updateImmediateChild(A.name,A.node)):J}}return i.isEmpty()?t:C&&c(y,m)>=0?(null!=s&&(s.trackChildChange(VC(y.name,y.node)),s.trackChildChange(Sy(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(y.name,Ht.EMPTY_NODE)):t}}class TM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ri}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ri}copy(){const t=new TM;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ZP(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function KP(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function IM(n,t){const e=n.copy();return e.index_=t,e}function bU(n){const t={};if(n.isDefault())return t;let e;return n.index_===ri?e="$priority":n.index_===qP?e="$value":n.index_===wu?e="$key":((0,F.hu)(n.index_ instanceof $P,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Pz)(e),n.startSet_&&(t.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function wU(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ri&&(t.i=n.index_.toString()),t}class AM extends tU{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=IC("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=AM.getListenId_(t,i),d={};this.listens_[c]=d;const m=bU(t._queryParams);this.restRequest_(s+".json",m,(y,C)=>{let S=C;if(404===y&&(S=null,y=null),null===y&&this.onDataUpdate_(s,S,!1,i),(0,F.DV)(this.listens_,c)===d){let A;A=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(A,null)}})}unlisten(t,e){const i=AM.getListenId_(t,e);delete this.listens_[i]}get(t){const e=bU(t._queryParams),i=t._path.toString(),r=new F.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let m=null;if(d.status>=200&&d.status<300){try{m=(0,F.cI)(d.responseText)}catch(y){co("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,m)}else 401!==d.status&&404!==d.status&&co("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class VK{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function kM(){return{value:null,children:new Map}}function xy(n,t,e){if(Jt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Xt(t);n.children.has(i)||n.children.set(i,kM()),xy(n.children.get(i),t=Xn(t),e)}}function QP(n,t){if(Jt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ri,(i,r)=>{xy(n,new Vn(i),r)}),QP(n,t)}}if(n.children.size>0){const e=Xt(t);return t=Xn(t),n.children.has(e)&&QP(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function XP(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{XP(r,new Vn(t.toString()+"/"+i),e)})}class jK{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&$r(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class GK{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new jK(t);const i=1e4+2e4*Math.random();kC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;$r(t,(r,s)=>{s>0&&(0,F.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),kC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var el=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(el||(el={})),el))();function t1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class RM{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=el.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Jt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Vn(t));return new RM(Tn(),e,this.revert)}}return(0,F.hu)(Xt(this.path)===t,"operationForChild called for unrelated child."),new RM(Xn(this.path),this.affectedTree,this.revert)}}class UC{constructor(t,e){this.source=t,this.path=e,this.type=el.LISTEN_COMPLETE}operationForChild(t){return Jt(this.path)?new UC(this.source,Tn()):new UC(this.source,Xn(this.path))}}class Dg{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=el.OVERWRITE}operationForChild(t){return Jt(this.path)?new Dg(this.source,Tn(),this.snap.getImmediateChild(t)):new Dg(this.source,Xn(this.path),this.snap)}}class My{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=el.MERGE}operationForChild(t){if(Jt(this.path)){const e=this.children.subtree(new Vn(t));return e.isEmpty()?null:e.value?new Dg(this.source,Tn(),e.value):new My(this.source,Tn(),e)}return(0,F.hu)(Xt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new My(this.source,Xn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ff{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Jt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Xt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class $K{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function zC(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,m)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new tn(t.childName,t.snapshotNode),r=new tn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,m)),c.forEach(d=>{const m=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(y=>{y.respondsTo(d.type)&&t.push(y.createEvent(m,n.query_))})})}function OM(n,t){return{eventCache:n,serverCache:t}}function GC(n,t,e,i){return OM(new Ff(t,e,i),n.serverCache)}function DU(n,t,e,i){return OM(n.eventCache,new Ff(t,e,i))}function PM(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Eg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let n1;class si{constructor(t,e=(()=>(n1||(n1=new No(kZ)),n1))()){this.value=t,this.children=e}static fromObject(t){let e=new si(null);return $r(t,(i,r)=>{e=e.set(new Vn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Tn(),value:this.value};if(Jt(t))return null;{const i=Xt(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Xn(t),e);return null!=s?{path:vi(new Vn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Jt(t))return this;{const e=Xt(t),i=this.children.get(e);return null!==i?i.subtree(Xn(t)):new si(null)}}set(t,e){if(Jt(t))return new si(e,this.children);{const i=Xt(t),s=(this.children.get(i)||new si(null)).set(Xn(t),e),c=this.children.insert(i,s);return new si(this.value,c)}}remove(t){if(Jt(t))return this.children.isEmpty()?new si(null):new si(null,this.children);{const e=Xt(t),i=this.children.get(e);if(i){const r=i.remove(Xn(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new si(null):new si(this.value,s)}return this}}get(t){if(Jt(t))return this.value;{const e=Xt(t),i=this.children.get(e);return i?i.get(Xn(t)):null}}setTree(t,e){if(Jt(t))return e;{const i=Xt(t),s=(this.children.get(i)||new si(null)).setTree(Xn(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new si(this.value,c)}}fold(t){return this.fold_(Tn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(vi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Tn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Jt(t))return null;{const s=Xt(t),c=this.children.get(s);return c?c.findOnPath_(Xn(t),vi(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Tn(),e)}foreachOnPath_(t,e,i){if(Jt(t))return this;{this.value&&i(e,this.value);const r=Xt(t),s=this.children.get(r);return s?s.foreachOnPath_(Xn(t),vi(e,r),i):new si(null)}}foreach(t){this.foreach_(Tn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(vi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class hc{constructor(t){this.writeTree_=t}static empty(){return new hc(new si(null))}}function $C(n,t,e){if(Jt(t))return new hc(new si(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=uo(r,t);return s=s.updateChild(c,e),new hc(n.writeTree_.set(r,s))}{const r=new si(e),s=n.writeTree_.setTree(t,r);return new hc(s)}}}function r1(n,t,e){let i=n;return $r(e,(r,s)=>{i=$C(i,vi(t,r),s)}),i}function EU(n,t){if(Jt(t))return hc.empty();{const e=n.writeTree_.setTree(t,new si(null));return new hc(e)}}function s1(n,t){return null!=Sg(n,t)}function Sg(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(uo(e.path,t)):null}function SU(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ri,(i,r)=>{t.push(new tn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new tn(i,r.value))}),t}function Nf(n,t){if(Jt(t))return n;{const e=Sg(n,t);return new hc(null!=e?new si(e):n.writeTree_.subtree(t))}}function o1(n){return n.writeTree_.isEmpty()}function Ty(n,t){return xU(Tn(),n.writeTree_,t)}function xU(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,F.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=xU(vi(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(vi(n,".priority"),i)),e}}function FM(n,t){return kU(t,n)}function e7(n,t){if(n.snap)return Ja(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ja(vi(n.path,e),t))return!0;return!1}function n7(n){return n.visible}function MU(n,t,e){let i=hc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)Ja(e,c)?(d=uo(e,c),i=$C(i,d,s.snap)):Ja(c,e)&&(d=uo(c,e),i=$C(i,Tn(),s.snap.getChild(d)));else{if(!s.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(Ja(e,c))d=uo(e,c),i=r1(i,d,s.children);else if(Ja(c,e))if(d=uo(c,e),Jt(d))i=r1(i,Tn(),s.children);else{const m=(0,F.DV)(s.children,Xt(d));if(m){const y=m.getChild(Xn(d));i=$C(i,Tn(),y)}}}}}return i}function TU(n,t,e,i,r){if(i||r){const s=Nf(n.visibleWrites,t);return!r&&o1(s)?e:r||null!=e||s1(s,Tn())?Ty(MU(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(Ja(y.path,t)||Ja(t,y.path))},t),e||Ht.EMPTY_NODE):null}{const s=Sg(n.visibleWrites,t);if(null!=s)return s;{const c=Nf(n.visibleWrites,t);return o1(c)?e:null!=e||s1(c,Tn())?Ty(c,e||Ht.EMPTY_NODE):null}}}function NM(n,t,e,i){return TU(n.writeTree,n.treePath,t,e,i)}function a1(n,t){return function(n,t,e){let i=Ht.EMPTY_NODE;const r=Sg(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ri,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=Nf(n.visibleWrites,t);return e.forEachChild(ri,(c,d)=>{const m=Ty(Nf(s,new Vn(c)),d);i=i.updateImmediateChild(c,m)}),SU(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return SU(Nf(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function IU(n,t,e,i){return function(n,t,e,i,r){(0,F.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=vi(t,e);if(s1(n.visibleWrites,s))return null;{const c=Nf(n.visibleWrites,s);return o1(c)?r.getChild(e):Ty(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function LM(n,t){return function(n,t){return Sg(n.visibleWrites,t)}(n.writeTree,vi(n.treePath,t))}function l1(n,t,e){return function(n,t,e,i){const r=vi(t,e),s=Sg(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?Ty(Nf(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function AU(n,t){return kU(vi(n.treePath,t),n.writeTree)}function kU(n,t){return{treePath:n,writeTree:t}}class d7{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,HC(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,VC(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Sy(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,HC(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const RU=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class c1{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Ff(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return l1(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Eg(this.viewCache_),s=function(n,t,e,i,r,s){return function(n,t,e,i,r,s,c){let d;const m=Nf(n.visibleWrites,t),y=Sg(m,Tn());if(null!=y)d=y;else{if(null==e)return[];d=Ty(m,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const C=[],S=c.getCompare(),A=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let P=A.getNext();for(;P&&C.length<r;)0!==S(P,i)&&C.push(P),P=A.getNext();return C}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function OU(n,t,e,i,r,s){const c=t.eventCache;if(null!=LM(i,e))return t;{let d,m;if(Jt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const y=Eg(t),S=a1(i,y instanceof Ht?y:Ht.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),S,s)}else{const y=NM(i,Eg(t));d=n.filter.updateFullNode(t.eventCache.getNode(),y,s)}else{const y=Xt(e);if(".priority"===y){(0,F.hu)(1===Pf(e),"Can't have a priority with additional path components");const C=c.getNode();m=t.serverCache.getNode();const S=IU(i,e,C,m);d=null!=S?n.filter.updatePriority(C,S):c.getNode()}else{const C=Xn(e);let S;if(c.isCompleteForChild(y)){m=t.serverCache.getNode();const A=IU(i,e,c.getNode(),m);S=null!=A?c.getNode().getImmediateChild(y).updateChild(C,A):c.getNode().getImmediateChild(y)}else S=l1(i,y,t.serverCache);d=null!=S?n.filter.updateChild(c.getNode(),y,S,C,r,s):c.getNode()}}return GC(t,d,c.isFullyInitialized()||Jt(e),n.filter.filtersNodes())}}function BM(n,t,e,i,r,s,c,d){const m=t.serverCache;let y;const C=c?n.filter:n.filter.getIndexedFilter();if(Jt(e))y=C.updateFullNode(m.getNode(),i,null);else if(C.filtersNodes()&&!m.isFiltered()){const P=m.getNode().updateChild(e,i);y=C.updateFullNode(m.getNode(),P,null)}else{const P=Xt(e);if(!m.isCompleteForPath(e)&&Pf(e)>1)return t;const H=Xn(e),se=m.getNode().getImmediateChild(P).updateChild(H,i);y=".priority"===P?C.updatePriority(m.getNode(),se):C.updateChild(m.getNode(),P,se,H,RU,null)}const S=DU(t,y,m.isFullyInitialized()||Jt(e),C.filtersNodes());return OU(n,S,e,r,new c1(r,S,s),d)}function u1(n,t,e,i,r,s,c){const d=t.eventCache;let m,y;const C=new c1(r,t,s);if(Jt(e))y=n.filter.updateFullNode(t.eventCache.getNode(),i,c),m=GC(t,y,!0,n.filter.filtersNodes());else{const S=Xt(e);if(".priority"===S)y=n.filter.updatePriority(t.eventCache.getNode(),i),m=GC(t,y,d.isFullyInitialized(),d.isFiltered());else{const A=Xn(e),P=d.getNode().getImmediateChild(S);let H;if(Jt(A))H=i;else{const J=C.getCompleteChild(S);H=null!=J?".priority"===VP(A)&&J.getChild(sU(A)).isEmpty()?J:J.updateChild(A,i):Ht.EMPTY_NODE}m=P.equals(H)?t:GC(t,n.filter.updateChild(d.getNode(),S,H,A,C,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return m}function PU(n,t){return n.eventCache.isCompleteForChild(t)}function FU(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function d1(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let y,m=t;y=Jt(e)?i:new si(null).setTree(e,i);const C=t.serverCache.getNode();return y.children.inorderTraversal((S,A)=>{if(C.hasChild(S)){const H=FU(0,t.serverCache.getNode().getImmediateChild(S),A);m=BM(n,m,new Vn(S),H,r,s,c,d)}}),y.children.inorderTraversal((S,A)=>{const P=!t.serverCache.isCompleteForChild(S)&&void 0===A.value;if(!C.hasChild(S)&&!P){const J=FU(0,t.serverCache.getNode().getImmediateChild(S),A);m=BM(n,m,new Vn(S),J,r,s,c,d)}}),m}class w7{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new WP(i.getIndex()),s=function(n){return n.loadsAllData()?new WP(n.getIndex()):n.hasLimit()?new OK(n):new jC(n)}(i);this.processor_=function(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,m=r.updateFullNode(Ht.EMPTY_NODE,c.getNode(),null),y=s.updateFullNode(Ht.EMPTY_NODE,d.getNode(),null),C=new Ff(m,c.isFullyInitialized(),r.filtersNodes()),S=new Ff(y,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=OM(S,C),this.eventGenerator_=new $K(this.query_)}get query(){return this.query_}}function E7(n,t){const e=Eg(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Jt(t)&&!e.getImmediateChild(Xt(t)).isEmpty())?e.getChild(t):null}function NU(n){return 0===n.eventRegistrations_.length}function LU(n,t,e){const i=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function BU(n,t,e,i){t.type===el.MERGE&&null!==t.source.queryId&&((0,F.hu)(Eg(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(PM(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function(n,t,e,i,r){const s=new d7;let c,d;if(e.type===el.OVERWRITE){const y=e;y.source.fromUser?c=u1(n,t,y.path,y.snap,i,r,s):((0,F.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered()&&!Jt(y.path),c=BM(n,t,y.path,y.snap,i,r,d,s))}else if(e.type===el.MERGE){const y=e;y.source.fromUser?c=function(n,t,e,i,r,s,c){let d=t;return i.foreach((m,y)=>{const C=vi(e,m);PU(t,Xt(C))&&(d=u1(n,d,C,y,r,s,c))}),i.foreach((m,y)=>{const C=vi(e,m);PU(t,Xt(C))||(d=u1(n,d,C,y,r,s,c))}),d}(n,t,y.path,y.children,i,r,s):((0,F.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||t.serverCache.isFiltered(),c=d1(n,t,y.path,y.children,i,r,d,s))}else if(e.type===el.ACK_USER_WRITE){const y=e;c=y.revert?function(n,t,e,i,r,s){let c;if(null!=LM(i,e))return t;{const d=new c1(i,t,r),m=t.eventCache.getNode();let y;if(Jt(e)||".priority"===Xt(e)){let C;if(t.serverCache.isFullyInitialized())C=NM(i,Eg(t));else{const S=t.serverCache.getNode();(0,F.hu)(S instanceof Ht,"serverChildren would be complete if leaf node"),C=a1(i,S)}C=C,y=n.filter.updateFullNode(m,C,s)}else{const C=Xt(e);let S=l1(i,C,t.serverCache);null==S&&t.serverCache.isCompleteForChild(C)&&(S=m.getImmediateChild(C)),y=null!=S?n.filter.updateChild(m,C,S,Xn(e),d,s):t.eventCache.getNode().hasChild(C)?n.filter.updateChild(m,C,Ht.EMPTY_NODE,Xn(e),d,s):m,y.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=NM(i,Eg(t)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=LM(i,Tn()),GC(t,y,c,n.filter.filtersNodes())}}(n,t,y.path,i,r,s):function(n,t,e,i,r,s,c){if(null!=LM(r,e))return t;const d=t.serverCache.isFiltered(),m=t.serverCache;if(null!=i.value){if(Jt(e)&&m.isFullyInitialized()||m.isCompleteForPath(e))return BM(n,t,e,m.getNode().getChild(e),r,s,d,c);if(Jt(e)){let y=new si(null);return m.getNode().forEachChild(wu,(C,S)=>{y=y.set(new Vn(C),S)}),d1(n,t,e,y,r,s,d,c)}return t}{let y=new si(null);return i.foreach((C,S)=>{const A=vi(e,C);m.isCompleteForPath(A)&&(y=y.set(C,m.getNode().getChild(A)))}),d1(n,t,e,y,r,s,d,c)}}(n,t,y.path,y.affectedTree,i,r,s)}else{if(e.type!==el.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);c=function(n,t,e,i,r){const s=t.serverCache;return OU(n,DU(t,s.getNode(),s.isFullyInitialized()||Jt(e),s.isFiltered()),e,i,RU,r)}(n,t,e.path,i,s)}const m=s.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=PM(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(yU(PM(t)))}}(t,c,m),{viewCache:c,changes:m}}(n.processor_,r,t,e,i);return function(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,F.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,VU(n,s.changes,s.viewCache.eventCache.getNode(),null)}function VU(n,t,e,i){return function(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),zC(n,r,"child_removed",t,i,e),zC(n,r,"child_added",t,i,e),zC(n,r,"child_moved",s,i,e),zC(n,r,"child_changed",t,i,e),zC(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let VM,jM;class HU{constructor(){this.views=new Map}}function h1(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,F.hu)(null!=s,"SyncTree gave us an op for an invalid query."),BU(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(BU(c,t,e,i));return s}}function jU(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=NM(e,r?i:null),m=!1;d?m=!0:i instanceof Ht?(d=a1(e,i),m=!1):(d=Ht.EMPTY_NODE,m=!1);const y=OM(new Ff(d,m,!1),new Ff(i,r,!1));return new w7(t,y)}return c}function UU(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Lf(n,t){let e=null;for(const i of n.views.values())e=e||E7(i,t);return e}function zU(n,t){return t._queryParams.loadsAllData()?HM(n):n.views.get(t._queryIdentifier)}function GU(n,t){return null!=zU(n,t)}function Bf(n){return null!=HM(n)}function HM(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let P7=1;class $U{constructor(t){this.listenProvider_=t,this.syncPointTree_=new si(null),this.pendingWriteTree_={visibleWrites:hc.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function f1(n,t,e,i,r){return function(n,t,e,i,r){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=$C(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Iy(n,new Dg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Vf(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&e7(d,i.path)?r=!1:Ja(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function(n){n.visibleWrites=MU(n.allWrites,n7,Tn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=EU(n.visibleWrites,i.path):$r(i.children,m=>{n.visibleWrites=EU(n.visibleWrites,vi(i.path,m))}),!0))}(n.pendingWriteTree_,t)){let s=new si(null);return null!=i.snap?s=s.set(Tn(),!0):$r(i.children,c=>{s=s.set(new Vn(c),!0)}),Iy(n,new RM(i.path,s,e))}return[]}function qC(n,t,e){return Iy(n,new Dg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function p1(n,t,e,i){const r=t._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===t._queryIdentifier||GU(s,t))){const d=function(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=Bf(n);if("default"===r)for(const[m,y]of n.views.entries())c=c.concat(LU(y,e,i)),NU(y)&&(n.views.delete(m),y.query._queryParams.loadsAllData()||s.push(y.query));else{const m=n.views.get(r);m&&(c=c.concat(LU(m,e,i)),NU(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||s.push(m.query)))}return d&&!Bf(n)&&s.push(new((0,F.hu)(VM,"Reference.ts has not been loaded"),VM)(t._repo,t._path)),{removed:s,events:c}}(s,t,e,i);(function(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const m=d.removed;c=d.events;const y=-1!==m.findIndex(S=>S._queryParams.loadsAllData()),C=n.syncPointTree_.findOnPath(r,(S,A)=>Bf(A));if(y&&!C){const S=n.syncPointTree_.subtree(r);if(!S.isEmpty()){const A=function(n){return n.fold((t,e,i)=>{if(e&&Bf(e))return[HM(e)];{let r=[];return e&&(r=UU(e)),$r(i,(s,c)=>{r=r.concat(c)}),r}})}(S);for(let P=0;P<A.length;++P){const H=A[P],J=H.query,se=ZU(n,H);n.listenProvider_.startListening(YC(J),zM(n,J),se.hashFn,se.onComplete)}}}if(!C&&m.length>0&&!i)if(y){const S=null;n.listenProvider_.stopListening(YC(t),S)}else m.forEach(S=>{const A=n.queryToTagMap.get(GM(S));n.listenProvider_.stopListening(YC(S),A)});!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=GM(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,m)}return c}function qU(n,t,e){const i=t._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(S,A)=>{const P=uo(S,i);r=r||Lf(A,P),s=s||Bf(A)});let d,c=n.syncPointTree_.get(i);c?(s=s||Bf(c),r=r||Lf(c,Tn())):(c=new HU,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?d=!0:(d=!1,r=Ht.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((A,P)=>{const H=Lf(P,Tn());H&&(r=r.updateImmediateChild(A,H))}));const m=GU(c,t);if(!m&&!t._queryParams.loadsAllData()){const S=GM(t);(0,F.hu)(!n.queryToTagMap.has(S),"View does not exist, but we have a tag");const A=P7++;n.queryToTagMap.set(S,A),n.tagToQueryMap.set(A,S)}let C=function(n,t,e,i,r,s){const c=jU(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function(n,t){n.eventRegistrations_.push(t)}(c,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ri,(s,c)=>{i.push(Sy(s,c))}),e.isFullyInitialized()&&i.push(yU(e.getNode())),VU(n,i,e.getNode(),t)}(c,e)}(c,t,e,FM(n.pendingWriteTree_,i),r,d);if(!m&&!s){const S=zU(c,t);C=C.concat(function(n,t,e){const i=t._path,r=zM(n,t),s=ZU(n,e),c=n.listenProvider_.startListening(YC(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,F.hu)(!Bf(d.value),"If we're adding a query, it shouldn't be shadowed");else{const m=d.fold((y,C,S)=>{if(!Jt(y)&&C&&Bf(C))return[HM(C).query];{let A=[];return C&&(A=A.concat(UU(C).map(P=>P.query))),$r(S,(P,H)=>{A=A.concat(H)}),A}});for(let y=0;y<m.length;++y){const C=m[y];n.listenProvider_.stopListening(YC(C),zM(n,C))}}return c}(n,t,S))}return C}function UM(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const y=Lf(d,uo(c,t));if(y)return y});return TU(r,t,s,e,!0)}function Iy(n,t){return YU(t,n.syncPointTree_,null,FM(n.pendingWriteTree_,Tn()))}function YU(n,t,e,i){if(Jt(n.path))return WU(n,t,e,i);{const r=t.get(Tn());null==e&&null!=r&&(e=Lf(r,Tn()));let s=[];const c=Xt(n.path),d=n.operationForChild(c),m=t.children.get(c);if(m&&d){const y=e?e.getImmediateChild(c):null,C=AU(i,c);s=s.concat(YU(d,m,y,C))}return r&&(s=s.concat(h1(r,n,i,e))),s}}function WU(n,t,e,i){const r=t.get(Tn());null==e&&null!=r&&(e=Lf(r,Tn()));let s=[];return t.children.inorderTraversal((c,d)=>{const m=e?e.getImmediateChild(c):null,y=AU(i,c),C=n.operationForChild(c);C&&(s=s.concat(WU(C,d,m,y)))}),r&&(s=s.concat(h1(r,n,i,e))),s}function ZU(n,t){const e=t.query,i=zM(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||Ht.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function(n,t,e){const i=m1(n,e);if(i){const r=g1(i),s=r.path,c=r.queryId,d=uo(s,t);return _1(n,s,new UC(t1(c),d))}return[]}(n,e._path,i):function(n,t){return Iy(n,new UC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return p1(n,e,null,s)}}}}function zM(n,t){const e=GM(t);return n.queryToTagMap.get(e)}function GM(n){return n._path.toString()+"$"+n._queryIdentifier}function m1(n,t){return n.tagToQueryMap.get(t)}function g1(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Vn(n.substr(0,t))}}function _1(n,t,e){const i=n.syncPointTree_.get(t);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),h1(i,e,FM(n.pendingWriteTree_,t),null)}function YC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,F.hu)(jM,"Reference.ts has not been loaded"),jM)(n._repo,n._path):n}class v1{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new v1(e)}node(){return this.node_}}class y1{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=vi(this.path_,t);return new y1(this.syncTree_,e)}node(){return UM(this.syncTree_,this.path_)}}const KU=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Y7(n[".sv"],t,e):"object"==typeof n[".sv"]?W7(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Y7=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},W7=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,F.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},QU=function(n,t,e,i){return w1(t,new y1(e,n),i)},b1=function(n,t,e){return w1(n,new v1(t),e)};function w1(n,t,e){const i=n.getPriority().val(),r=KU(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=KU(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new Cy(d,Mi(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new Cy(r))),c.forEachChild(ri,(d,m)=>{const y=w1(m,t.getImmediateChild(d),e);y!==m&&(s=s.updateImmediateChild(d,y))}),s}}class C1{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function $M(n,t){let e=t instanceof Vn?t:new Vn(t),i=n,r=Xt(e);for(;null!==r;){const s=(0,F.DV)(i.node.children,r)||{children:{},childCount:0};i=new C1(r,i,s),e=Xn(e),r=Xt(e)}return i}function xg(n){return n.node.value}function D1(n,t){n.node.value=t,E1(n)}function XU(n){return n.node.childCount>0}function qM(n,t){$r(n.node.children,(e,i)=>{t(new C1(e,n,i))})}function JU(n,t,e,i){e&&!i&&t(n),qM(n,r=>{JU(r,t,!0,i)}),e&&i&&t(n)}function WC(n){return new Vn(null===n.parent?n.name:WC(n.parent)+"/"+n.name)}function E1(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===xg(n)&&!XU(n)}(e),r=(0,F.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,E1(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,E1(n))}(n.parent,n.name,n)}const X7=/[\[\].#$\/\u0000-\u001F\u007F]/,J7=/[\[\].#$\u0000-\u001F\u007F]/,S1=10485760,YM=function(n){return"string"==typeof n&&0!==n.length&&!X7.test(n)},e3=function(n){return"string"==typeof n&&0!==n.length&&!J7.test(n)},ZC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!bM(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},Cu=function(n,t,e,i){i&&void 0===t||KC((0,F.gK)(n,"value"),t,e)},KC=function(n,t,e){const i=e instanceof Vn?new hK(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+wg(i));if("function"==typeof t)throw new Error(n+"contains a function "+wg(i)+" with contents = "+t.toString());if(bM(t))throw new Error(n+"contains "+t.toString()+" "+wg(i));if("string"==typeof t&&t.length>S1/3&&(0,F.ug)(t)>S1)throw new Error(n+"contains a string greater than "+S1+" utf8 bytes "+wg(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if($r(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!YM(c)))throw new Error(n+" contains an invalid key ("+c+") "+wg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),oU(n)})(i,c),KC(n,d,i),function(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+wg(i)+" in addition to actual children.")}},t3=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];$r(t,(c,d)=>{const m=new Vn(c);if(KC(r,d,vi(e,m)),".priority"===VP(m)&&!ZC(d))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(m)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=FC(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!YM(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(dK);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ja(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},x1=function(n,t,e){if(!e||void 0!==t){if(bM(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ZC(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},QC=function(n,t,e,i){if(!(i&&void 0===e||YM(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},XC=function(n,t,e,i){if(!(i&&void 0===e||e3(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},tl=function(n,t){if(".info"===Xt(t))throw new Error(n+" failed = Can't modify data under /.info/")},n3=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!YM(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),e3(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class iQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function WM(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!HP(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function M1(n,t,e){WM(n,e),r3(n,i=>HP(i,t))}function nl(n,t,e){WM(n,e),r3(n,i=>Ja(i,t)||Ja(t,i))}function r3(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(rQ(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function rQ(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();yg&&Gr("event: "+e.toString()),by(i)}}}const s3="repo_interrupt";class oQ{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new iQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kM(),this.transactionQueueTree_=new C1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function o3(n){const e=n.infoData_.getNode(new Vn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function JC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:o3(n)})}function a3(n,t,e,i,r){n.dataUpdateCount++;const s=new Vn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const m=(0,F.UI)(e,y=>Mi(y));c=function(n,t,e,i){const r=m1(n,i);if(r){const s=g1(r),c=s.path,d=s.queryId,m=uo(c,t),y=si.fromObject(e);return _1(n,c,new My(t1(d),m,y))}return[]}(n.serverSyncTree_,s,m,r)}else{const m=Mi(e);c=function(n,t,e,i){const r=m1(n,i);if(null!=r){const s=g1(r),c=s.path,d=s.queryId,m=uo(c,t);return _1(n,c,new Dg(t1(d),m,e))}return[]}(n.serverSyncTree_,s,m,r)}else if(i){const m=(0,F.UI)(e,y=>Mi(y));c=function(n,t,e){const i=si.fromObject(e);return Iy(n,new My({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,m)}else{const m=Mi(e);c=qC(n.serverSyncTree_,s,m)}let d=s;c.length>0&&(d=ky(n,s)),nl(n.eventQueue_,d,c)}function l3(n,t){T1(n,"connected",t),!1===t&&function(n){Ay(n,"onDisconnectEvents");const t=JC(n),e=kM();XP(n.onDisconnect_,Tn(),(r,s)=>{const c=QU(r,s,n.serverSyncTree_,t);xy(e,r,c)});let i=[];XP(e,Tn(),(r,s)=>{i=i.concat(qC(n.serverSyncTree_,r,s));const c=R1(n,r);ky(n,c)}),n.onDisconnect_=kM(),nl(n.eventQueue_,Tn(),i)}(n)}function T1(n,t,e){const i=new Vn("/.info/"+t),r=Mi(e);n.infoData_.updateSnapshot(i,r);const s=qC(n.infoSyncTree_,i,r);nl(n.eventQueue_,i,s)}function ZM(n){return n.nextWriteId_++}function I1(n,t,e,i,r){Ay(n,"set",{path:t.toString(),value:e,priority:i});const s=JC(n),c=Mi(e,i),d=UM(n.serverSyncTree_,t),m=b1(c,d,s),y=ZM(n),C=f1(n.serverSyncTree_,t,m,y,!0);WM(n.eventQueue_,C),n.server_.put(t.toString(),c.val(!0),(A,P)=>{const H="ok"===A;H||co("set at "+t+" failed: "+A);const J=Vf(n.serverSyncTree_,y,!H);nl(n.eventQueue_,t,J),Hf(0,r,A,P)});const S=R1(n,t);ky(n,S),nl(n.eventQueue_,S,[])}function hQ(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&QP(n.onDisconnect_,t),Hf(0,e,i,r)})}function c3(n,t,e,i){const r=Mi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&xy(n.onDisconnect_,t,r),Hf(0,i,s,c)})}function A1(n,t,e){let i;i=".info"===Xt(t._path)?p1(n.infoSyncTree_,t,e):p1(n.serverSyncTree_,t,e),M1(n.eventQueue_,t._path,i)}function u3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(s3)}function Ay(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Gr(e,...t)}function Hf(n,t,e,i){t&&by(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function k1(n,t,e){return UM(n.serverSyncTree_,t,e)||Ht.EMPTY_NODE}function KM(n,t=n.transactionQueueTree_){if(t||QM(n,t),xg(t)){const e=h3(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function(n,t,e){const i=e.map(y=>y.currentWriteId),r=k1(n,t,i);let s=r;const c=r.hash();for(let y=0;y<e.length;y++){const C=e[y];(0,F.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const S=uo(t,C.path);s=s.updateChild(S,C.currentOutputSnapshotRaw)}const d=s.val(!0),m=t;n.server_.put(m.toString(),d,y=>{Ay(n,"transaction put response",{path:m.toString(),status:y});let C=[];if("ok"===y){const S=[];for(let A=0;A<e.length;A++)e[A].status=2,C=C.concat(Vf(n.serverSyncTree_,e[A].currentWriteId)),e[A].onComplete&&S.push(()=>e[A].onComplete(null,!0,e[A].currentOutputSnapshotResolved)),e[A].unwatcher();QM(n,$M(n.transactionQueueTree_,t)),KM(n,n.transactionQueueTree_),nl(n.eventQueue_,t,C);for(let A=0;A<S.length;A++)by(S[A])}else{if("datastale"===y)for(let S=0;S<e.length;S++)e[S].status=3===e[S].status?4:0;else{co("transaction at "+m.toString()+" failed: "+y);for(let S=0;S<e.length;S++)e[S].status=4,e[S].abortReason=y}ky(n,t)}},c)}(n,WC(t),e)}else XU(t)&&qM(t,e=>{KM(n,e)})}function ky(n,t){const e=d3(n,t),i=WC(e);return function(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const m=t[d],y=uo(e,m.path);let S,C=!1;if((0,F.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)C=!0,S=m.abortReason,r=r.concat(Vf(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=25)C=!0,S="maxretry",r=r.concat(Vf(n.serverSyncTree_,m.currentWriteId,!0));else{const A=k1(n,m.path,c);m.currentInputSnapshot=A;const P=t[d].update(A.val());if(void 0!==P){KC("transaction failed: Data returned ",P,m.path);let H=Mi(P);"object"==typeof P&&null!=P&&(0,F.r3)(P,".priority")||(H=H.updatePriority(A.getPriority()));const se=m.currentWriteId,Ye=JC(n),nt=b1(H,A,Ye);m.currentOutputSnapshotRaw=H,m.currentOutputSnapshotResolved=nt,m.currentWriteId=ZM(n),c.splice(c.indexOf(se),1),r=r.concat(f1(n.serverSyncTree_,m.path,nt,m.currentWriteId,m.applyLocally)),r=r.concat(Vf(n.serverSyncTree_,se,!0))}else C=!0,S="nodata",r=r.concat(Vf(n.serverSyncTree_,m.currentWriteId,!0))}nl(n.eventQueue_,e,r),r=[],C&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===S?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(S),!1,null)))}QM(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)by(i[d]);KM(n,n.transactionQueueTree_)}(n,h3(n,e),i),i}function d3(n,t){let e,i=n.transactionQueueTree_;for(e=Xt(t);null!==e&&void 0===xg(i);)i=$M(i,e),e=Xt(t=Xn(t));return i}function h3(n,t){const e=[];return f3(n,t,e),e.sort((i,r)=>i.order-r.order),e}function f3(n,t,e){const i=xg(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);qM(t,r=>{f3(n,r,e)})}function QM(n,t){const e=xg(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,D1(t,e.length>0?e:void 0)}qM(t,i=>{QM(n,i)})}function R1(n,t){const e=WC(d3(n,t)),i=$M(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{O1(n,r)}),O1(n,i),JU(i,r=>{O1(n,r)}),e}function O1(n,t){const e=xg(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,F.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,F.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Vf(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?D1(t,void 0):e.length=s+1,nl(n.eventQueue_,WC(t),r);for(let c=0;c<i.length;c++)by(i[c])}}const P1=function(n,t){const e=CQ(n),i=e.namespace;return"firebase.com"===e.domain&&yu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&yu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&co("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new RP(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Vn(e.pathString)}},CQ=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",m=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(d=n.substring(0,y-1),n=n.substring(y+2));let C=n.indexOf("/");-1===C&&(C=n.length);let S=n.indexOf("?");-1===S&&(S=n.length),t=n.substring(0,Math.min(C,S)),C<S&&(r=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}t+="/"+r}return t}(n.substring(C,S)));const A=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):co(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,S)));y=t.indexOf(":"),y>=0?(c="https"===d||"wss"===d,m=parseInt(t.substring(y+1),10)):y=t.length;const P=t.slice(0,y);if("localhost"===P.toLowerCase())e="localhost";else if(P.split(".").length<=2)e=P;else{const H=t.indexOf(".");i=t.substring(0,H).toLowerCase(),e=t.substring(H+1),s=i}"ns"in A&&(s=A.ns)}return{host:t,port:m,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class p3{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class m3{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class g3{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class _3{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return hQ(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){tl("OnDisconnect.remove",this._path);const t=new F.BH;return c3(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){tl("OnDisconnect.set",this._path),Cu("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return c3(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){tl("OnDisconnect.setWithPriority",this._path),Cu("OnDisconnect.setWithPriority",t,this._path,!1),x1("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function(n,t,e,i,r){const s=Mi(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&xy(n.onDisconnect_,t,s),Hf(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){tl("OnDisconnect.update",this._path),t3("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function(n,t,e,i){if((0,F.xb)(e))return Gr("onDisconnect().update() called with empty data.  Don't do anything."),void Hf(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&$r(e,(c,d)=>{const m=Mi(d);xy(n.onDisconnect_,vi(t,c),m)}),Hf(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Lo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Jt(this._path)?null:VP(this._path)}get ref(){return new il(this._repo,this._path)}get _queryIdentifier(){const t=wU(this._queryParams),e=IP(t);return"{}"===e?"default":e}get _queryObject(){return wU(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof Lo))return!1;const e=this._repo===t._repo,i=HP(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function XM(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function jf(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===wu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==zd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==bu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===ri){if(null!=t&&!ZC(t)||null!=e&&!ZC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof $P||n.getIndex()===qP,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function JM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class il extends Lo{constructor(t,e){super(t,e,new TM,!1)}get parent(){const t=sU(this._path);return null===t?null:new il(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Mg{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Vn(t),i=Tg(this.ref,t);return new Mg(this._node.getChild(e),i,ri)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Mg(r,Tg(this.ref,i),ri)))}hasChild(t){const e=new Vn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function v3(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?Tg(n._root,t):n._root}function y3(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=P1(t,n._repo.repoInfo_.nodeAdmin);n3("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&yu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),v3(n,e.path.toString())}function Tg(n,t){return null===Xt((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),XC("child","path",e,!1)):XC("child","path",t,!1),new il(n._repo,vi(n._path,t));var e}function F1(n,t){n=(0,F.m9)(n),tl("set",n._path),Cu("set",t,n._path,!1);const e=new F.BH;return I1(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function MQ(n,t){t3("update",t,n._path,!1);const e=new F.BH;return function(n,t,e,i){Ay(n,"update",{path:t.toString(),value:e});let r=!0;const s=JC(n),c={};if($r(e,(d,m)=>{r=!1,c[d]=QU(vi(t,d),Mi(m),n.serverSyncTree_,s)}),r)Gr("update() called with empty data.  Don't do anything."),Hf(0,i,"ok",void 0);else{const d=ZM(n),m=function(n,t,e,i){!function(n,t,e,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=r1(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=si.fromObject(e);return Iy(n,new My({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);WM(n.eventQueue_,m),n.server_.merge(t.toString(),e,(y,C)=>{const S="ok"===y;S||co("update at "+t+" failed: "+y);const A=Vf(n.serverSyncTree_,d,!S),P=A.length>0?ky(n,t):t;nl(n.eventQueue_,P,A),Hf(0,i,y,C)}),$r(e,y=>{const C=R1(n,vi(t,y));ky(n,C)}),nl(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function TQ(n){return function(n,t){const e=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(y,C)=>{const S=uo(y,e);i=i||Lf(C,S)});let r=n.syncPointTree_.get(e);r?i=i||Lf(r,Tn()):(r=new HU,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new Ff(i,!0,!1):null;return function(n){return PM(n.viewCache_)}(jU(r,t,FM(n.pendingWriteTree_,t._path),s?c.getNode():Ht.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=Mi(i).withIndex(t._queryParams.getIndex()),s=qC(n.serverSyncTree_,t._path,r);return M1(n.eventQueue_,t._path,s),Promise.resolve(r)},i=>(Ay(n,"get for query "+(0,F.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,F.m9)(n))._repo,n).then(t=>new Mg(t,new il(n._repo,n._path),n._queryParams.getIndex()))}class eT{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new p3("value",this,new Mg(t.snapshotNode,new il(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new m3(this,t,e):null}matches(t){return t instanceof eT&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class tT{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new m3(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const i=Tg(new il(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new p3(t.type,this,new Mg(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof tT&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function eD(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const m=e,y=(C,S)=>{A1(n._repo,n,d),m(C,S)};y.userCallback=e.userCallback,y.context=e.context,e=y}const c=new g3(e,s||void 0),d="value"===t?new eT(c):new tT(t,c);return function(n,t,e){let i;i=".info"===Xt(t._path)?qU(n.infoSyncTree_,t,e):qU(n.serverSyncTree_,t,e),M1(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>A1(n._repo,n,d)}function N1(n,t,e,i){return eD(n,"value",t,e,i)}function b3(n,t,e,i){return eD(n,"child_added",t,e,i)}function w3(n,t,e,i){return eD(n,"child_changed",t,e,i)}function C3(n,t,e,i){return eD(n,"child_moved",t,e,i)}function D3(n,t,e,i){return eD(n,"child_removed",t,e,i)}function E3(n,t,e){let i=null;const r=e?new g3(e):null;"value"===t?i=new eT(r):t&&(i=new tT(t,r)),A1(n._repo,n,i)}class fc{}class S3 extends fc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Cu("endAt",this._value,t._path,!0);const e=KP(t._queryParams,this._value,this._key);if(JM(e),jf(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lo(t._repo,t._path,e,t._orderByCalled)}}class AQ extends fc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Cu("endBefore",this._value,t._path,!1);const e=function(n,t,e){let i,r;return n.index_===wu?("string"==typeof t&&(t=vU(t)),r=KP(n,t,e)):(i=null==e?zd:vU(e),r=KP(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(JM(e),jf(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Lo(t._repo,t._path,e,t._orderByCalled)}}class x3 extends fc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Cu("startAt",this._value,t._path,!0);const e=ZP(t._queryParams,this._value,this._key);if(JM(e),jf(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Lo(t._repo,t._path,e,t._orderByCalled)}}class OQ extends fc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Cu("startAfter",this._value,t._path,!1);const e=function(n,t,e){let i;if(n.index_===wu)"string"==typeof t&&(t=_U(t)),i=ZP(n,t,e);else{let r;r=null==e?bu:_U(e),i=ZP(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(JM(e),jf(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Lo(t._repo,t._path,e,t._orderByCalled)}}class FQ extends fc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lo(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class LQ extends fc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Lo(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class VQ extends fc{constructor(t){super(),this._path=t}_apply(t){XM(t,"orderByChild");const e=new Vn(this._path);if(Jt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new $P(e),r=IM(t._queryParams,i);return jf(r),new Lo(t._repo,t._path,r,!0)}}class jQ extends fc{_apply(t){XM(t,"orderByKey");const e=IM(t._queryParams,wu);return jf(e),new Lo(t._repo,t._path,e,!0)}}class zQ extends fc{_apply(t){XM(t,"orderByPriority");const e=IM(t._queryParams,ri);return jf(e),new Lo(t._repo,t._path,e,!0)}}class $Q extends fc{_apply(t){XM(t,"orderByValue");const e=IM(t._queryParams,qP);return jf(e),new Lo(t._repo,t._path,e,!0)}}class YQ extends fc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Cu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new S3(this._value,this._key)._apply(new x3(this._value,this._key)._apply(t))}}function pc(n,...t){let e=(0,F.m9)(n);for(const i of t)e=i._apply(e);return e}(function(n){(0,F.hu)(!VM,"__referenceConstructor has already been defined"),VM=n})(il),function(n){(0,F.hu)(!jM,"__referenceConstructor has already been defined"),jM=n}(il);const L1={};function T3(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||yu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,y,c=P1(s,r),d=c.repoInfo;"undefined"!=typeof process&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(m=!0,s=`http://${y}?ns=${d.namespace}`,c=P1(s,r),d=c.repoInfo):m=!c.repoInfo.secure;const C=r&&m?new RC(RC.OWNER):new BZ(n.name,n.options,t);n3("Invalid Firebase Database URL",c),Jt(c.path)||yu("Database URL must point to the root of a Firebase Database (not including a child path).");const S=function(n,t,e,i){let r=L1[t.name];r||(r={},L1[t.name]=r);let s=r[n.toURLString()];return s&&yu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new oQ(n,false,e,i),r[n.toURLString()]=s,s}(d,n,C,new LZ(n.name,e));return new e9(S,n)}class e9{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=FP(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new AM(n.repoInfo_,(i,r,s,c)=>{a3(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>l3(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Cg(n.repoInfo_,t,(i,r,s,c)=>{a3(n,i,r,s,c)},i=>{l3(n,i)},i=>{!function(n,t){$r(t,(e,i)=>{T1(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return PP[e]||(PP[e]=t()),PP[e]}(n.repoInfo_,()=>new GK(n.stats_,n.server_)),n.infoData_=new VK,n.infoSyncTree_=new $U({startListening:(i,r,s,c)=>{let d=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(d=qC(n.infoSyncTree_,i._path,m),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),T1(n,"connected",!1),n.serverSyncTree_=new $U({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,m)=>{const y=c(d,m);nl(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new il(this._repo,Tn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=L1[t];(!e||e[n.key]!==n)&&yu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),u3(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&yu("Cannot call "+t+" on a deleted database.")}}function s9(n,t){Ij(n,t)}class u9{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Cg.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Cg.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},Ej(ca.SDK_VERSION),(0,ca._registerComponent)(new Ya.wA("database",(t,{instanceIdentifier:e})=>T3(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,ca.registerVersion)(Cj,"0.12.4",void 0),(0,ca.registerVersion)(Cj,"0.12.4","esm2017");const p9=new ua.Yd("@firebase/database-compat"),I3=function(n){p9.warn("FIREBASE WARNING: "+n)};class _9{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,I3("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class v9{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Uf{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),XC("DataSnapshot.child","path",t,!1),new Uf(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),XC("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Uf(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new _a(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class gs{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const c=gs.getCancelAndContextArgs_("Query.on",i,r),d=(y,C)=>{e.call(c.context,new Uf(this.database,y),C)};d.userCallback=e,d.context=c.context;const m=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return N1(this._delegate,d,m),e;case"child_added":return b3(this._delegate,d,m),e;case"child_removed":return D3(this._delegate,d,m),e;case"child_changed":return w3(this._delegate,d,m),e;case"child_moved":return C3(this._delegate,d,m),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,E3(this._delegate,t,r)}else E3(this._delegate,t)}get(){return TQ(this._delegate).then(t=>new Uf(this.database,t))}once(t,e,i,r){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const s=gs.getCancelAndContextArgs_("Query.once",i,r),c=new F.BH,d=(y,C)=>{const S=new Uf(this.database,y);e&&e.call(s.context,S,C),c.resolve(S)};d.userCallback=e,d.context=s.context;const m=y=>{s.cancel&&s.cancel.call(s.context,y),c.reject(y)};switch(t){case"value":N1(this._delegate,d,m,{onlyOnce:!0});break;case"child_added":b3(this._delegate,d,m,{onlyOnce:!0});break;case"child_removed":D3(this._delegate,d,m,{onlyOnce:!0});break;case"child_changed":w3(this._delegate,d,m,{onlyOnce:!0});break;case"child_moved":C3(this._delegate,d,m,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new gs(this.database,pc(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new FQ(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new gs(this.database,pc(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new LQ(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new gs(this.database,pc(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return XC("orderByChild","path",n,!1),new VQ(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new gs(this.database,pc(this._delegate,new jQ))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new gs(this.database,pc(this._delegate,new zQ))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new gs(this.database,pc(this._delegate,new $Q))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new gs(this.database,pc(this._delegate,function(n=null,t){return QC("startAt","key",t,!0),new x3(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new gs(this.database,pc(this._delegate,function(n,t){return QC("startAfter","key",t,!0),new OQ(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new gs(this.database,pc(this._delegate,function(n,t){return QC("endAt","key",t,!0),new S3(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new gs(this.database,pc(this._delegate,function(n,t){return QC("endBefore","key",t,!0),new AQ(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new gs(this.database,pc(this._delegate,function(n,t){return QC("equalTo","key",t,!0),new YQ(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof gs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,F.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,F.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new _a(this.database,new il(this._delegate._repo,this._delegate._path))}}class _a extends gs{constructor(t,e){super(t,new Lo(e._repo,e._path,new TM,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new _a(this.database,Tg(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new _a(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new _a(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=F1(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,I3("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tl("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=MQ(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function(n,t,e){if(tl("setWithPriority",n._path),Cu("setWithPriority",t,n._path,!1),x1("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return I1(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return tl("remove",n._path),F1(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function(n,t,e){var i;if(n=(0,F.m9)(n),tl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,s=new F.BH,d=N1(n,()=>{});return function(n,t,e,i,r,s){Ay(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:xj(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=k1(n,t,void 0);c.currentInputSnapshot=d;const m=c.update(d.val());if(void 0===m)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{KC("transaction failed: Data returned ",m,c.path),c.status=0;const y=$M(n.transactionQueueTree_,t),C=xg(y)||[];let S;C.push(c),D1(y,C),"object"==typeof m&&null!==m&&(0,F.r3)(m,".priority")?(S=(0,F.DV)(m,".priority"),(0,F.hu)(ZC(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(UM(n.serverSyncTree_,t)||Ht.EMPTY_NODE).getPriority().val();const A=JC(n),P=Mi(m,S),H=b1(P,d,A);c.currentOutputSnapshotRaw=P,c.currentOutputSnapshotResolved=H,c.currentWriteId=ZM(n);const J=f1(n.serverSyncTree_,t,H,c.currentWriteId,c.applyLocally);nl(n.eventQueue_,t,J),KM(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(m,y,C)=>{let S=null;m?s.reject(m):(S=new Mg(C,new il(n._repo,n._path),ri),s.resolve(new u9(y,S)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new v9(s.committed,new Uf(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function(n,t){n=(0,F.m9)(n),tl("setPriority",n._path),x1("setPriority",t,!1);const e=new F.BH;return I1(n._repo,vi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function(n,t){n=(0,F.m9)(n),tl("push",n._path),Cu("push",t,n._path,!0);const e=o3(n._repo),i=kK(e),r=Tg(n,i),s=Tg(n,i);let c;return c=null!=t?F1(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new _a(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new _a(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return tl("Reference.onDisconnect",this._delegate._path),new _9(new _3(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class tD{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function(n,t,e,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&yu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&yu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new RC(RC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);s=new RC(c)}!function(n,t,e,i){n.repoInfo_=new RP(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof _a){const e=y3(this._delegate,t.toString());return new _a(this,e)}{const e=v3(this._delegate,t);return new _a(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=y3(this._delegate,t);return new _a(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),u3(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(s3)}(n._repo)}(this._delegate)}}tD.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var b9=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Ej(e);const c=new Ya.zt("auth-internal",new Ya.H0("database-standalone"));return c.setComponent(new Ya.wA("auth-internal",()=>i,"PRIVATE")),{instance:new tD(T3(n,c,void 0,t,s),n),namespace:r}}});const w9=tD.ServerValue;function A3(n){return null==n}function k3(n){return"function"==typeof n.set}function R3(n,t){return k3(t)?t:n.ref(t)}function O3(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(k3(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function nD(n,t,e="on",i=ec.z){return new Hn.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,Je.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,zO.B)())}function P3(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function M9(n,t){const{payload:e,prevKey:i,key:r}=t,s=P3(n,r),c=function(n,t){if(A3(t))return 0;{const e=P3(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(m=>{const y={payload:m,type:"value",prevKey:d,key:m.key};return d=m.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(m=>m.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function F3(n){return(A3(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function N3(n,t,e){return function(n,t,e){return nD(n,"value","once",e).pipe(Ln(i=>{const r=[Ue(i)];return t.forEach(s=>r.push(nD(n,s,"on",e))),(0,Si.T)(...r).pipe(Ar(M9,[]))}),$h())}(n,t=F3(t),e)}function L3(n,t,e){const i=(t=F3(t)).map(r=>nD(n,r,"on",e));return(0,Si.T)(...i)}function B3(n,t){return function(i,r){return O3(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function k9(n){return function(e){return e?O3(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function V3(n,t){return function(){return nD(n,"value","on",t)}}!function(n){n.INTERNAL.registerComponent(new Ya.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new tD(r,i)},"PUBLIC").setServiceProps({Reference:_a,Query:gs,Database:tD,DataSnapshot:Uf,enableLogging:s9,INTERNAL:b9,ServerValue:w9}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.4")}(yS.Z);const P9=new o.OlP("angularfire2.realtimeDatabaseURL"),F9=new o.OlP("angularfire2.database.use-emulator");let N9=(()=>{class n{constructor(e,i,r,s,c,d,m,y,C,S,A,P,H,J,se){this.schedulers=d;const Ye=m,nt=(0,ao.on)(e,c,i);y&&CP(nt,c,C,A,P,H,S,J),this.database=(0,ao.cc)(`${nt.name}.database.${r}`,"AngularFireDatabase",nt.name,()=>{const ut=c.runOutsideAngular(()=>nt.database(r||void 0));return Ye&&ut.useEmulator(...Ye),ut},[Ye])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>R3(this.database,e));let s=r;return i&&(s=i(r)),function(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:B3(i,"update"),set:B3(i,"set"),push:r=>i.push(r),remove:k9(i),snapshotChanges:r=>N3(n,r,e).pipe(pi.iC),stateChanges:r=>L3(n,r,e).pipe(pi.iC),auditTrail:r=>function(n,t,e){return function(n,t,e){return function(n,t){return nD(n,"value","on",t).pipe((0,Je.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function(...n){const t=(0,Co.jO)(n);return(0,Kn.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let m=0;m<r;m++)(0,$n.Xf)(n[m]).subscribe(new un.Q(i,y=>{s[m]=y,!d&&!c[m]&&(c[m]=!0,(d=c.every(bs.y))&&(c=null))},db.Z));e.subscribe(new un.Q(i,m=>{if(d){const y=[m,...s];i.next(t?t(...y):y)}}))})}(t),(0,Je.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(m=>m.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),(0,Kn.e)((t,e)=>{let i=!1;t.subscribe(new un.Q(e,s=>(i||(i=!(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad))(s)))&&e.next(s)))}),(0,Je.U)(r=>r.actions))}(n,L3(n,t).pipe(Ar((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(pi.iC),valueChanges:(r,s)=>N3(n,r,e).pipe((0,Je.U)(d=>d.map(m=>s&&s.idField?Object.assign(Object.assign({},m.payload.val()),{[s.idField]:m.key}):m.payload.val())),pi.iC)}}(s,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>V3(n,t.schedulers.outsideAngular)().pipe(pi.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>V3(n,t.schedulers.outsideAngular)().pipe(pi.iC,(0,Je.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>R3(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ao.Dh),o.LFG(ao.xv,8),o.LFG(P9,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(pi.HU),o.LFG(F9,8),o.LFG(DP,8),o.LFG(gP,8),o.LFG(_P,8),o.LFG(vP,8),o.LFG(yP,8),o.LFG(bP,8),o.LFG(wP,8),o.LFG(vM,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),L9=(()=>{class n{constructor(){ew.Z.registerVersion("angularfire",pi.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[N9]}),n})(),B9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function B1(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function Ry(n,t){const e=t?"":"none";B1(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function H3(n,t,e){B1(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function nT(n,t){return t&&"none"!=t?n+" "+t:n}function j3(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function V1(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function H1(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function j1(n,t,e){const{top:i,bottom:r,left:s,right:c}=n;return e>=i&&e<=r&&t>=s&&t<=c}function iD(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function U3(n,t,e,i){const{top:r,right:s,bottom:c,left:d,width:m,height:y}=n,C=m*t,S=y*t;return i>r-S&&i<c+S&&e>d-C&&e<s+C}class z3{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:H1(e)})})}handleScroll(t){const e=Is(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let s,c;if(e===this._document){const y=this._viewportRuler.getViewportScrollPosition();s=y.top,c=y.left}else s=e.scrollTop,c=e.scrollLeft;const d=r.top-s,m=r.left-c;return this.positions.forEach((y,C)=>{y.clientRect&&e!==C&&e.contains(C)&&iD(y.clientRect,d,m)}),r.top=s,r.left=c,{top:d,left:m}}}function G3(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?Y3(n,t):("input"===i||"select"===i||"textarea"===i)&&q3(n,t),$3("canvas",n,t,Y3),$3("input, textarea, select",n,t,q3),t}function $3(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const s=e.querySelectorAll(n);for(let c=0;c<r.length;c++)i(r[c],s[c])}}let j9=0;function q3(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${j9++}`)}function Y3(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const W3=Qs({passive:!0}),Z3=Qs({passive:!1}),U1=new Set(["position"]);class z9{constructor(t,e,i,r,s,c){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=s,this._dragDropRegistry=c,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ne.x,this._pointerMoveSubscription=dn.w0.EMPTY,this._pointerUpSubscription=dn.w0.EMPTY,this._scrollSubscription=dn.w0.EMPTY,this._resizeSubscription=dn.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ne.x,this.started=new Ne.x,this.released=new Ne.x,this.ended=new Ne.x,this.entered=new Ne.x,this.exited=new Ne.x,this.dropped=new Ne.x,this.moved=this._moveEvents,this._pointerDown=d=>{if(this.beforeStarted.next(),this._handles.length){const m=this._handles.find(y=>d.target&&(d.target===y||y.contains(d.target)));m&&!this._disabledHandles.has(m)&&!this.disabled&&this._initializeDragSequence(m,d)}else this.disabled||this._initializeDragSequence(this._rootElement,d)},this._pointerMove=d=>{const m=this._getPointerPositionOnPage(d);if(!this._hasStartedDragging){if(Math.abs(m.x-this._pickupPositionOnPage.x)+Math.abs(m.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const P=Date.now()>=this._dragStartTime+this._getDragStartDelay(d),H=this._dropContainer;if(!P)return void this._endDragSequence(d);(!H||!H.isDragging()&&!H.isReceiving())&&(d.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(d)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),d.preventDefault();const y=this._getConstrainedPointerPosition(m);if(this._hasMoved=!0,this._lastKnownPointerPosition=m,this._updatePointerDirectionDelta(y),this._dropContainer)this._updateActiveDropContainer(y,m);else{const C=this._activeTransform;C.x=y.x-this._pickupPositionOnPage.x+this._passiveTransform.x,C.y=y.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(C.x,C.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:y,event:d,distance:this._getDragDistance(y),delta:this._pointerDirectionDelta})})},this._pointerUp=d=>{this._endDragSequence(d)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new z3(i,s),c.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=tt(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Ry(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Wi(i)),this._handles.forEach(i=>Ry(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Wi(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Z3),e.addEventListener("touchstart",this._pointerDown,W3)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Wi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){var t,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(t=this._rootElement)||void 0===t||t.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Ry(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Ry(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var t,e;null===(t=this._preview)||void 0===t||t.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var t,e;null===(t=this._placeholder)||void 0===t||t.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){rD(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),c=this._anchor=this._anchor||this._document.createComment(""),d=this._getShadowRoot();r.insertBefore(c,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),H3(i,!1,U1),this._document.body.appendChild(r.replaceChild(s,i)),this._getPreviewInsertionPoint(r,d).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=rD(e),s=!r&&0!==e.button,c=this._rootElement,d=Is(e),m=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),y=r?hm(e):M_(e);if(d&&d.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||m||y)return;if(this._handles.length){const A=c.style;this._rootElementTapHighlight=A.webkitTapHighlightColor||"",A.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(A=>this._updateOnScroll(A)),this._boundaryElement&&(this._boundaryRect=H1(this._boundaryElement));const C=this._previewTemplate;this._pickupPositionInElement=C&&C.template&&!C.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const S=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:S.x,y:S.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){H3(this._rootElement,!0,U1),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),s=this._getDragDistance(r),c=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:s,dropPoint:r}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:c,distance:s,dropPoint:r}),e.drop(this,i,this._initialIndex,this._initialContainer,c,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const s=t.matchSize?this._rootElement.getBoundingClientRect():null,c=t.viewContainer.createEmbeddedView(i,t.context);c.detectChanges(),r=Q3(c,this._document),this._previewRef=c,t.matchSize?X3(r,s):r.style.transform=iT(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;r=G3(s),X3(r,s.getBoundingClientRect()),this._initialTransform&&(r.style.transform=this._initialTransform)}return B1(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},U1),Ry(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(s=>r.classList.add(s)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=V1(t,"transition-property"),i=e.find(d=>"transform"===d||"all"===d);if(!i)return 0;const r=e.indexOf(i),s=V1(t,"transition-duration"),c=V1(t,"transition-delay");return j3(s[r])+j3(c[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=c=>{var d;(!c||Is(c)===this._preview&&"transform"===c.propertyName)&&(null===(d=this._preview)||void 0===d||d.removeEventListener("transitionend",r),i(),clearTimeout(s))},s=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=Q3(this._placeholderRef,this._document)):i=G3(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,s=r?r.getBoundingClientRect():i,c=rD(e)?e.targetTouches[0]:e,d=this._getViewportScrollPosition();return{x:s.left-i.left+(c.pageX-s.left-d.left),y:s.top-i.top+(c.pageY-s.top-d.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=rD(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const c=this._ownerSVGElement.getScreenCTM();if(c){const d=this._ownerSVGElement.createSVGPoint();return d.x=r,d.y=s,d.matrixTransform(c.inverse())}}return{x:r,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:c}=this._pickupPositionInElement,d=this._boundaryRect,m=this._previewRect,y=d.top+c,C=d.bottom-(m.height-c);i=K3(i,d.left+s,d.right-(m.width-s)),r=K3(r,y,C)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,c=Math.abs(e-s.x),d=Math.abs(i-s.y);return c>this._config.pointerDirectionChangeThreshold&&(r.x=e>s.x?1:-1,s.x=e),d>this._config.pointerDirectionChangeThreshold&&(r.y=i>s.y?1:-1,s.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Ry(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Z3),t.removeEventListener("touchstart",this._pointerDown,W3)}_applyRootElementTransform(t,e){const i=iT(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=nT(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const r=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,s=iT(t,e);this._preview.style.transform=nT(s,r)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const s=i.left-r.left,c=r.right-i.right,d=i.top-r.top,m=r.bottom-i.bottom;i.width>r.width?(s>0&&(t+=s),c>0&&(t-=c)):t=0,i.height>r.height?(d>0&&(e+=d),m>0&&(e-=m)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:rD(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Is(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&iD(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=hd(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Wi(i)}}function iT(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function K3(n,t,e){return Math.max(t,Math.min(e,n))}function rD(n){return"t"===n.type[0]}function Q3(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function X3(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=iT(t.left,t.top)}function sD(n,t){return Math.max(0,Math.min(t,n))}class $9{constructor(t,e,i,r,s){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ne.x,this.entered=new Ne.x,this.exited=new Ne.x,this.dropped=new Ne.x,this.sorted=new Ne.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=dn.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ne.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=ec.z){return n<0&&(n=0),_b(n,n,t)}(0,ET).pipe(Tt(this._stopScrollTimers)).subscribe(()=>{const c=this._scrollNode,d=this.autoScrollStep;1===this._verticalScrollDirection?c.scrollBy(0,-d):2===this._verticalScrollDirection&&c.scrollBy(0,d),1===this._horizontalScrollDirection?c.scrollBy(-d,0):2===this._horizontalScrollDirection&&c.scrollBy(d,0)})},this.element=Wi(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new z3(i,s)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){let s;this._draggingStarted(),null==r?(s=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(t,e,i))):s=r;const c=this._activeDraggables,d=c.indexOf(t),m=t.getPlaceholderElement();let y=c[s];if(y===t&&(y=c[s+1]),!y&&(null==s||-1===s||s<c.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(y=c[0]),d>-1&&c.splice(d,1),y&&!this._dragDropRegistry.isDragging(y)){const C=y.getRootElement();C.parentElement.insertBefore(m,C),c.splice(s,0,t)}else Wi(this.element).appendChild(m),c.push(t);m.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,s,c,d){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:s,distance:c,dropPoint:d})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Wi(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!U3(this._clientRect,.05,e,i))return;const s=this._itemPositions,c=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===c&&s.length>0)return;const d="horizontal"===this._orientation,m=s.findIndex(se=>se.drag===t),y=s[c],S=y.clientRect,A=m>c?1:-1,P=this._getItemOffsetPx(s[m].clientRect,S,A),H=this._getSiblingOffsetPx(m,s,A),J=s.slice();(function(n,t,e){const i=sD(t,n.length-1),r=sD(e,n.length-1);if(i===r)return;const s=n[i],c=r<i?-1:1;for(let d=i;d!==r;d+=c)n[d]=n[d+c];n[r]=s})(s,m,c),this.sorted.next({previousIndex:m,currentIndex:c,container:this,item:t}),s.forEach((se,Ye)=>{if(J[Ye]===se)return;const nt=se.drag===t,ut=nt?P:H,ct=nt?t.getPlaceholderElement():se.drag.getRootElement();se.offset+=ut,d?(ct.style.transform=nT(`translate3d(${Math.round(se.offset)}px, 0, 0)`,se.initialTransform),iD(se.clientRect,0,ut)):(ct.style.transform=nT(`translate3d(0, ${Math.round(se.offset)}px, 0)`,se.initialTransform),iD(se.clientRect,ut,0))}),this._previousSwap.overlaps=j1(S,e,i),this._previousSwap.drag=y.drag,this._previousSwap.delta=d?r.x:r.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,s=0;if(this._parentPositions.positions.forEach((c,d)=>{d===this._document||!c.clientRect||i||U3(c.clientRect,.05,t,e)&&([r,s]=function(n,t,e,i){const r=tz(t,i),s=nz(t,e);let c=0,d=0;if(r){const m=n.scrollTop;1===r?m>0&&(c=1):n.scrollHeight-m>n.clientHeight&&(c=2)}if(s){const m=n.scrollLeft;1===s?m>0&&(d=1):n.scrollWidth-m>n.clientWidth&&(d=2)}return[c,d]}(d,c.clientRect,t,e),(r||s)&&(i=d))}),!r&&!s){const{width:c,height:d}=this._viewportRuler.getViewportSize(),m={width:c,height:d,top:0,right:c,bottom:d,left:0};r=tz(m,e),s=nz(m,t),i=window}i&&(r!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=s,this._scrollNode=i,(r||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Wi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Wi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:H1(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=Wi(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const r=e.getRootElement();if(r){const s=null===(i=this._itemPositions.find(c=>c.drag===e))||void 0===i?void 0:i.initialTransform;r.style.transform=s||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this._orientation,s=e[t].clientRect,c=e[t+-1*i];let d=s[r?"width":"height"]*i;if(c){const m=r?"left":"top",y=r?"right":"bottom";-1===i?d-=c.clientRect[m]-s[y]:d+=s[m]-c.clientRect[y]}return d}_getItemOffsetPx(t,e,i){const r="horizontal"===this._orientation;let s=r?e.left-t.left:e.top-t.top;return-1===i&&(s+=r?e.width-t.width:e.height-t.height),s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const c=i[i.length-1].clientRect;return r?t>=c.right:e>=c.bottom}{const c=i[0].clientRect;return r?t<=c.left:e<=c.top}}_getItemIndexFromPointerPosition(t,e,i,r){const s="horizontal"===this._orientation,c=this._itemPositions.findIndex(({drag:d,clientRect:m})=>{if(d===t)return!1;if(r){const y=s?r.x:r.y;if(d===this._previousSwap.drag&&this._previousSwap.overlaps&&y===this._previousSwap.delta)return!1}return s?e>=Math.floor(m.left)&&e<Math.floor(m.right):i>=Math.floor(m.top)&&i<Math.floor(m.bottom)});return-1!==c&&this.sortPredicate(c,t,this)?c:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&j1(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!j1(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const s=Wi(this.element);return r===s||s.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{iD(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=hd(Wi(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function tz(n,t){const{top:e,bottom:i,height:r}=n,s=.05*r;return t>=e-s&&t<=e+s?1:t>=i-s&&t<=i+s?2:0}function nz(n,t){const{left:e,right:i,width:r}=n,s=.05*r;return t>=e-s&&t<=e+s?1:t>=i-s&&t<=i+s?2:0}const rT=Qs({passive:!1,capture:!0});let Y9=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Ne.x,this.pointerUp=new Ne.x,this.scroll=new Ne.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,rT)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,rT)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:rT}),r||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:rT}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,c)=>{this._document.addEventListener(c,s.handler,s.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Hn.y(r=>this._ngZone.runOutsideAngular(()=>{const c=d=>{this._activeDragInstances.length&&r.next(d)};return e.addEventListener("scroll",c,!0),()=>{e.removeEventListener("scroll",c,!0)}}))),(0,Si.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Q))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W9={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Z9=(()=>{class n{constructor(e,i,r,s){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s}createDrag(e,i=W9){return new z9(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new $9(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Q),o.LFG(o.R0b),o.LFG(fd),o.LFG(Y9))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Z9],imports:[Xs]}),n})(),iz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[ud]]}),n})(),rz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const oX={provide:new o.OlP("mat-autocomplete-scroll-strategy"),deps:[Xa],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let uX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[oX],imports:[[Ud,sv,Ke,Zn],Xs,sv,Ke]}),n})(),dX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[pm,Ke],Ke]}),n})(),hX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ud,Ke,jd],Ke]}),n})(),yX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ke,Vi],Ke]}),n})(),bX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ke],Ke]}),n})(),fz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),RX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Vi,Ke,Yh,fz],Ke,fz]}),n})();const _z=new o.OlP("mat-chips-default-options");let $X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ac,{provide:_z,useValue:{separatorKeyCodes:[13]}}],imports:[[Ke]]}),n})(),Y1=(()=>{class n{constructor(){this.changes=new Ne.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nJ={provide:Y1,deps:[[new o.FiY,new o.tp0,Y1]],useFactory:function(n){return n||new Y1}};let iJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[nJ,ac],imports:[[Ke,Zn,jd,pC,iz,SH,Vi],Ke]}),n})(),yz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Kl]]}),n})(),sJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ac],imports:[[yz,CO,Ke],yz,CO]}),n})(),mJ=(()=>{class n{constructor(){this.changes=new Ne.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vJ={provide:new o.OlP("mat-datepicker-scroll-strategy"),deps:[Xa],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let DJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[mJ,vJ],imports:[[Zn,pC,Ud,pm,jd,Ke],Xs]}),n})();function EJ(n,t){}class W1{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const SJ={dialogContainer:ui("dialogContainer",[It("void, exit",Ze({opacity:0,transform:"scale(0.7)"})),It("enter",Ze({transform:"none"})),Yt("* => enter",Kt("150ms cubic-bezier(0, 0, 0.2, 1)",Ze({transform:"none",opacity:1}))),Yt("* => void, * => exit",Kt("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ze({opacity:0})))])};let xJ=(()=>{class n extends vO{constructor(e,i,r,s,c,d,m,y){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=c,this._interactivityChecker=d,this._ngZone=m,this._focusMonitor=y,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=C=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(C)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Up(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Up())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Up();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(x_),o.Y36(o.sBO),o.Y36(Q,8),o.Y36(W1),o.Y36(_d),o.Y36(o.R0b),o.Y36(Io))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(yO,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),MJ=(()=>{class n extends xJ{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._id),o.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,EJ,0,0,"ng-template",0)},directives:[yO],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[SJ.dialogContainer]}}),n})(),TJ=0;class IJ{constructor(t,e,i="mat-dialog-"+TJ++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ne.x,this._afterClosed=new Ne.x,this._beforeClosed=new Ne.x,this._state=0,e._id=i,e._animationStateChanged.pipe(zt(r=>"opened"===r.state),(0,hn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(zt(r=>"closed"===r.state),(0,hn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(zt(r=>27===r.keyCode&&!this.disableClose&&!br(r))).subscribe(r=>{r.preventDefault(),Dz(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Dz(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(zt(e=>"closing"===e.state),(0,hn.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Dz(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const AJ=new o.OlP("MatDialogData"),kJ=new o.OlP("mat-dialog-default-options"),Ez=new o.OlP("mat-dialog-scroll-strategy"),OJ={provide:Ez,deps:[Xa],useFactory:function(n){return()=>n.scrollStrategies.block()}};let PJ=(()=>{class n{constructor(e,i,r,s,c,d,m,y,C,S){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._dialogRefConstructor=m,this._dialogContainerType=y,this._dialogDataToken=C,this._animationMode=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ne.x,this._afterOpenedAtThisLevel=new Ne.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=is(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Rn(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){if(i=function(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new W1),i.id&&this.getDialogById(i.id),this._dialogAnimatingOpen)return this._lastDialogRef;const r=this._createOverlay(i),s=this._attachDialogContainer(r,i);if("NoopAnimations"!==this._animationMode){const d=s._animationStateChanged.subscribe(m=>{"opening"===m.state&&(this._dialogAnimatingOpen=!0),"opened"===m.state&&(this._dialogAnimatingOpen=!1,d.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new dn.w0),this._animationStateSubscriptions.add(d)}const c=this._attachDialogContent(e,s,r,i);return this._lastDialogRef=c,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),s._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Ux({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:W1,useValue:i}]}),c=new jx(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,s){const c=new this._dialogRefConstructor(r,i,s.id);if(e instanceof o.Rgc)i.attachTemplatePortal(new mC(e,null,{$implicit:s.data,dialogRef:c}));else{const d=this._createInjector(s,c,i),m=i.attachComponentPortal(new jx(e,s.viewContainerRef,d));c.componentInstance=m.instance}return c.updateSize(s.width,s.height).updatePosition(s.position),c}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(Ts,null,o.XFs.Optional))&&c.push({provide:Ts,useValue:{value:e.direction,change:Ue()}}),o.zs3.create({parent:s||this._injector,providers:c})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n}),n})(),FJ=(()=>{class n extends PJ{constructor(e,i,r,s,c,d,m,y){super(e,i,s,d,m,c,IJ,MJ,AJ,y)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Xa),o.LFG(o.zs3),o.LFG(Ge,8),o.LFG(kJ,8),o.LFG(Ez),o.LFG(n,12),o.LFG(wO),o.LFG(Pr,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),LJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[FJ,OJ],imports:[[Ud,jd,Ke],Ke]}),n})(),HJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Im,Ke],Im,Ke]}),n})();const GJ={provide:new o.OlP("mat-menu-scroll-strategy"),deps:[Xa],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let $J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[GJ],imports:[[Zn,Ke,Vi,Ud],Xs,Ke]}),n})(),YJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn,Ke],Ke]}),n})();function WJ(n,t){if(1&n&&(o.O4$(),o._UZ(0,"circle",3)),2&n){const e=o.oxw();o.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),o.uIk("r",e._getCircleRadius())}}function ZJ(n,t){if(1&n&&(o.O4$(),o._UZ(0,"circle",3)),2&n){const e=o.oxw();o.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),o.uIk("r",e._getCircleRadius())}}const QJ=sc(class{constructor(n){this._elementRef=n}},"primary"),XJ=new o.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class zf extends QJ{constructor(t,e,i,r,s){super(t),this._document=i,this._diameter=100,this._value=0,this.mode="determinate";const c=zf._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(i.head)||c.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=ii(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=ii(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,ii(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=hd(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=zf._diameters;let r=i.get(t);if(!r||!r.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}zf._diameters=new WeakMap,zf.\u0275fac=function(t){return new(t||zf)(o.Y36(o.SBq),o.Y36(Li),o.Y36(Q,8),o.Y36(Pr,8),o.Y36(XJ))},zf.\u0275cmp=o.Xpm({type:zf,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(o.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[o.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(o.O4$(),o.TgZ(0,"svg",0),o.YNc(1,WJ,1,9,"circle",1),o.YNc(2,ZJ,1,7,"circle",2),o.qZA()),2&t&&(o.Udp("width",e.diameter,"px")("height",e.diameter,"px"),o.Q6J("ngSwitch","indeterminate"===e.mode),o.uIk("viewBox",e._getViewBox()),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1))},directives:[ll,mr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let tee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ke,Zn],Ke]}),n})(),pee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Vi,Ke],Ke]}),n})(),See=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn,Ke],Ke]}),n})(),kz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Vee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[kz,Vi,Ke,Yh],kz,Ke]}),n})(),Uee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Ud,jd,Zn,pC,Ke],Ke]}),n})(),Q1=(()=>{class n{constructor(){this.changes=new Ne.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $ee={provide:Q1,deps:[[new o.FiY,new o.tp0,Q1]],useFactory:function(n){return n||new Q1}};let qee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[$ee],imports:[[Zn,Ke]]}),n})(),Qee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Zn,Ke,jd,Vi,Yh,pm],Ke]}),n})(),ste=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[rz,Ke],Ke]}),n})(),ote=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[pm,LH,B9,iz,Ib,rz,K9,uX,dX,hX,pC,yX,bX,RX,$X,iJ,DJ,LJ,kH,K4,HJ,SH,sJ,R4,$J,TA,MW,YJ,tee,pee,Vi,rH,p4,See,Vee,Uee,qee,us,Qee,OW,dH,ste,Ud,jd,h_]}),n})();const Rz={apiKey:"AIzaSyA3S3hYNmn6chilFIKBc_V4BV_pvE4dC6s",authDomain:"stockparties.firebaseapp.com",projectId:"stockparties",storageBucket:"stockparties.appspot.com",messagingSenderId:"856076430916",databaseURL:"https://stockparties-default-rtdb.firebaseio.com/",appId:"1:856076430916:web:3b0a9742ea178d1d4f1611"};ew.Z.initializeApp(Rz);let ate=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[_8]}),n.\u0275inj=o.cJS({providers:[],imports:[[Ta,Vp,ao.hO.initializeApp(Rz),EZ,L9,nv,ote]]}),n})();(0,o.G48)(),Ma().bootstrapModule(ate).catch(n=>console.error(n))},5867:(dt,De,N)=>{"use strict";N.d(De,{Mq:()=>o.getApp,C6:()=>o.getApps});var o=N(9681);(0,o.registerVersion)("firebase","9.6.1","app")},127:(dt,De,N)=>{"use strict";N.d(De,{Z:()=>o.Z});var o=N(3942);o.Z.registerVersion("firebase","9.6.1","app-compat")},9259:(dt,De,N)=>{"use strict";N.r(De);var o=N(5861),ee=N(3942),L=N(2090),ue=N(9681);function ae(v,p){var g={};for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&p.indexOf(w)<0&&(g[w]=v[w]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(w=Object.getOwnPropertySymbols(v);T<w.length;T++)p.indexOf(w[T])<0&&Object.prototype.propertyIsEnumerable.call(v,w[T])&&(g[w[T]]=v[w[T]])}return g}var Fe=N(1877),fe=N(4859);const zi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Qi=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Dn=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yn=new Fe.Yd("@firebase/auth");function Mr(v,...p){Yn.logLevel<=Fe.in.ERROR&&Yn.error(`Auth (${ue.SDK_VERSION}): ${v}`,...p)}function Wt(v,...p){throw _s(v,...p)}function zn(v,...p){return _s(v,...p)}function ba(v,p,g){const w=Object.assign(Object.assign({},Qi()),{[p]:g});return new L.LL("auth","Firebase",w).create(p,{appName:v.name})}function Yr(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Wt(v,"argument-error"),ba(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _s(v,...p){if("string"!=typeof v){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(g,...w)}return Dn.create(v,...p)}function Te(v,p,...g){if(!v)throw _s(p,...g)}function yi(v){const p="INTERNAL ASSERTION FAILED: "+v;throw Mr(p),new Error(p)}function ai(v,p){v||yi(p)}const bt=new Map;function en(v){ai(v instanceof Function,"Expected a class definition");let p=bt.get(v);return p?(ai(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,bt.set(v,p),p)}function pt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function wt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class rn{constructor(p,g){this.shortDelay=p,this.longDelay=g,ai(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(wt()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Xe(v,p){ai(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class mt{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Su={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ho=new rn(3e4,6e4);function an(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function xt(v,p,g,w){return er.apply(this,arguments)}function er(){return(er=(0,o.Z)(function*(v,p,g,w,T={}){return xu(v,T,(0,o.Z)(function*(){let k={},U={};w&&("GET"===p?U=w:k={body:JSON.stringify(w)});const ne=(0,L.xO)(Object.assign({key:v.config.apiKey},U)).slice(1),Oe=yield v._getAdditionalHeaders();return Oe["Content-Type"]="application/json",v.languageCode&&(Oe["X-Firebase-Locale"]=v.languageCode),mt.fetch()(be(v,v.config.apiHost,g,ne),Object.assign({method:p,headers:Oe,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function xu(v,p,g){return q.apply(this,arguments)}function q(){return(q=(0,o.Z)(function*(v,p,g){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Su),p);try{const T=new re(v),k=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const U=yield k.json();if("needConfirmation"in U)throw et(v,"account-exists-with-different-credential",U);if(k.ok&&!("errorMessage"in U))return U;{const ne=k.ok?U.errorMessage:U.error.message,[Oe,ke]=ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw et(v,"credential-already-in-use",U);if("EMAIL_EXISTS"===Oe)throw et(v,"email-already-in-use",U);const st=w[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(ke)throw ba(v,st,ke);Wt(v,st)}}catch(T){if(T instanceof L.ZR)throw T;Wt(v,"network-request-failed")}})).apply(this,arguments)}function j(v,p,g,w){return Y.apply(this,arguments)}function Y(){return(Y=(0,o.Z)(function*(v,p,g,w,T={}){const k=yield xt(v,p,g,w,T);return"mfaPendingCredential"in k&&Wt(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function be(v,p,g,w){const T=`${p}${g}?${w}`;return v.config.emulator?Xe(v.config,T):`${v.config.apiScheme}://${T}`}class re{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(zn(this.auth,"timeout")),ho.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function et(v,p,g){const w={appName:v.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const T=zn(v,p,w);return T.customData._tokenResponse=g,T}function ln(){return(ln=(0,o.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ii(v,p){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,o.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function pr(v,p){return qt.apply(this,arguments)}function qt(){return(qt=(0,o.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ai(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function al(){return(al=(0,o.Z)(function*(v,p=!1){const g=(0,L.m9)(v),w=yield g.getIdToken(p),T=Vo(w);Te(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const k="object"==typeof T.firebase?T.firebase:void 0,U=null==k?void 0:k.sign_in_provider;return{claims:T,token:w,authTime:Ai(mc(T.auth_time)),issuedAtTime:Ai(mc(T.iat)),expirationTime:Ai(mc(T.exp)),signInProvider:U||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function mc(v){return 1e3*Number(v)}function Vo(v){const[p,g,w]=v.split(".");if(void 0===p||void 0===g||void 0===w)return Mr("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,L.tV)(g);return T?JSON.parse(T):(Mr("Failed to decode base64 JWT payload"),null)}catch(T){return Mr("Caught error parsing JWT payload as JSON",T),null}}function En(v,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,o.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&Tr(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Tr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class ki{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,o.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,o.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class gc{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ai(this.lastLoginAt),this.creationTime=Ai(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ls(v){return fo.apply(this,arguments)}function fo(){return(fo=(0,o.Z)(function*(v){var p;const g=v.auth,w=yield v.getIdToken(),T=yield En(v,pr(g,{idToken:w}));Te(null==T?void 0:T.users.length,g,"internal-error");const k=T.users[0];v._notifyReloadListener(k);const U=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?Zd(k.providerUserInfo):[],ne=Jn(v.providerData,U),st=!!v.isAnonymous&&!(v.email&&k.passwordHash||(null==ne?void 0:ne.length)),lt={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ne,metadata:new gc(k.createdAt,k.lastLoginAt),isAnonymous:st};Object.assign(v,lt)})).apply(this,arguments)}function Bs(){return(Bs=(0,o.Z)(function*(v){const p=(0,L.m9)(v);yield Ls(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Jn(v,p){return[...v.filter(w=>!p.some(T=>T.providerId===w.providerId)),...p]}function Zd(v){return v.map(p=>{var{providerId:g}=p,w=ae(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ze(){return(ze=(0,o.Z)(function*(v,p){const g=yield xu(v,{},(0,o.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:k}=v.config,U=be(v,T,"/v1/token",`key=${k}`),ne=yield v._getAdditionalHeaders();return ne["Content-Type"]="application/x-www-form-urlencoded",mt.fetch()(U,{method:"POST",headers:ne,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Te(p.idToken,"internal-error"),Te(void 0!==p.idToken,"internal-error"),Te(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(v){const p=Vo(v);return Te(p,"internal-error"),Te(void 0!==p.exp,"internal-error"),Te(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,o.Z)(function*(){return Te(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,o.Z)(function*(){const{accessToken:T,refreshToken:k,expiresIn:U}=yield function(v,p){return ze.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(T,k,Number(U))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:T,expirationTime:k}=g,U=new Mt;return w&&(Te("string"==typeof w,"internal-error",{appName:p}),U.refreshToken=w),T&&(Te("string"==typeof T,"internal-error",{appName:p}),U.accessToken=T),k&&(Te("number"==typeof k,"internal-error",{appName:p}),U.expirationTime=k),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Mt,this.toJSON())}_performRefresh(){return yi("not implemented")}}function sn(v,p){Te("string"==typeof v||void 0===v,"internal-error",{appName:p})}class Wn{constructor(p){var{uid:g,auth:w,stsTokenManager:T}=p,k=ae(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ki(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.metadata=new gc(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,o.Z)(function*(){const w=yield En(g,g.stsTokenManager.getToken(g.auth,p));return Te(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function(v){return al.apply(this,arguments)}(this,p)}reload(){return function(v){return Bs.apply(this,arguments)}(this)}_assign(p){this!==p&&(Te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Wn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,o.Z)(function*(){let T=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),T=!0),g&&(yield Ls(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,o.Z)(function*(){const g=yield p.getIdToken();return yield En(p,function(v,p){return ln.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,T,k,U,ne,Oe,ke,st;const lt=null!==(w=g.displayName)&&void 0!==w?w:void 0,Zt=null!==(T=g.email)&&void 0!==T?T:void 0,jn=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,Mo=null!==(U=g.photoURL)&&void 0!==U?U:void 0,To=null!==(ne=g.tenantId)&&void 0!==ne?ne:void 0,kh=null!==(Oe=g._redirectEventId)&&void 0!==Oe?Oe:void 0,Rh=null!==(ke=g.createdAt)&&void 0!==ke?ke:void 0,i_=null!==(st=g.lastLoginAt)&&void 0!==st?st:void 0,{uid:Kc,emailVerified:r_,isAnonymous:Oh,providerData:Ph,stsTokenManager:Lp}=g;Te(Kc&&Lp,p,"internal-error");const Bp=Mt.fromJSON(this.name,Lp);Te("string"==typeof Kc,p,"internal-error"),sn(lt,p.name),sn(Zt,p.name),Te("boolean"==typeof r_,p,"internal-error"),Te("boolean"==typeof Oh,p,"internal-error"),sn(jn,p.name),sn(Mo,p.name),sn(To,p.name),sn(kh,p.name),sn(Rh,p.name),sn(i_,p.name);const Qc=new Wn({uid:Kc,auth:p,email:Zt,emailVerified:r_,displayName:lt,isAnonymous:Oh,photoURL:Mo,phoneNumber:jn,tenantId:To,stsTokenManager:Bp,createdAt:Rh,lastLoginAt:i_});return Ph&&Array.isArray(Ph)&&(Qc.providerData=Ph.map(Fh=>Object.assign({},Fh))),kh&&(Qc._redirectEventId=kh),Qc}static _fromIdTokenResponse(p,g,w=!1){return(0,o.Z)(function*(){const T=new Mt;T.updateFromServerResponse(g);const k=new Wn({uid:g.localId,auth:p,stsTokenManager:T,isAnonymous:w});return yield Ls(k),k})()}}const Pn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(g,w){var T=this;return(0,o.Z)(function*(){T.storage[g]=w})()}_get(g){var w=this;return(0,o.Z)(function*(){const T=w.storage[g];return void 0===T?null:T})()}_remove(g){var w=this;return(0,o.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return v.type="NONE",v})();function bi(v,p,g){return`firebase:${v}:${p}:${g}`}class vn{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:T,name:k}=this.auth;this.fullUserKey=bi(this.userKey,T.apiKey,k),this.fullPersistenceKey=bi("persistence",T.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,o.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Wn._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,o.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,o.Z)(function*(){if(!g.length)return new vn(en(Pn),p,w);const T=(yield Promise.all(g.map(function(){var ke=(0,o.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return ke.apply(this,arguments)}}()))).filter(ke=>ke);let k=T[0]||en(Pn);const U=bi(w,p.config.apiKey,p.name);let ne=null;for(const ke of g)try{const st=yield ke._get(U);if(st){const lt=Wn._fromJSON(p,st);ke!==k&&(ne=lt),k=ke;break}}catch(st){}const Oe=T.filter(ke=>ke._shouldAllowMigration);return k._shouldAllowMigration&&Oe.length?(k=Oe[0],ne&&(yield k._set(U,ne.toJSON())),yield Promise.all(g.map(function(){var ke=(0,o.Z)(function*(st){if(st!==k)try{yield st._remove(U)}catch(lt){}});return function(st){return ke.apply(this,arguments)}}())),new vn(k,p,w)):new vn(k,p,w)})()}}function li(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(po(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(wa(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Kr(p))return"Blackberry";if(Gi(p))return"Webos";if(At(p))return"Safari";if((p.includes("chrome/")||jo(p))&&!p.includes("edge/"))return"Chrome";if(Uo(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function wa(v=(0,L.z$)()){return/firefox\//i.test(v)}function At(v=(0,L.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function jo(v=(0,L.z$)()){return/crios\//i.test(v)}function po(v=(0,L.z$)()){return/iemobile/i.test(v)}function Uo(v=(0,L.z$)()){return/android/i.test(v)}function Kr(v=(0,L.z$)()){return/blackberry/i.test(v)}function Gi(v=(0,L.z$)()){return/webos/i.test(v)}function Vs(v=(0,L.z$)()){return/iphone|ipad|ipod/i.test(v)}function Ca(v=(0,L.z$)()){return Vs(v)||Uo(v)||Gi(v)||Kr(v)||/windows phone/i.test(v)||po(v)}function mr(v,p=[]){let g;switch(v){case"Browser":g=li((0,L.z$)());break;case"Worker":g=`${li((0,L.z$)())}-${v}`;break;default:g=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${w}`}class Xr{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hs(this),this.idTokenSubscription=new Hs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=en(g)),this._initializationPromise=this.queue((0,o.Z)(function*(){var T,k;if(!w._deleted&&(w.persistenceManager=yield vn.create(w,p),!w._deleted)){if(null===(T=w._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(U){}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,o.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,o.Z)(function*(){var w;let T=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const k=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,U=null==T?void 0:T._redirectEventId,ne=yield g.tryRedirectSignIn(p);(!k||k===U)&&(null==ne?void 0:ne.user)&&(T=ne.user)}return T?T._redirectEventId?(Te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,o.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(T){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,o.Z)(function*(){try{yield Ls(p)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,o.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,o.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&Te(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,o.Z)(function*(){if(!g._deleted)return p&&Te(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,o.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,o.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,o.Z)(function*(){yield g.assertedPersistence.setPersistence(en(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,o.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(g);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,o.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&en(p)||g._popupRedirectResolver;Te(w,g,"argument-error"),g.redirectPersistenceManager=yield vn.create(g,[en(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,o.Z)(function*(){var w,T;return g._isInitialized&&(yield g.queue((0,o.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,o.Z)(function*(){if(p===g.currentUser)return g.queue((0,o.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,T){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),U=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(U,this,"internal-error"),U.then(()=>k(this.currentUser)),"function"==typeof g?p.addObserver(g,w,T):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,o.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,o.Z)(function*(){const g={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(g["X-Firebase-gmpid"]=p.app.options.appId),g})()}}function mi(v){return(0,L.m9)(v)}class Hs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gr(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Rg(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Da{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return yi("not implemented")}_getIdTokenResponse(p){return yi("not implemented")}_linkToIdToken(p,g){return yi("not implemented")}_getReauthenticationResolver(p){return yi("not implemented")}}function Yf(v,p){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,o.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:resetPassword",an(v,p))})).apply(this,arguments)}function Wf(v,p){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,o.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Og(v,p){return cl.apply(this,arguments)}function cl(){return(cl=(0,o.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:update",an(v,p))})).apply(this,arguments)}function Qd(){return(Qd=(0,o.Z)(function*(v,p){return j(v,"POST","/v1/accounts:signInWithPassword",an(v,p))})).apply(this,arguments)}function Au(v,p){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,o.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:sendOobCode",an(v,p))})).apply(this,arguments)}function Pg(v,p){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,o.Z)(function*(v,p){return Au(v,p)})).apply(this,arguments)}function Fg(v,p){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,o.Z)(function*(v,p){return Au(v,p)})).apply(this,arguments)}function vc(v,p){return ul.apply(this,arguments)}function ul(){return(ul=(0,o.Z)(function*(v,p){return Au(v,p)})).apply(this,arguments)}function ku(v,p){return eh.apply(this,arguments)}function eh(){return(eh=(0,o.Z)(function*(v,p){return Au(v,p)})).apply(this,arguments)}function vs(){return(vs=(0,o.Z)(function*(v,p){return j(v,"POST","/v1/accounts:signInWithEmailLink",an(v,p))})).apply(this,arguments)}function mo(){return(mo=(0,o.Z)(function*(v,p){return j(v,"POST","/v1/accounts:signInWithEmailLink",an(v,p))})).apply(this,arguments)}class Sa extends Da{constructor(p,g,w,T=null){super("password",w),this._email=p,this._password=g,this._tenantId=T}static _fromEmailAndPassword(p,g){return new Sa(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Sa(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,o.Z)(function*(){switch(g.signInMethod){case"password":return function(v,p){return Qd.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(v,p){return vs.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Wt(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,o.Z)(function*(){switch(w.signInMethod){case"password":return Wf(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(v,p){return mo.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Wt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function go(v,p){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,o.Z)(function*(v,p){return j(v,"POST","/v1/accounts:signInWithIdp",an(v,p))})).apply(this,arguments)}class Oi extends Da{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Oi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Wt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T}=g,k=ae(g,["providerId","signInMethod"]);if(!w||!T)return null;const U=new Oi(w,T);return U.idToken=k.idToken||void 0,U.accessToken=k.accessToken||void 0,U.secret=k.secret,U.nonce=k.nonce,U.pendingToken=k.pendingToken||null,U}_getIdTokenResponse(p){return go(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,go(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,go(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,L.xO)(g)}return p}}function js(v,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,o.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:sendVerificationCode",an(v,p))})).apply(this,arguments)}function $i(){return($i=(0,o.Z)(function*(v,p){return j(v,"POST","/v1/accounts:signInWithPhoneNumber",an(v,p))})).apply(this,arguments)}function Pu(){return(Pu=(0,o.Z)(function*(v,p){const g=yield j(v,"POST","/v1/accounts:signInWithPhoneNumber",an(v,p));if(g.temporaryProof)throw et(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const yc={USER_NOT_FOUND:"user-not-found"};function hl(){return(hl=(0,o.Z)(function*(v,p){return j(v,"POST","/v1/accounts:signInWithPhoneNumber",an(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),yc)})).apply(this,arguments)}class zo extends Da{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new zo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new zo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(v,p){return $i.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(v,p){return Pu.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(v,p){return hl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:T}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:k}=p;return w||g||T||k?new zo({verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:k}):null}}class Go{constructor(p){var g,w,T,k,U,ne;const Oe=(0,L.zd)((0,L.pd)(p)),ke=null!==(g=Oe.apiKey)&&void 0!==g?g:null,st=null!==(w=Oe.oobCode)&&void 0!==w?w:null,lt=function(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Oe.mode)&&void 0!==T?T:null);Te(ke&&st&&lt,"argument-error"),this.apiKey=ke,this.operation=lt,this.code=st,this.continueUrl=null!==(k=Oe.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(U=Oe.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(ne=Oe.tenantId)&&void 0!==ne?ne:null}static parseLink(p){const g=function(v){const p=(0,L.zd)((0,L.pd)(v)).link,g=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(v)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||g||p||v}(p);try{return new Go(g)}catch(w){return null}}}let $o=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,w){return Sa._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const T=Go.parseLink(w);return Te(T,"argument-error"),Sa._fromEmailAndCode(g,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class tr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class es extends tr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ti extends es{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Te("providerId"in g&&"signInMethod"in g,"argument-error"),Oi._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Te(p.idToken||p.accessToken,"argument-error"),Oi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ti.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ti.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:k,nonce:U,providerId:ne}=p;if(!w&&!T&&!g&&!k||!ne)return null;try{return new ti(ne)._credential({idToken:g,accessToken:w,nonce:U,pendingToken:k})}catch(Oe){return null}}}let bc=(()=>{class v extends es{constructor(){super("facebook.com")}static credential(g){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),qo=(()=>{class v extends es{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:T}=g;if(!w&&!T)return null;try{return v.credential(w,T)}catch(k){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Yo=(()=>{class v extends es{constructor(){super("github.com")}static credential(g){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Us extends Da{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return go(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,go(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,go(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T,pendingToken:k}=g;return w&&T&&k&&w===T?new Us(w,k):null}static _create(p,g){return new Us(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wo extends tr{constructor(p){Te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Wo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Wo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Us.fromJSON(p);return Te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return Us._create(w,g)}catch(T){return null}}}let nr=(()=>{class v extends es{constructor(){super("twitter.com")}static credential(g,w){return Oi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=g;if(!w||!T)return null;try{return v.credential(w,T)}catch(k){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function pl(v,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,o.Z)(function*(v,p){return j(v,"POST","/v1/accounts:signUp",an(v,p))})).apply(this,arguments)}class rt{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,T=!1){return(0,o.Z)(function*(){const k=yield Wn._fromIdTokenResponse(p,w,T),U=wc(w);return new rt({user:k,providerId:U,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,o.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const T=wc(w);return new rt({user:p,providerId:T,_tokenResponse:w,operationType:g})})()}}function wc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function xa(){return(xa=(0,o.Z)(function*(v){var p;const g=mi(v);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new rt({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield pl(g,{returnSecureToken:!0}),T=yield rt._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class gl extends L.ZR{constructor(p,g,w,T){var k;super(g.code,g.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,gl.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,T){return new gl(p,g,w,T)}}function Cc(v,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?gl._fromErrorAndOperation(v,k,p,w):k})}function Dc(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function xe(){return(xe=(0,o.Z)(function*(v,p){const g=(0,L.m9)(v);yield Fn(!0,g,p);const{providerUserInfo:w}=yield Ii(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),T=Dc(w||[]);return g.providerData=g.providerData.filter(k=>T.has(k.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ut(v,p){return zs.apply(this,arguments)}function zs(){return(zs=(0,o.Z)(function*(v,p,g=!1){const w=yield En(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return rt._forOperation(v,"link",w)})).apply(this,arguments)}function Fn(v,p,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,o.Z)(function*(v,p,g){yield Ls(p);const T=!1===v?"provider-already-linked":"no-such-provider";Te(Dc(p.providerData).has(g)===v,p.auth,T)})).apply(this,arguments)}function Gs(v,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,o.Z)(function*(v,p,g=!1){const{auth:w}=v,T="reauthenticate";try{const k=yield En(v,Cc(w,T,p,v),g);Te(k.idToken,w,"internal-error");const U=Vo(k.idToken);Te(U,w,"internal-error");const{sub:ne}=U;return Te(v.uid===ne,w,"user-mismatch"),rt._forOperation(v,T,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Wt(w,"user-mismatch"),k}})).apply(this,arguments)}function Ec(v,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,o.Z)(function*(v,p,g=!1){const w="signIn",T=yield Cc(v,w,p),k=yield rt._fromIdTokenResponse(v,w,T);return g||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Nu(v,p){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,o.Z)(function*(v,p){return Ec(mi(v),p)})).apply(this,arguments)}function vl(v,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,o.Z)(function*(v,p){const g=(0,L.m9)(v);return yield Fn(!1,g,p.providerId),Ut(g,p)})).apply(this,arguments)}function wi(v,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,o.Z)(function*(v,p){return Gs((0,L.m9)(v),p)})).apply(this,arguments)}function yl(v,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,o.Z)(function*(v,p){return j(v,"POST","/v1/accounts:signInWithCustomToken",an(v,p))})).apply(this,arguments)}function bl(){return(bl=(0,o.Z)(function*(v,p){const g=mi(v),w=yield yl(g,{token:p,returnSecureToken:!0}),T=yield rt._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class wl{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Cl._fromServerResponse(p,g):Wt(p,"internal-error")}}class Cl extends wl{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Cl(g)}}function Sc(v,p,g){var w;Te((null===(w=g.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),Te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Te(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Te(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Ma(){return(Ma=(0,o.Z)(function*(v,p,g){const w=(0,L.m9)(v),T={requestType:"PASSWORD_RESET",email:p};g&&Sc(w,T,g),yield Fg(w,T)})).apply(this,arguments)}function Ta(){return(Ta=(0,o.Z)(function*(v,p,g){yield Yf((0,L.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Mc(){return(Mc=(0,o.Z)(function*(v,p){yield Og((0,L.m9)(v),{oobCode:p})})).apply(this,arguments)}function Tc(v,p){return El.apply(this,arguments)}function El(){return(El=(0,o.Z)(function*(v,p){const g=(0,L.m9)(v),w=yield Yf(g,{oobCode:p}),T=w.requestType;switch(Te(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(w.mfaInfo,g,"internal-error");default:Te(w.email,g,"internal-error")}let k=null;return w.mfaInfo&&(k=wl._fromServerResponse(mi(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:T}})).apply(this,arguments)}function Sl(){return(Sl=(0,o.Z)(function*(v,p){const{data:g}=yield Tc((0,L.m9)(v),p);return g.email})).apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(v,p,g){const w=mi(v),T=yield pl(w,{returnSecureToken:!0,email:p,password:g}),k=yield rt._fromIdTokenResponse(w,"signIn",T);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}function Sn(){return(Sn=(0,o.Z)(function*(v,p,g){const w=(0,L.m9)(v),T={requestType:"EMAIL_SIGNIN",email:p};Te(g.handleCodeInApp,w,"argument-error"),g&&Sc(w,T,g),yield vc(w,T)})).apply(this,arguments)}function Ia(){return(Ia=(0,o.Z)(function*(v,p,g){const w=(0,L.m9)(v),T=$o.credentialWithLink(p,g||pt());return Te(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Nu(w,T)})).apply(this,arguments)}function Qf(v,p){return oh.apply(this,arguments)}function oh(){return(oh=(0,o.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:createAuthUri",an(v,p))})).apply(this,arguments)}function Xf(){return(Xf=(0,o.Z)(function*(v,p){const w={identifier:p,continueUri:wt()?pt():"http://localhost"},{signinMethods:T}=yield Qf((0,L.m9)(v),w);return T||[]})).apply(this,arguments)}function bo(){return(bo=(0,o.Z)(function*(v,p){const g=(0,L.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Sc(g.auth,T,p);const{email:k}=yield Pg(g.auth,T);k!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ml(){return(Ml=(0,o.Z)(function*(v,p,g){const w=(0,L.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Sc(w.auth,k,g);const{email:U}=yield ku(w.auth,k);U!==v.email&&(yield v.reload())})).apply(this,arguments)}function lh(v,p){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,o.Z)(function*(v,p){return xt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function An(){return(An=(0,o.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,L.m9)(v),k={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},U=yield En(w,lh(w.auth,k));w.displayName=U.displayName||null,w.photoURL=U.photoUrl||null;const ne=w.providerData.find(({providerId:Oe})=>"password"===Oe);ne&&(ne.displayName=w.displayName,ne.photoURL=w.photoURL),yield w._updateTokensIfNecessary(U)})).apply(this,arguments)}function Jf(v,p,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,o.Z)(function*(v,p,g){const{auth:w}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),g&&(k.password=g);const U=yield En(v,Wf(w,k));yield v._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class wo{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class kc extends wo{constructor(p,g,w,T){super(p,g,w),this.username=T}}class ep extends wo{constructor(p,g){super(p,"facebook.com",g)}}class Py extends kc{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class xn extends wo{constructor(p,g){super(p,"google.com",g)}}class Co extends kc{constructor(p,g,w){super(p,"twitter.com",g,w)}}function Ue(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(v){var p,g;if(!v)return null;const{providerId:w}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const U=null===(g=null===(p=Vo(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(U)return new wo(k,"anonymous"!==U&&"custom"!==U?U:null)}if(!w)return null;switch(w){case"facebook.com":return new ep(k,T);case"github.com":return new Py(k,T);case"google.com":return new xn(k,T);case"twitter.com":return new Co(k,T,v.screenName||null);case"custom":case"anonymous":return new wo(k,null);default:return new wo(k,w,T)}}(g)}class Do{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Do("enroll",p)}static _fromMfaPendingCredential(p){return new Do("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Do._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Do._fromIdtoken(p.multiFactorSession.idToken)}return null}}class bs{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=mi(p),T=g.customData._serverResponse,k=(T.mfaInfo||[]).map(ne=>wl._fromServerResponse(w,ne));Te(T.mfaPendingCredential,w,"internal-error");const U=Do._fromMfaPendingCredential(T.mfaPendingCredential);return new bs(U,k,function(){var ne=(0,o.Z)(function*(Oe){const ke=yield Oe._process(w,U);delete T.mfaInfo,delete T.mfaPendingCredential;const st=Object.assign(Object.assign({},T),{idToken:ke.idToken,refreshToken:ke.refreshToken});switch(g.operationType){case"signIn":const lt=yield rt._fromIdTokenResponse(w,g.operationType,st);return yield w._updateCurrentUser(lt.user),lt;case"reauthenticate":return Te(g.user,w,"internal-error"),rt._forOperation(g.user,g.operationType,st);default:Wt(w,"internal-error")}});return function(Oe){return ne.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,o.Z)(function*(){return g.signInResolver(p)})()}}function tp(v,p){return xt(v,"POST","/v2/accounts/mfaEnrollment:start",an(v,p))}class Ra{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>wl._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Ra(p)}getSession(){var p=this;return(0,o.Z)(function*(){return Do._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,o.Z)(function*(){const T=p,k=yield w.getSession(),U=yield En(w.user,T._process(w.user.auth,k,g));return yield w.user._updateTokensIfNecessary(U),w.user.reload()})()}unenroll(p){var g=this;return(0,o.Z)(function*(){const w="string"==typeof p?p:p.uid,T=yield g.user.getIdToken(),k=yield En(g.user,function(v,p){return xt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",an(v,p))}(g.user.auth,{idToken:T,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:U})=>U!==w),yield g.user._updateTokensIfNecessary(k);try{yield g.user.reload()}catch(U){if("auth/user-token-expired"!==U.code)throw U}})()}}const un=new WeakMap,_r="__sak";class uh{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(_r,"1"),this.storage.removeItem(_r),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Al=(()=>{class v extends uh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const v=(0,L.z$)();return At(v)||Vs(v)}()&&function(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Ca(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),k=this.localCache[w];T!==k&&g(w,k,T)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ne,Oe,ke)=>{this.notifyListeners(ne,ke)});const T=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ne=this.storage.getItem(T);if(g.newValue!==ne)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!w)return}const k=()=>{const ne=this.storage.getItem(T);!w&&this.localCache[T]===ne||this.notifyListeners(T,ne)},U=this.storage.getItem(T);(0,L.w1)()&&10===document.documentMode&&U!==g.newValue&&g.newValue!==g.oldValue?setTimeout(k,10):k()}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const k of Array.from(T))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var T=()=>super._set,k=this;return(0,o.Z)(function*(){yield T().call(k,g,w),k.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,T=this;return(0,o.Z)(function*(){const k=yield w().call(T,g);return T.localCache[g]=JSON.stringify(k),k})()}_remove(g){var w=()=>super._remove,T=this;return(0,o.Z)(function*(){yield w().call(T,g),delete T.localCache[g]})()}}return v.type="LOCAL",v})(),$n=(()=>{class v extends uh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return v.type="SESSION",v})();let Pa=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(k=>k.isListeningto(g));if(w)return w;const T=new v(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,o.Z)(function*(){const T=g,{eventId:k,eventType:U,data:ne}=T.data,Oe=w.handlersMap[U];if(!(null==Oe?void 0:Oe.size))return;T.ports[0].postMessage({status:"ack",eventId:k,eventType:U});const ke=Array.from(Oe).map(function(){var lt=(0,o.Z)(function*(Zt){return Zt(T.origin,ne)});return function(Zt){return lt.apply(this,arguments)}}()),st=yield function(v){return Promise.all(v.map(function(){var p=(0,o.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(ke);T.ports[0].postMessage({status:"done",eventId:k,eventType:U,response:st})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function dn(v="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return v+g}class Kn{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var T=this;return(0,o.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let U,ne;return new Promise((Oe,ke)=>{const st=dn("",20);k.port1.start();const lt=setTimeout(()=>{ke(new Error("unsupported_event"))},w);ne={messageChannel:k,onMessage(Zt){const jn=Zt;if(jn.data.eventId===st)switch(jn.data.status){case"ack":clearTimeout(lt),U=setTimeout(()=>{ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),Oe(jn.data.response);break;default:clearTimeout(lt),clearTimeout(U),ke(new Error("invalid_response"))}}},T.handlers.add(ne),k.port1.addEventListener("message",ne.onMessage),T.target.postMessage({eventType:p,eventId:st,data:g},[k.port2])}).finally(()=>{ne&&T.removeMessageHandler(ne)})})()}}function kn(){return window}function Ln(){return void 0!==kn().WorkerGlobalScope&&"function"==typeof kn().importScripts}function Rn(){return(Rn=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const zt="firebaseLocalStorageDb",mn="firebaseLocalStorage",ss="fbase_key";class ws{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function bn(v,p){return v.transaction([mn],p?"readwrite":"readonly").objectStore(mn)}function ip(){const v=indexedDB.open(zt,1);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(mn,{keyPath:ss})}catch(T){g(T)}}),v.addEventListener("success",(0,o.Z)(function*(){const w=v.result;w.objectStoreNames.contains(mn)?p(w):(w.close(),yield function(){const v=indexedDB.deleteDatabase(zt);return new ws(v).toPromise()}(),p(yield ip()))}))})}function rp(v,p,g){return sp.apply(this,arguments)}function sp(){return(sp=(0,o.Z)(function*(v,p,g){const w=bn(v,!0).put({[ss]:p,value:g});return new ws(w).toPromise()})).apply(this,arguments)}function ci(){return(ci=(0,o.Z)(function*(v,p){const g=bn(v,!1).get(p),w=yield new ws(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Uu(v,p){const g=bn(v,!0).delete(p);return new ws(g).toPromise()}const So=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,o.Z)(function*(){return g.db||(g.db=yield ip()),g.db})()}_withRetries(g){var w=this;return(0,o.Z)(function*(){let T=0;for(;;)try{const k=yield w._openDb();return yield g(k)}catch(k){if(T++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,o.Z)(function*(){return Ln()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,o.Z)(function*(){g.receiver=Pa._getInstance(Ln()?self:null),g.receiver._subscribe("keyChanged",function(){var w=(0,o.Z)(function*(T,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(T,k){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,o.Z)(function*(T,k){return["keyChanged"]});return function(T,k){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,o.Z)(function*(){var w,T;if(g.activeServiceWorker=yield function(){return Rn.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Kn(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(w=k[0])||void 0===w?void 0:w.fulfilled)&&(null===(T=k[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,o.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ip();return yield rp(g,_r,"1"),yield Uu(g,_r),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,o.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var T=this;return(0,o.Z)(function*(){return T._withPendingWrite((0,o.Z)(function*(){return yield T._withRetries(k=>rp(k,g,w)),T.localCache[g]=w,T.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,o.Z)(function*(){const T=yield w._withRetries(k=>function(v,p){return ci.apply(this,arguments)}(k,g));return w.localCache[g]=T,T})()}_remove(g){var w=this;return(0,o.Z)(function*(){return w._withPendingWrite((0,o.Z)(function*(){return yield w._withRetries(T=>Uu(T,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,o.Z)(function*(){const w=yield g._withRetries(U=>{const ne=bn(U,!1).getAll();return new ws(ne).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const T=[],k=new Set;for(const{fbase_key:U,value:ne}of w)k.add(U),JSON.stringify(g.localCache[U])!==JSON.stringify(ne)&&(g.notifyListeners(U,ne),T.push(U));for(const U of Object.keys(g.localCache))g.localCache[U]&&!k.has(U)&&(g.notifyListeners(U,null),T.push(U));return T})()}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const k of Array.from(T))k(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ol(v,p){return xt(v,"POST","/v2/accounts/mfaSignIn:start",an(v,p))}function vr(){return(vr=(0,o.Z)(function*(v){return(yield xt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zu(v){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=T=>{const k=zn("internal-error");k.customData=T,g(k)},w.type="text/javascript",w.charset="UTF-8",function(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Fa(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Pl=1e12;class Gu{constructor(p){this.auth=p,this.counter=Pl,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new ap(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||Pl;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Pl))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,o.Z)(function*(){var w;return null===(w=g._widgets.get(p||Pl))||void 0===w||w.execute(),""})()}}class ap{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;Te(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pt=Fa("rcb"),qi=new rn(3e4,6e4);class La{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kn().grecaptcha}load(p,g=""){return Te((v=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(kn().grecaptcha):new Promise((w,T)=>{const k=kn().setTimeout(()=>{T(zn(p,"network-request-failed"))},qi.get());kn()[Pt]=()=>{kn().clearTimeout(k),delete kn()[Pt];const ne=kn().grecaptcha;if(!ne)return void T(zn(p,"internal-error"));const Oe=ne.render;ne.render=(ke,st)=>{const lt=Oe(ke,st);return this.counter++,lt},this.hostLanguage=g,w(ne)},zu(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Pt,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),T(zn(p,"internal-error"))})});var v}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!kn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class cp{load(p){return(0,o.Z)(function*(){return new Gu(p)})()}clearedOneInstance(){}}const fh="recaptcha",up={theme:"light",type:"image"};class Yi{constructor(p,g=Object.assign({},up),w){this.parameters=g,this.type=fh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mi(w),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;Te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cp:new La,this.validateStartingState()}verify(){var p=this;return(0,o.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(k=>{const U=ne=>{!ne||(p.tokenChangeListeners.delete(U),k(ne))};p.tokenChangeListeners.add(U),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=kn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,o.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,o.Z)(function*(){Te(wt()&&!Ln(),p.auth,"internal-error"),yield function(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(v){return vr.apply(this,arguments)}(p.auth);Te(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nc{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=zo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Es(){return(Es=(0,o.Z)(function*(v,p,g){const w=mi(v),T=yield $s(w,p,(0,L.m9)(g));return new Nc(T,k=>Nu(w,k))})).apply(this,arguments)}function Di(){return(Di=(0,o.Z)(function*(v,p,g){const w=(0,L.m9)(v);yield Fn(!1,w,"phone");const T=yield $s(w.auth,p,(0,L.m9)(g));return new Nc(T,k=>vl(w,k))})).apply(this,arguments)}function Bc(){return(Bc=(0,o.Z)(function*(v,p,g){const w=(0,L.m9)(v),T=yield $s(w.auth,p,(0,L.m9)(g));return new Nc(T,k=>wi(w,k))})).apply(this,arguments)}function $s(v,p,g){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,o.Z)(function*(v,p,g){var w;const T=yield g.verify();try{let k;if(Te("string"==typeof T,v,"argument-error"),Te(g.type===fh,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const U=k.session;if("phoneNumber"in k)return Te("enroll"===U.type,v,"internal-error"),(yield tp(v,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Te("signin"===U.type,v,"internal-error");const ne=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return Te(ne,v,"missing-multi-factor-info"),(yield Ol(v,{mfaPendingCredential:U.credential,mfaEnrollmentId:ne,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield js(v,{phoneNumber:k.phoneNumber,recaptchaToken:T});return U}}finally{g._reset()}})).apply(this,arguments)}function Wu(){return(Wu=(0,o.Z)(function*(v,p){yield Ut((0,L.m9)(v),p)})).apply(this,arguments)}let x=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=mi(g)}verifyPhoneNumber(g,w){return $s(this.auth,g,(0,L.m9)(w))}static credential(g,w){return zo._fromVerification(g,w)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:T}=g;return w&&T?zo._fromTokenResponse(w,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function M(v,p){return p?en(p):(Te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class O extends Da{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return go(p,this._buildIdpRequest())}_linkToIdToken(p,g){return go(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return go(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function V(v){return Ec(v.auth,new O(v),v.bypassAuthState)}function Z(v){const{auth:p,user:g}=v;return Te(g,p,"internal-error"),Gs(g,new O(v),v.bypassAuthState)}function W(v){return Me.apply(this,arguments)}function Me(){return(Me=(0,o.Z)(function*(v){const{auth:p,user:g}=v;return Te(g,p,"internal-error"),Ut(g,new O(v),v.bypassAuthState)})).apply(this,arguments)}class it{constructor(p,g,w,T,k=!1){this.auth=p,this.resolver=w,this.user=T,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,o.Z)(function*(w,T){p.pendingPromise={resolve:w,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(w,T){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,o.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:k,tenantId:U,error:ne,type:Oe}=p;if(ne)return void g.reject(ne);const ke={auth:g.auth,requestUri:w,sessionId:T,tenantId:U||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Oe)(ke))}catch(st){g.reject(st)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return V;case"linkViaPopup":case"linkViaRedirect":return W;case"reauthViaPopup":case"reauthViaRedirect":return Z;default:Wt(this.auth,"internal-error")}}resolve(p){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $e=new rn(2e3,1e4);function fn(){return(fn=(0,o.Z)(function*(v,p,g){const w=mi(v);Yr(v,p,tr);const T=M(w,g);return new ea(w,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function sr(){return(sr=(0,o.Z)(function*(v,p,g){const w=(0,L.m9)(v);Yr(w.auth,p,tr);const T=M(w.auth,g);return new ea(w.auth,"reauthViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}function Fi(){return(Fi=(0,o.Z)(function*(v,p,g){const w=(0,L.m9)(v);Yr(w.auth,p,tr);const T=M(w.auth,g);return new ea(w.auth,"linkViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}let ea=(()=>{class v extends it{constructor(g,w,T,k,U){super(g,w,k,U),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,o.Z)(function*(){const w=yield g.execute();return Te(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,o.Z)(function*(){ai(1===g.filter.length,"Popup operations only handle one event");const w=dn();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(zn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,T;this.pollId=(null===(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,$e.get())};g()}}return v.currentPopupAction=null,v})();const Ss=new Map;class qs extends it{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,o.Z)(function*(){let w=Ss.get(g.auth._key());if(!w){try{const k=(yield function(v,p){return Fl.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(k)}catch(T){w=()=>Promise.reject(T)}Ss.set(g.auth._key(),w)}return g.bypassAuthState||Ss.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,o.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const T=yield w.auth._redirectUserForId(p.eventId);if(T)return w.user=T,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Fl(){return(Fl=(0,o.Z)(function*(v,p){const g=na(p),w=Nl(v);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(g));return yield w._remove(g),T})).apply(this,arguments)}function Zu(v,p){return hp.apply(this,arguments)}function hp(){return(hp=(0,o.Z)(function*(v,p){return Nl(v)._set(na(p),"true")})).apply(this,arguments)}function Nl(v){return en(v._redirectPersistence)}function na(v){return bi("pendingRedirect",v.config.apiKey,v.name)}function ph(){return(ph=(0,o.Z)(function*(v,p,g){const w=mi(v);Yr(v,p,tr);const T=M(w,g);return yield Zu(T,w),T._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function mh(){return(mh=(0,o.Z)(function*(v,p,g){const w=(0,L.m9)(v);Yr(w.auth,p,tr);const T=M(w.auth,g);yield Zu(T,w.auth);const k=yield Hc(w);return T._openRedirect(w.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function kr(){return(kr=(0,o.Z)(function*(v,p,g){const w=(0,L.m9)(v);Yr(w.auth,p,tr);const T=M(w.auth,g);yield Fn(!1,w,p.providerId),yield Zu(T,w.auth);const k=yield Hc(w);return T._openRedirect(w.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function ia(){return(ia=(0,o.Z)(function*(v,p){return yield mi(v)._initializationPromise,Ku(v,p,!1)})).apply(this,arguments)}function Ku(v,p){return mp.apply(this,arguments)}function mp(){return(mp=(0,o.Z)(function*(v,p,g=!1){const w=mi(v),T=M(w,p),U=yield new qs(w,T,g).execute();return U&&!g&&(delete U.user._redirectEventId,yield w._persistUserIfCurrent(U.user),yield w._setRedirectUser(null,p)),U})).apply(this,arguments)}function Hc(v){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,o.Z)(function*(v){const p=dn(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class jc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qu(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Qu(p)){const T=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(zn(this.auth,T))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gh(p))}saveEventToCache(p){this.cachedEventUids.add(gh(p)),this.lastProcessedEventTime=Date.now()}}function gh(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Qu({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function _h(v){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,o.Z)(function*(v,p={}){return xt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const By=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ju=/^https?/;function Ys(){return(Ys=(0,o.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield _h(v);for(const g of p)try{if(Uc(g))return}catch(w){}Wt(v,"unauthorized-domain")})).apply(this,arguments)}function Uc(v){const p=pt(),{protocol:g,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const U=new URL(v);return""===U.hostname&&""===w?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&U.hostname===w}if(!Ju.test(g))return!1;if(By.test(v))return w===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const ed=new rn(3e4,6e4);function zc(){const v=kn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let td=null;function Ug(v){return td=td||function(v){return new Promise((p,g)=>{var w,T,k;function U(){zc(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{zc(),g(zn(v,"network-request-failed"))},timeout:ed.get()})}if(null===(T=null===(w=kn().gapi)||void 0===w?void 0:w.iframes)||void 0===T?void 0:T.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=kn().gapi)||void 0===k?void 0:k.load)){const ne=Fa("iframefcb");return kn()[ne]=()=>{gapi.load?U():g(zn(v,"network-request-failed"))},zu(`https://apis.google.com/js/api.js?onload=${ne}`).catch(Oe=>g(Oe))}U()}}).catch(p=>{throw td=null,p})}(v),td}const Hy=new rn(5e3,15e3),Uy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zg(v){const p=v.config;Te(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Xe(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:ue.SDK_VERSION},T=zy.get(v.config.apiHost);T&&(w.eid=T);const k=v._getFrameworks();return k.length&&(w.fw=k.join(",")),`${g}?${(0,L.xO)(w).slice(1)}`}function yp(){return yp=(0,o.Z)(function*(v){const p=yield Ug(v),g=kn().gapi;return Te(g,v,"internal-error"),p.open({where:document.body,url:zg(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uy,dontclear:!0},w=>new Promise(function(){var T=(0,o.Z)(function*(k,U){yield w.restyle({setHideOnLeave:!1});const ne=zn(v,"network-request-failed"),Oe=kn().setTimeout(()=>{U(ne)},Hy.get());function ke(){kn().clearTimeout(Oe),k(w)}w.ping(ke).then(ke,()=>{U(ne)})});return function(k,U){return T.apply(this,arguments)}}()))}),yp.apply(this,arguments)}const Bl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bp{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Zs(v,p,g,w,T,k){Te(v.config.authDomain,v,"auth-domain-config-required"),Te(v.config.apiKey,v,"invalid-api-key");const U={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:w,v:ue.SDK_VERSION,eventId:T};if(p instanceof tr){p.setDefaultLanguage(v.languageCode),U.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(U.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Oe,ke]of Object.entries(k||{}))U[Oe]=ke}if(p instanceof es){const Oe=p.getScopes().filter(ke=>""!==ke);Oe.length>0&&(U.scopes=Oe.join(","))}v.tenantId&&(U.tid=v.tenantId);const ne=U;for(const Oe of Object.keys(ne))void 0===ne[Oe]&&delete ne[Oe];return`${function({config:v}){return v.emulator?Xe(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,L.xO)(ne).slice(1)}`}const nd="webStorageSupport";class Hl extends class{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return yi("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Hl(p)}_finalizeEnroll(p,g,w){return function(v,p){return xt(v,"POST","/v2/accounts/mfaEnrollment:finalize",an(v,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(v,p){return xt(v,"POST","/v2/accounts/mfaSignIn:finalize",an(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $y=(()=>{class v{constructor(){}static assertion(g){return Hl._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var v,qc="@firebase/auth";class Wg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,o.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var T;p((null===(T=w)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jl(){return window}function yh(){return yh=(0,o.Z)(function*(v,p,g){var w;const{BuildInfo:T}=jl();ai(p.sessionId,"AuthEvent did not contain a session ID");const k=yield Wy(p.sessionId),U={};return Vs()?U.ibi=T.packageName:Uo()?U.apn=T.packageName:Wt(v,"operation-not-supported-in-this-environment"),T.displayName&&(U.appDisplayName=T.displayName),U.sessionId=k,Zs(v,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,U)}),yh.apply(this,arguments)}function Ul(){return Ul=(0,o.Z)(function*(v){const{BuildInfo:p}=jl(),g={};Vs()?g.iosBundleId=p.packageName:Uo()?g.androidPackageName=p.packageName:Wt(v,"operation-not-supported-in-this-environment"),yield _h(v,g)}),Ul.apply(this,arguments)}function Ep(){return Ep=(0,o.Z)(function*(v,p,g){const{cordova:w}=jl();let T=()=>{};try{yield new Promise((k,U)=>{let ne=null;function Oe(){var lt;k();const Zt=null===(lt=w.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof Zt&&Zt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function ke(){ne||(ne=window.setTimeout(()=>{U(zn(v,"redirect-cancelled-by-user"))},2e3))}function st(){"visible"===(null==document?void 0:document.visibilityState)&&ke()}p.addPassiveListener(Oe),document.addEventListener("resume",ke,!1),Uo()&&document.addEventListener("visibilitychange",st,!1),T=()=>{p.removePassiveListener(Oe),document.removeEventListener("resume",ke,!1),document.removeEventListener("visibilitychange",st,!1),ne&&window.clearTimeout(ne)}})}finally{T()}}),Ep.apply(this,arguments)}function Wy(v){return rd.apply(this,arguments)}function rd(){return rd=(0,o.Z)(function*(v){const p=Zy(v),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")}),rd.apply(this,arguments)}function Zy(v){if(ai(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),g=new Uint8Array(p);for(let w=0;w<v.length;w++)g[w]=v.charCodeAt(w);return g}v="Browser",(0,ue._registerComponent)(new fe.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),{apiKey:T,authDomain:k}=w.options;return(U=>{Te(T&&!T.includes(":"),"invalid-api-key",{appName:U.name}),Te(!(null==k?void 0:k.includes(":")),"argument-error",{appName:U.name});const ne={apiKey:T,authDomain:k,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mr(v)},Oe=new Xr(U,ne);return function(v,p){const g=(null==p?void 0:p.persistence)||[],w=(Array.isArray(g)?g:[g]).map(en);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(Oe,g),Oe})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new fe.wA("auth-internal",p=>{const g=mi(p.getProvider("auth").getImmediate());return new Wg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(qc,"0.19.4",void 0),(0,ue.registerVersion)(qc,"0.19.4","esm2017");class Ei extends jc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,o.Z)(function*(){yield p.initPromise})()}}function Dh(v){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,o.Z)(function*(v){const p=yield xp()._get(Mp(v));return p&&(yield xp()._remove(Mp(v))),p}),Ni.apply(this,arguments)}function Sp(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);v.push(p.charAt(w))}return v.join("")}function xp(){return en(Al)}function Mp(v){return bi("authEvent",v.config.apiKey,v.name)}function Wc(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...g]=v.split("?");return(0,L.zd)(g.join("?"))}function ad(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zn("no-auth-event")}}function Gl(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Qg(v=(0,L.z$)()){return!("file:"!==Gl()&&"ionic:"!==Gl()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xg(){try{const v=self.localStorage,p=dn();if(v)return v.setItem(p,"1"),v.removeItem(p),!function(v=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(v=(0,L.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,L.hl)()}catch(v){return Ip()&&(0,L.hl)()}return!1}function Ip(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ap(){return("http:"===Gl()||"https:"===Gl()||(0,L.ru)()||Qg())&&!((0,L.b$)()||(0,L.UG)())&&Xg()&&!Ip()}function xh(){return Qg()&&"undefined"!=typeof document}function kp(){return kp=(0,o.Z)(function*(){return!!xh()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})}),kp.apply(this,arguments)}const os={LOCAL:"local",NONE:"none",SESSION:"session"},cd=Te,Rp="persistence";function e_(v){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,o.Z)(function*(v){yield v._initializationPromise;const p=Ms(),g=bi(Rp,v.config.apiKey,v.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,v._getPersistence())}),Mh.apply(this,arguments)}function Ms(){return"undefined"!=typeof window?window:null}const sb=Te;class ql{constructor(){this.browserResolver=en(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$n,this._completeRedirectFn=Ku}_openPopup(p,g,w,T){var k=this;return(0,o.Z)(function*(){var U;ai(null===(U=k.eventManagers[p._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const ne=Zs(p,g,w,pt(),T);return function(v,p,g,w=500,T=600){const k=Math.max((window.screen.availHeight-T)/2,0).toString(),U=Math.max((window.screen.availWidth-w)/2,0).toString();let ne="";const Oe=Object.assign(Object.assign({},Bl),{width:w.toString(),height:T.toString(),top:k,left:U}),ke=(0,L.z$)().toLowerCase();g&&(ne=jo(ke)?"_blank":g),wa(ke)&&(p=p||"http://localhost",Oe.scrollbars="yes");const st=Object.entries(Oe).reduce((Zt,[jn,Mo])=>`${Zt}${jn}=${Mo},`,"");if(function(v=(0,L.z$)()){var p;return Vs(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(ke)&&"_self"!==ne)return function(v,p){const g=document.createElement("a");g.href=v,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",ne),new bp(null);const lt=window.open(p||"",ne,st);Te(lt,v,"popup-blocked");try{lt.focus()}catch(Zt){}return new bp(lt)}(p,ne,dn())})()}_openRedirect(p,g,w,T){var k=this;return(0,o.Z)(function*(){return yield k._originValidation(p),v=Zs(p,g,w,pt(),T),kn().location.href=v,new Promise(()=>{});var v})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:T,promise:k}=this.eventManagers[g];return T?Promise.resolve(T):(ai(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,o.Z)(function*(){const w=yield function(v){return yp.apply(this,arguments)}(p),T=new jc(p);return w.register("authEvent",k=>(Te(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:T.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:T},g.iframes[p._key()]=w,T})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(nd,{type:nd},T=>{var k;const U=null===(k=null==T?void 0:T[0])||void 0===k?void 0:k[nd];void 0!==U&&g(!!U),Wt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Ys.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ca()||At()||Vs()}}),this.cordovaResolver=en(class{constructor(){this._redirectPersistence=$n,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ku}_initialize(p){var g=this;return(0,o.Z)(function*(){const w=p._key();let T=g.eventManagers.get(w);return T||(T=new Ei(p),g.eventManagers.set(w,T),g.attachCallbackListeners(p,T)),T})()}_openPopup(p){Wt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,T){var k=this;return(0,o.Z)(function*(){!function(v){var p,g,w,T,k,U,ne,Oe,ke,st;const lt=jl();Te("function"==typeof(null===(p=null==lt?void 0:lt.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Te(void 0!==(null===(g=null==lt?void 0:lt.BuildInfo)||void 0===g?void 0:g.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Te("function"==typeof(null===(k=null===(T=null===(w=null==lt?void 0:lt.cordova)||void 0===w?void 0:w.plugins)||void 0===T?void 0:T.browsertab)||void 0===k?void 0:k.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(Oe=null===(ne=null===(U=null==lt?void 0:lt.cordova)||void 0===U?void 0:U.plugins)||void 0===ne?void 0:ne.browsertab)||void 0===Oe?void 0:Oe.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te("function"==typeof(null===(st=null===(ke=null==lt?void 0:lt.cordova)||void 0===ke?void 0:ke.InAppBrowser)||void 0===st?void 0:st.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const U=yield k._initialize(p);yield U.initialized(),U.resetRedirect(),Ss.clear(),yield k._originValidation(p);const ne=function(v,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Sp(),postBody:null,tenantId:v.tenantId,error:zn(v,"no-auth-event")}}(p,w,T);yield function(v,p){return xp()._set(Mp(v),p)}(p,ne);const Oe=yield function(v,p,g){return yh.apply(this,arguments)}(p,ne,g),ke=yield function(v){const{cordova:p}=jl();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let T=null;w?p.plugins.browsertab.openUrl(v):T=p.InAppBrowser.open(v,function(v=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),g(T)})})}(Oe);return function(v,p,g){return Ep.apply(this,arguments)}(p,U,ke)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(v){return Ul.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:T,BuildInfo:k}=jl(),U=setTimeout((0,o.Z)(function*(){yield Dh(p),g.onEvent(ad())}),500),ne=function(){var st=(0,o.Z)(function*(lt){clearTimeout(U);const Zt=yield Dh(p);let jn=null;Zt&&(null==lt?void 0:lt.url)&&(jn=function(v,p){var g,w;const T=function(v){const p=Wc(v),g=p.link?decodeURIComponent(p.link):void 0,w=Wc(g).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Wc(T).link||T||w||g||v}(p);if(T.includes("/__/auth/callback")){const k=Wc(T),U=k.firebaseError?function(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(k.firebaseError)):null,ne=null===(w=null===(g=null==U?void 0:U.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Oe=ne?zn(ne):null;return Oe?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:T,postBody:null}}return null}(Zt,lt.url)),g.onEvent(jn||ad())});return function(Zt){return st.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ne);const Oe=T,ke=`${k.packageName.toLowerCase()}://`;jl().handleOpenURL=function(){var st=(0,o.Z)(function*(lt){if(lt.toLowerCase().startsWith(ke)&&ne({url:lt}),"function"==typeof Oe)try{Oe(lt)}catch(Zt){console.error(Zt)}});return function(lt){return st.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=$n,this._completeRedirectFn=Ku}_initialize(p){var g=this;return(0,o.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,T){var k=this;return(0,o.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,g,w,T)})()}_openRedirect(p,g,w,T){var k=this;return(0,o.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,g,w,T)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return xh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return sb(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,o.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return kp.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Op(v){return v.unwrap()}function xo(v){return Zc(v)}function Zc(v){const{_tokenResponse:p}=v instanceof L.ZR?v.customData:v;if(!p)return null;if(!(v instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return x.credentialFromResult(v);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=qo;break;case"facebook.com":w=bc;break;case"github.com":w=Yo;break;case"twitter.com":w=nr;break;default:const{oauthIdToken:T,oauthAccessToken:k,oauthTokenSecret:U,pendingToken:ne,nonce:Oe}=p;return k||U||T||ne?ne?g.startsWith("saml.")?Us._create(g,ne):Oi._fromParams({providerId:g,signInMethod:g,pendingToken:ne,idToken:T,accessToken:k}):new ti(g).credential({idToken:T,accessToken:k,rawNonce:Oe}):null}return v instanceof L.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function Rr(v,p){return p.catch(g=>{throw g instanceof L.ZR&&function(v,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Ih(v,function(v,p){var g;const w=(0,L.m9)(v),T=p;return Te(p.customData.operationType,w,"argument-error"),Te(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),bs._fromError(w,T)}(v,p));else if(w){const T=Zc(p),k=p;T&&(k.credential=T,k.tenantId=w.tenantId||void 0,k.email=w.email||void 0,k.phoneNumber=w.phoneNumber||void 0)}}(v,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:xo(g),additionalUserInfo:Ue(g),user:Ks.getOrCreate(T)}})}function Th(v,p){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,o.Z)(function*(v,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Rr(v,g.confirm(w))}}),Yl.apply(this,arguments)}class Ih{constructor(p,g){this.resolver=g,this.auth=function(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Rr(Op(this.auth),this.resolver.resolveSignIn(p))}}class Ks{constructor(p){this._delegate=p,this.multiFactor=function(v){const p=(0,L.m9)(v);return un.has(p)||un.set(p,Ra._fromUser(p)),un.get(p)}(p)}static getOrCreate(p){return Ks.USER_MAP.has(p)||Ks.USER_MAP.set(p,new Ks(p)),Ks.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,o.Z)(function*(){return Rr(g.auth,vl(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,o.Z)(function*(){return Th(w.auth,function(v,p,g){return Di.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,o.Z)(function*(){return Rr(g.auth,function(v,p,g){return Fi.apply(this,arguments)}(g._delegate,p,ql))})()}linkWithRedirect(p){var g=this;return(0,o.Z)(function*(){return yield e_(mi(g.auth)),function(v,p,g){return function(v,p,g){return kr.apply(this,arguments)}(v,p,g)}(g._delegate,p,ql)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,o.Z)(function*(){return Rr(g.auth,wi(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Th(this.auth,function(v,p,g){return Bc.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Rr(this.auth,function(v,p,g){return sr.apply(this,arguments)}(this._delegate,p,ql))}reauthenticateWithRedirect(p){var g=this;return(0,o.Z)(function*(){return yield e_(mi(g.auth)),function(v,p,g){return function(v,p,g){return mh.apply(this,arguments)}(v,p,g)}(g._delegate,p,ql)})()}sendEmailVerification(p){return function(v,p){return bo.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,o.Z)(function*(){return yield function(v,p){return xe.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(v,p){return Jf((0,L.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function(v,p){return Jf((0,L.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(v,p){return Wu.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(v,p){return An.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(v,p,g){return Ml.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ks.USER_MAP=new WeakMap;const Wl=Te;let Ah=(()=>{class v{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Wl(T,"invalid-api-key",{appName:g.name});let k=[Pn];if("undefined"!=typeof window){k=function(v,p){const g=Ms();if(!(null==g?void 0:g.sessionStorage))return[];const w=bi(Rp,v,p);switch(g.sessionStorage.getItem(w)){case os.NONE:return[Pn];case os.LOCAL:return[So,$n];case os.SESSION:return[$n];default:return[]}}(T,g.name);for(const ne of[So,Al,$n])k.includes(ne)||k.push(ne)}Wl(T,"invalid-api-key",{appName:g.name});const U="undefined"!=typeof window?ql:void 0;this._delegate=w.initialize({options:{persistence:k,popupRedirectResolver:U}}),this._delegate._updateErrorMap(zi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ks.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function(v,p,g){const w=mi(v);Te(w._canInitEmulator,w,"emulator-config-failed"),Te(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),k=gr(p),{host:U,port:ne}=function(v){const p=gr(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const k=T[1];return{host:k,port:Rg(w.substr(k.length+1))}}{const[k,U]=w.split(":");return{host:k,port:Rg(U)}}}(p);w.config.emulator={url:`${k}//${U}${null===ne?"":`:${ne}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:U,port:ne,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,g,w)}applyActionCode(g){return function(v,p){return Mc.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Tc(this._delegate,g)}confirmPasswordReset(g,w){return function(v,p,g){return Ta.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var T=this;return(0,o.Z)(function*(){return Rr(T._delegate,function(v,p,g){return xl.apply(this,arguments)}(T._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(v,p){return Xf.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(v,p){const g=Go.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,o.Z)(function*(){Wl(Ap(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function(v,p){return ia.apply(this,arguments)}(g._delegate,ql);return w?Rr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(v,p){mi(v)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,T){const{next:k,error:U,complete:ne}=Fp(g,w,T);return this._delegate.onAuthStateChanged(k,U,ne)}onIdTokenChanged(g,w,T){const{next:k,error:U,complete:ne}=Fp(g,w,T);return this._delegate.onIdTokenChanged(k,U,ne)}sendSignInLinkToEmail(g,w){return function(v,p,g){return Sn.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function(v,p,g){return Ma.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,o.Z)(function*(){let T;switch(function(v,p){cd(Object.values(os).includes(p),v,"invalid-persistence-type"),(0,L.b$)()?cd(p!==os.SESSION,v,"unsupported-persistence-type"):(0,L.UG)()?cd(p===os.NONE,v,"unsupported-persistence-type"):Ip()?cd(p===os.NONE||p===os.LOCAL&&(0,L.hl)(),v,"unsupported-persistence-type"):cd(p===os.NONE||Xg(),v,"unsupported-persistence-type")}(w._delegate,g),g){case os.SESSION:T=$n;break;case os.LOCAL:T=(yield en(So)._isAvailable())?So:Al;break;case os.NONE:T=Pn;break;default:return Wt("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Rr(this._delegate,function(v){return xa.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Rr(this._delegate,Nu(this._delegate,g))}signInWithCustomToken(g){return Rr(this._delegate,function(v,p){return bl.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Rr(this._delegate,function(v,p,g){return Nu((0,L.m9)(v),$o.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Rr(this._delegate,function(v,p,g){return Ia.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Th(this._delegate,function(v,p,g){return Es.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,o.Z)(function*(){return Wl(Ap(),w._delegate,"operation-not-supported-in-this-environment"),Rr(w._delegate,function(v,p,g){return fn.apply(this,arguments)}(w._delegate,g,ql))})()}signInWithRedirect(g){var w=this;return(0,o.Z)(function*(){return Wl(Ap(),w._delegate,"operation-not-supported-in-this-environment"),yield e_(w._delegate),function(v,p,g){return function(v,p,g){return ph.apply(this,arguments)}(v,p,g)}(w._delegate,g,ql)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(v,p){return Sl.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=os,v})();function Fp(v,p,g){let w=v;"function"!=typeof v&&({next:w,error:p,complete:g}=v);const T=w;return{next:U=>T(U&&Ks.getOrCreate(U)),error:p,complete:g}}class t_{constructor(){this.providerId="phone",this._delegate=new x(Op(ee.Z.auth()))}static credential(p,g){return x.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}t_.PHONE_SIGN_IN_METHOD=x.PHONE_SIGN_IN_METHOD,t_.PROVIDER_ID=x.PROVIDER_ID;const Zl=Te;class Np{constructor(p,g,w=ee.Z.app()){var T;Zl(null===(T=w.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Yi(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(v){v.INTERNAL.registerComponent(new fe.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Ah(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$o,FacebookAuthProvider:bc,GithubAuthProvider:Yo,GoogleAuthProvider:qo,OAuthProvider:ti,SAMLAuthProvider:Wo,PhoneAuthProvider:t_,PhoneMultiFactorGenerator:$y,RecaptchaVerifier:Np,TwitterAuthProvider:nr,Auth:Ah,AuthCredential:Da,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.4")}(ee.Z)},2940:function(dt,De){!function(N){"use strict";function o(le){return Array.prototype.slice.call(le)}function ee(le){return new Promise(function(K,ce){le.onsuccess=function(){K(le.result)},le.onerror=function(){ce(le.error)}})}function L(le,K,ce){var Ee,ve=new Promise(function(Ge,Ie){ee(Ee=le[K].apply(le,ce)).then(Ge,Ie)});return ve.request=Ee,ve}function ue(le,K,ce){var Ee=L(le,K,ce);return Ee.then(function(ve){if(ve)return new G(ve,Ee.request)})}function oe(le,K,ce){ce.forEach(function(Ee){Object.defineProperty(le.prototype,Ee,{get:function(){return this[K][Ee]},set:function(ve){this[K][Ee]=ve}})})}function ge(le,K,ce,Ee){Ee.forEach(function(ve){ve in ce.prototype&&(le.prototype[ve]=function(){return L(this[K],ve,arguments)})})}function Q(le,K,ce,Ee){Ee.forEach(function(ve){ve in ce.prototype&&(le.prototype[ve]=function(){return this[K][ve].apply(this[K],arguments)})})}function ae(le,K,ce,Ee){Ee.forEach(function(ve){ve in ce.prototype&&(le.prototype[ve]=function(){return ue(this[K],ve,arguments)})})}function de(le){this._index=le}function G(le,K){this._cursor=le,this._request=K}function z(le){this._store=le}function te(le){this._tx=le,this.complete=new Promise(function(K,ce){le.oncomplete=function(){K()},le.onerror=function(){ce(le.error)},le.onabort=function(){ce(le.error)}})}function Ve(le,K,ce){this._db=le,this.oldVersion=K,this.transaction=new te(ce)}function Se(le){this._db=le}oe(de,"_index",["name","keyPath","multiEntry","unique"]),ge(de,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ae(de,"_index",IDBIndex,["openCursor","openKeyCursor"]),oe(G,"_cursor",["direction","key","primaryKey","value"]),ge(G,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(le){le in IDBCursor.prototype&&(G.prototype[le]=function(){var K=this,ce=arguments;return Promise.resolve().then(function(){return K._cursor[le].apply(K._cursor,ce),ee(K._request).then(function(Ee){if(Ee)return new G(Ee,K._request)})})})}),z.prototype.createIndex=function(){return new de(this._store.createIndex.apply(this._store,arguments))},z.prototype.index=function(){return new de(this._store.index.apply(this._store,arguments))},oe(z,"_store",["name","keyPath","indexNames","autoIncrement"]),ge(z,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ae(z,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Q(z,"_store",IDBObjectStore,["deleteIndex"]),te.prototype.objectStore=function(){return new z(this._tx.objectStore.apply(this._tx,arguments))},oe(te,"_tx",["objectStoreNames","mode"]),Q(te,"_tx",IDBTransaction,["abort"]),Ve.prototype.createObjectStore=function(){return new z(this._db.createObjectStore.apply(this._db,arguments))},oe(Ve,"_db",["name","version","objectStoreNames"]),Q(Ve,"_db",IDBDatabase,["deleteObjectStore","close"]),Se.prototype.transaction=function(){return new te(this._db.transaction.apply(this._db,arguments))},oe(Se,"_db",["name","version","objectStoreNames"]),Q(Se,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(le){[z,de].forEach(function(K){le in K.prototype&&(K.prototype[le.replace("open","iterate")]=function(){var ce=o(arguments),Ee=ce[ce.length-1],ve=this._store||this._index,Ge=ve[le].apply(ve,ce.slice(0,-1));Ge.onsuccess=function(){Ee(Ge.result)}})})}),[de,z].forEach(function(le){le.prototype.getAll||(le.prototype.getAll=function(K,ce){var Ee=this,ve=[];return new Promise(function(Ge){Ee.iterateCursor(K,function(Ie){Ie?(ve.push(Ie.value),void 0===ce||ve.length!=ce?Ie.continue():Ge(ve)):Ge(ve)})})})}),N.openDb=function(le,K,ce){var Ee=L(indexedDB,"open",[le,K]),ve=Ee.request;return ve&&(ve.onupgradeneeded=function(Ge){ce&&ce(new Ve(ve.result,Ge.oldVersion,ve.transaction))}),Ee.then(function(Ge){return new Se(Ge)})},N.deleteDb=function(le){return L(indexedDB,"deleteDatabase",[le])},Object.defineProperty(N,"__esModule",{value:!0})}(De)},8306:(dt,De,N)=>{"use strict";N.d(De,{y:()=>G});var o=N(930),ee=N(727),L=N(8822),ue=N(4671);var Q=N(2416),ae=N(576),de=N(2806);let G=(()=>{class Se{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const le=new Se;return le.source=this,le.operator=Be,le}subscribe(Be,le,K){const ce=function(Se){return Se&&Se instanceof o.Lv||function(Se){return Se&&(0,ae.m)(Se.next)&&(0,ae.m)(Se.error)&&(0,ae.m)(Se.complete)}(Se)&&(0,ee.Nn)(Se)}(Be)?Be:new o.Hp(Be,le,K);return(0,de.x)(()=>{const{operator:Ee,source:ve}=this;ce.add(Ee?Ee.call(ce,ve):ve?this._subscribe(ce):this._trySubscribe(ce))}),ce}_trySubscribe(Be){try{return this._subscribe(Be)}catch(le){Be.error(le)}}forEach(Be,le){return new(le=z(le))((K,ce)=>{let Ee;Ee=this.subscribe(ve=>{try{Be(ve)}catch(Ge){ce(Ge),null==Ee||Ee.unsubscribe()}},ce,K)})}_subscribe(Be){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(Be)}[L.L](){return this}pipe(...Be){return function(Se){return 0===Se.length?ue.y:1===Se.length?Se[0]:function(Be){return Se.reduce((le,K)=>K(le),Be)}}(Be)(this)}toPromise(Be){return new(Be=z(Be))((le,K)=>{let ce;this.subscribe(Ee=>ce=Ee,Ee=>K(Ee),()=>le(ce))})}}return Se.create=He=>new Se(He),Se})();function z(Se){var He;return null!==(He=null!=Se?Se:Q.v.Promise)&&void 0!==He?He:Promise}},7579:(dt,De,N)=>{"use strict";N.d(De,{x:()=>Q});var o=N(8306),ee=N(727);const ue=(0,N(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=N(8737),ge=N(2806);let Q=(()=>{class de extends o.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const te=new ae(this,this);return te.operator=z,te}_throwIfClosed(){if(this.closed)throw new ue}next(z){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const te=this.observers.slice();for(const Ve of te)Ve.next(z)}})}error(z){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:te}=this;for(;te.length;)te.shift().error(z)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:te,isStopped:Ve,observers:Se}=this;return te||Ve?ee.Lc:(Se.push(z),new ee.w0(()=>(0,oe.P)(Se,z)))}_checkFinalizedStatuses(z){const{hasError:te,thrownError:Ve,isStopped:Se}=this;te?z.error(Ve):Se&&z.complete()}asObservable(){const z=new o.y;return z.source=this,z}}return de.create=(G,z)=>new ae(G,z),de})();class ae extends Q{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,te;null===(te=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===te||te.call(z,G)}error(G){var z,te;null===(te=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===te||te.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,te;return null!==(te=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==te?te:ee.Lc}}},930:(dt,De,N)=>{"use strict";N.d(De,{Hp:()=>Ve,Lv:()=>te});var o=N(576),ee=N(727),L=N(2416),ue=N(7849),oe=N(5032);const ge=de("C",void 0,void 0);function de(K,ce,Ee){return{kind:K,value:ce,error:Ee}}var G=N(3410),z=N(2806);class te extends ee.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,ee.Nn)(ce)&&ce.add(this)):this.destination=le}static create(ce,Ee,ve){return new Ve(ce,Ee,ve)}next(ce){this.isStopped?Be(de("N",ce,void 0),this):this._next(ce)}error(ce){this.isStopped?Be(de("E",void 0,ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?Be(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ve extends te{constructor(ce,Ee,ve){let Ge;if(super(),(0,o.m)(ce))Ge=ce;else if(ce){let Ie;({next:Ge,error:Ee,complete:ve}=ce),this&&L.v.useDeprecatedNextContext?(Ie=Object.create(ce),Ie.unsubscribe=()=>this.unsubscribe()):Ie=ce,Ge=null==Ge?void 0:Ge.bind(Ie),Ee=null==Ee?void 0:Ee.bind(Ie),ve=null==ve?void 0:ve.bind(Ie)}this.destination={next:Ge?Se(Ge):oe.Z,error:Se(null!=Ee?Ee:He),complete:ve?Se(ve):oe.Z}}}function Se(K,ce){return(...Ee)=>{try{K(...Ee)}catch(ve){L.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(ve):(0,ue.h)(ve)}}}function He(K){throw K}function Be(K,ce){const{onStoppedNotification:Ee}=L.v;Ee&&G.z.setTimeout(()=>Ee(K,ce))}const le={closed:!0,next:oe.Z,error:He,complete:oe.Z}},727:(dt,De,N)=>{"use strict";N.d(De,{Lc:()=>ge,w0:()=>oe,Nn:()=>Q});var o=N(576);const L=(0,N(3888).d)(de=>function(z){de(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((te,Ve)=>`${Ve+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ue=N(8737);class oe{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Se of z)Se.remove(this);else z.remove(this);const{initialTeardown:te}=this;if((0,o.m)(te))try{te()}catch(Se){G=Se instanceof L?Se.errors:[Se]}const{_teardowns:Ve}=this;if(Ve){this._teardowns=null;for(const Se of Ve)try{ae(Se)}catch(He){G=null!=G?G:[],He instanceof L?G=[...G,...He.errors]:G.push(He)}}if(G)throw new L(G)}}add(G){var z;if(G&&G!==this)if(this.closed)ae(G);else{if(G instanceof oe){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._teardowns=null!==(z=this._teardowns)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,ue.P)(z,G)}remove(G){const{_teardowns:z}=this;z&&(0,ue.P)(z,G),G instanceof oe&&G._removeParent(this)}}oe.EMPTY=(()=>{const de=new oe;return de.closed=!0,de})();const ge=oe.EMPTY;function Q(de){return de instanceof oe||de&&"closed"in de&&(0,o.m)(de.remove)&&(0,o.m)(de.add)&&(0,o.m)(de.unsubscribe)}function ae(de){(0,o.m)(de)?de():de.unsubscribe()}},2416:(dt,De,N)=>{"use strict";N.d(De,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,De,N)=>{"use strict";N.d(De,{E:()=>ee});const ee=new(N(8306).y)(oe=>oe.complete())},8996:(dt,De,N)=>{"use strict";N.d(De,{D:()=>Ge});var o=N(8421),ee=N(5363),L=N(9468),ge=N(8306),ae=N(2202),de=N(576),G=N(9672);function te(Ie,qe){if(!Ie)throw new Error("Iterable cannot be null");return new ge.y(Qe=>{(0,G.f)(Qe,qe,()=>{const _t=Ie[Symbol.asyncIterator]();(0,G.f)(Qe,qe,()=>{_t.next().then(ie=>{ie.done?Qe.complete():Qe.next(ie.value)})},0,!0)})})}var Ve=N(3670),Se=N(8239),He=N(1144),Be=N(6495),le=N(2206),K=N(4532),ce=N(3260);function Ge(Ie,qe){return qe?function(Ie,qe){if(null!=Ie){if((0,Ve.c)(Ie))return function(Ie,qe){return(0,o.Xf)(Ie).pipe((0,L.R)(qe),(0,ee.Q)(qe))}(Ie,qe);if((0,He.z)(Ie))return function(Ie,qe){return new ge.y(Qe=>{let _t=0;return qe.schedule(function(){_t===Ie.length?Qe.complete():(Qe.next(Ie[_t++]),Qe.closed||this.schedule())})})}(Ie,qe);if((0,Se.t)(Ie))return function(Ie,qe){return(0,o.Xf)(Ie).pipe((0,L.R)(qe),(0,ee.Q)(qe))}(Ie,qe);if((0,le.D)(Ie))return te(Ie,qe);if((0,Be.T)(Ie))return function(Ie,qe){return new ge.y(Qe=>{let _t;return(0,G.f)(Qe,qe,()=>{_t=Ie[ae.h](),(0,G.f)(Qe,qe,()=>{let ie,he;try{({value:ie,done:he}=_t.next())}catch(ye){return void Qe.error(ye)}he?Qe.complete():Qe.next(ie)},0,!0)}),()=>(0,de.m)(null==_t?void 0:_t.return)&&_t.return()})}(Ie,qe);if((0,ce.L)(Ie))return function(Ie,qe){return te((0,ce.Q)(Ie),qe)}(Ie,qe)}throw(0,K.z)(Ie)}(Ie,qe):(0,o.Xf)(Ie)}},8421:(dt,De,N)=>{"use strict";N.d(De,{Xf:()=>Ve});var o=N(5987),ee=N(1144),L=N(8239),ue=N(8306),oe=N(3670),ge=N(2206),Q=N(4532),ae=N(6495),de=N(3260),G=N(576),z=N(7849),te=N(8822);function Ve(ve){if(ve instanceof ue.y)return ve;if(null!=ve){if((0,oe.c)(ve))return function(ve){return new ue.y(Ge=>{const Ie=ve[te.L]();if((0,G.m)(Ie.subscribe))return Ie.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,ee.z)(ve))return function(ve){return new ue.y(Ge=>{for(let Ie=0;Ie<ve.length&&!Ge.closed;Ie++)Ge.next(ve[Ie]);Ge.complete()})}(ve);if((0,L.t)(ve))return function(ve){return new ue.y(Ge=>{ve.then(Ie=>{Ge.closed||(Ge.next(Ie),Ge.complete())},Ie=>Ge.error(Ie)).then(null,z.h)})}(ve);if((0,ge.D)(ve))return K(ve);if((0,ae.T)(ve))return function(ve){return new ue.y(Ge=>{for(const Ie of ve)if(Ge.next(Ie),Ge.closed)return;Ge.complete()})}(ve);if((0,de.L)(ve))return function(ve){return K((0,de.Q)(ve))}(ve)}throw(0,Q.z)(ve)}function K(ve){return new ue.y(Ge=>{(function(ve,Ge){var Ie,qe,Qe,_t;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,o.KL)(ve);!(qe=yield Ie.next()).done;)if(Ge.next(qe.value),Ge.closed)return}catch(ie){Qe={error:ie}}finally{try{qe&&!qe.done&&(_t=Ie.return)&&(yield _t.call(Ie))}finally{if(Qe)throw Qe.error}}Ge.complete()})})(ve,Ge).catch(Ie=>Ge.error(Ie))})}},6451:(dt,De,N)=>{"use strict";N.d(De,{T:()=>ge});var o=N(8189),ee=N(8421),L=N(515),ue=N(3269),oe=N(8996);function ge(...Q){const ae=(0,ue.yG)(Q),de=(0,ue._6)(Q,1/0),G=Q;return G.length?1===G.length?(0,ee.Xf)(G[0]):(0,o.J)(de)((0,oe.D)(G,ae)):L.E}},5403:(dt,De,N)=>{"use strict";N.d(De,{Q:()=>ee});var o=N(930);class ee extends o.Lv{constructor(ue,oe,ge,Q,ae){super(ue),this.onFinalize=ae,this._next=oe?function(de){try{oe(de)}catch(G){ue.error(G)}}:super._next,this._error=Q?function(de){try{Q(de)}catch(G){ue.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(de){ue.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}},4004:(dt,De,N)=>{"use strict";N.d(De,{U:()=>L});var o=N(4482),ee=N(5403);function L(ue,oe){return(0,o.e)((ge,Q)=>{let ae=0;ge.subscribe(new ee.Q(Q,de=>{Q.next(ue.call(oe,de,ae++))}))})}},8189:(dt,De,N)=>{"use strict";N.d(De,{J:()=>L});var o=N(5577),ee=N(4671);function L(ue=1/0){return(0,o.z)(ee.y,ue)}},5577:(dt,De,N)=>{"use strict";N.d(De,{z:()=>ae});var o=N(4004),ee=N(8421),L=N(4482),oe=(N(9672),N(5403)),Q=N(576);function ae(de,G,z=1/0){return(0,Q.m)(G)?ae((te,Ve)=>(0,o.U)((Se,He)=>G(te,Se,Ve,He))((0,ee.Xf)(de(te,Ve))),z):("number"==typeof G&&(z=G),(0,L.e)((te,Ve)=>function(de,G,z,te,Ve,Se,He,Be){const le=[];let K=0,ce=0,Ee=!1;const ve=()=>{Ee&&!le.length&&!K&&G.complete()},Ge=qe=>K<te?Ie(qe):le.push(qe),Ie=qe=>{K++;let Qe=!1;(0,ee.Xf)(z(qe,ce++)).subscribe(new oe.Q(G,_t=>{G.next(_t)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(K--;le.length&&K<te;){const _t=le.shift();Ie(_t)}ve()}catch(_t){G.error(_t)}}))};return de.subscribe(new oe.Q(G,Ge,()=>{Ee=!0,ve()})),()=>{}}(te,Ve,de,z)))}},5363:(dt,De,N)=>{"use strict";N.d(De,{Q:()=>ue});var o=N(9672),ee=N(4482),L=N(5403);function ue(oe,ge=0){return(0,ee.e)((Q,ae)=>{Q.subscribe(new L.Q(ae,de=>(0,o.f)(ae,oe,()=>ae.next(de),ge),()=>(0,o.f)(ae,oe,()=>ae.complete(),ge),de=>(0,o.f)(ae,oe,()=>ae.error(de),ge)))})}},3099:(dt,De,N)=>{"use strict";N.d(De,{B:()=>ge});var o=N(8996),ee=N(5698),L=N(7579),ue=N(930),oe=N(4482);function ge(ae={}){const{connector:de=(()=>new L.x),resetOnError:G=!0,resetOnComplete:z=!0,resetOnRefCountZero:te=!0}=ae;return Ve=>{let Se=null,He=null,Be=null,le=0,K=!1,ce=!1;const Ee=()=>{null==He||He.unsubscribe(),He=null},ve=()=>{Ee(),Se=Be=null,K=ce=!1},Ge=()=>{const Ie=Se;ve(),null==Ie||Ie.unsubscribe()};return(0,oe.e)((Ie,qe)=>{le++,!ce&&!K&&Ee();const Qe=Be=null!=Be?Be:de();qe.add(()=>{le--,0===le&&!ce&&!K&&(He=Q(Ge,te))}),Qe.subscribe(qe),Se||(Se=new ue.Hp({next:_t=>Qe.next(_t),error:_t=>{ce=!0,Ee(),He=Q(ve,G,_t),Qe.error(_t)},complete:()=>{K=!0,Ee(),He=Q(ve,z),Qe.complete()}}),(0,o.D)(Ie).subscribe(Se))})(Ve)}}function Q(ae,de,...G){return!0===de?(ae(),null):!1===de?null:de(...G).pipe((0,ee.q)(1)).subscribe(()=>ae())}},9468:(dt,De,N)=>{"use strict";N.d(De,{R:()=>ee});var o=N(4482);function ee(L,ue=0){return(0,o.e)((oe,ge)=>{ge.add(L.schedule(()=>oe.subscribe(ge),ue))})}},5698:(dt,De,N)=>{"use strict";N.d(De,{q:()=>ue});var o=N(515),ee=N(4482),L=N(5403);function ue(oe){return oe<=0?()=>o.E:(0,ee.e)((ge,Q)=>{let ae=0;ge.subscribe(new L.Q(Q,de=>{++ae<=oe&&(Q.next(de),oe<=ae&&Q.complete())}))})}},8505:(dt,De,N)=>{"use strict";N.d(De,{b:()=>oe});var o=N(576),ee=N(4482),L=N(5403),ue=N(4671);function oe(ge,Q,ae){const de=(0,o.m)(ge)||Q||ae?{next:ge,error:Q,complete:ae}:ge;return de?(0,ee.e)((G,z)=>{var te;null===(te=de.subscribe)||void 0===te||te.call(de);let Ve=!0;G.subscribe(new L.Q(z,Se=>{var He;null===(He=de.next)||void 0===He||He.call(de,Se),z.next(Se)},()=>{var Se;Ve=!1,null===(Se=de.complete)||void 0===Se||Se.call(de),z.complete()},Se=>{var He;Ve=!1,null===(He=de.error)||void 0===He||He.call(de,Se),z.error(Se)},()=>{var Se,He;Ve&&(null===(Se=de.unsubscribe)||void 0===Se||Se.call(de)),null===(He=de.finalize)||void 0===He||He.call(de)}))}):ue.y}},4408:(dt,De,N)=>{"use strict";N.d(De,{o:()=>oe});var o=N(727);class ee extends o.w0{constructor(Q,ae){super()}schedule(Q,ae=0){return this}}const L={setInterval(...ge){const{delegate:Q}=L;return((null==Q?void 0:Q.setInterval)||setInterval)(...ge)},clearInterval(ge){const{delegate:Q}=L;return((null==Q?void 0:Q.clearInterval)||clearInterval)(ge)},delegate:void 0};var ue=N(8737);class oe extends ee{constructor(Q,ae){super(Q,ae),this.scheduler=Q,this.work=ae,this.pending=!1}schedule(Q,ae=0){if(this.closed)return this;this.state=Q;const de=this.id,G=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(G,de,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(G,this.id,ae),this}requestAsyncId(Q,ae,de=0){return L.setInterval(Q.flush.bind(Q,this),de)}recycleAsyncId(Q,ae,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ae;L.clearInterval(ae)}execute(Q,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(Q,ae);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,ae){let G,de=!1;try{this.work(Q)}catch(z){de=!0,G=z||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:Q,scheduler:ae}=this,{actions:de}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(de,this),null!=Q&&(this.id=this.recycleAsyncId(ae,Q,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,De,N)=>{"use strict";N.d(De,{v:()=>L});var o=N(6063);class ee{constructor(oe,ge=ee.now){this.schedulerActionCtor=oe,this.now=ge}schedule(oe,ge=0,Q){return new this.schedulerActionCtor(this,oe).schedule(Q,ge)}}ee.now=o.l.now;class L extends ee{constructor(oe,ge=ee.now){super(oe,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:ge}=this;if(this._active)return void ge.push(oe);let Q;this._active=!0;do{if(Q=oe.execute(oe.state,oe.delay))break}while(oe=ge.shift());if(this._active=!1,Q){for(;oe=ge.shift();)oe.unsubscribe();throw Q}}}},4986:(dt,De,N)=>{"use strict";N.d(De,{z:()=>L,P:()=>ue});var o=N(4408);const L=new(N(7565).v)(o.o),ue=L},6063:(dt,De,N)=>{"use strict";N.d(De,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(dt,De,N)=>{"use strict";N.d(De,{z:()=>o});const o={setTimeout(...ee){const{delegate:L}=o;return((null==L?void 0:L.setTimeout)||setTimeout)(...ee)},clearTimeout(ee){const{delegate:L}=o;return((null==L?void 0:L.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(dt,De,N)=>{"use strict";N.d(De,{h:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(dt,De,N)=>{"use strict";N.d(De,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(dt,De,N)=>{"use strict";N.d(De,{jO:()=>ue,yG:()=>oe,_6:()=>ge});var o=N(576),ee=N(3532);function L(Q){return Q[Q.length-1]}function ue(Q){return(0,o.m)(L(Q))?Q.pop():void 0}function oe(Q){return(0,ee.K)(L(Q))?Q.pop():void 0}function ge(Q,ae){return"number"==typeof L(Q)?Q.pop():ae}},8737:(dt,De,N)=>{"use strict";function o(ee,L){if(ee){const ue=ee.indexOf(L);0<=ue&&ee.splice(ue,1)}}N.d(De,{P:()=>o})},3888:(dt,De,N)=>{"use strict";function o(ee){const ue=ee(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}N.d(De,{d:()=>o})},2806:(dt,De,N)=>{"use strict";N.d(De,{x:()=>L,O:()=>ue});var o=N(2416);let ee=null;function L(oe){if(o.v.useDeprecatedSynchronousErrorHandling){const ge=!ee;if(ge&&(ee={errorThrown:!1,error:null}),oe(),ge){const{errorThrown:Q,error:ae}=ee;if(ee=null,Q)throw ae}}else oe()}function ue(oe){o.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=oe)}},9672:(dt,De,N)=>{"use strict";function o(ee,L,ue,oe=0,ge=!1){const Q=L.schedule(function(){ue(),ge?ee.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(ee.add(Q),!ge)return Q}N.d(De,{f:()=>o})},4671:(dt,De,N)=>{"use strict";function o(ee){return ee}N.d(De,{y:()=>o})},1144:(dt,De,N)=>{"use strict";N.d(De,{z:()=>o});const o=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(dt,De,N)=>{"use strict";N.d(De,{D:()=>ee});var o=N(576);function ee(L){return Symbol.asyncIterator&&(0,o.m)(null==L?void 0:L[Symbol.asyncIterator])}},576:(dt,De,N)=>{"use strict";function o(ee){return"function"==typeof ee}N.d(De,{m:()=>o})},3670:(dt,De,N)=>{"use strict";N.d(De,{c:()=>L});var o=N(8822),ee=N(576);function L(ue){return(0,ee.m)(ue[o.L])}},6495:(dt,De,N)=>{"use strict";N.d(De,{T:()=>L});var o=N(2202),ee=N(576);function L(ue){return(0,ee.m)(null==ue?void 0:ue[o.h])}},8239:(dt,De,N)=>{"use strict";N.d(De,{t:()=>ee});var o=N(576);function ee(L){return(0,o.m)(null==L?void 0:L.then)}},3260:(dt,De,N)=>{"use strict";N.d(De,{Q:()=>L,L:()=>ue});var o=N(5987),ee=N(576);function L(oe){return(0,o.FC)(this,arguments,function*(){const Q=oe.getReader();try{for(;;){const{value:ae,done:de}=yield(0,o.qq)(Q.read());if(de)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(ae)}}finally{Q.releaseLock()}})}function ue(oe){return(0,ee.m)(null==oe?void 0:oe.getReader)}},3532:(dt,De,N)=>{"use strict";N.d(De,{K:()=>ee});var o=N(576);function ee(L){return L&&(0,o.m)(L.schedule)}},4482:(dt,De,N)=>{"use strict";N.d(De,{A:()=>ee,e:()=>L});var o=N(576);function ee(ue){return(0,o.m)(null==ue?void 0:ue.lift)}function L(ue){return oe=>{if(ee(oe))return oe.lift(function(ge){try{return ue(ge,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(dt,De,N)=>{"use strict";function o(){}N.d(De,{Z:()=>o})},7849:(dt,De,N)=>{"use strict";N.d(De,{h:()=>L});var o=N(2416),ee=N(3410);function L(ue){ee.z.setTimeout(()=>{const{onUnhandledError:oe}=o.v;if(!oe)throw ue;oe(ue)})}},4532:(dt,De,N)=>{"use strict";function o(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(De,{z:()=>o})},5987:(dt,De,N)=>{"use strict";function ae(ie,he,ye,we){return new(ye||(ye=Promise))(function(fe,Ft){function nn(Et){try{Ot(we.next(Et))}catch(Nt){Ft(Nt)}}function oi(Et){try{Ot(we.throw(Et))}catch(Nt){Ft(Nt)}}function Ot(Et){Et.done?fe(Et.value):function(fe){return fe instanceof ye?fe:new ye(function(Ft){Ft(fe)})}(Et.value).then(nn,oi)}Ot((we=we.apply(ie,he||[])).next())})}function le(ie){return this instanceof le?(this.v=ie,this):new le(ie)}function K(ie,he,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,we=ye.apply(ie,he||[]),fe=[];return Fe={},Ft("next"),Ft("throw"),Ft("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Ft(Cn){we[Cn]&&(Fe[Cn]=function(zi){return new Promise(function(Qi,Dn){fe.push([Cn,zi,Qi,Dn])>1||nn(Cn,zi)})})}function nn(Cn,zi){try{!function(Cn){Cn.value instanceof le?Promise.resolve(Cn.value.v).then(Ot,Et):Nt(fe[0][2],Cn)}(we[Cn](zi))}catch(Qi){Nt(fe[0][3],Qi)}}function Ot(Cn){nn("next",Cn)}function Et(Cn){nn("throw",Cn)}function Nt(Cn,zi){Cn(zi),fe.shift(),fe.length&&nn(fe[0][0],fe[0][1])}}function Ee(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,he=ie[Symbol.asyncIterator];return he?he.call(ie):(ie=function(ie){var he="function"==typeof Symbol&&Symbol.iterator,ye=he&&ie[he],we=0;if(ye)return ye.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&we>=ie.length&&(ie=void 0),{value:ie&&ie[we++],done:!ie}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),ye={},we("next"),we("throw"),we("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function we(fe){ye[fe]=ie[fe]&&function(Ft){return new Promise(function(nn,oi){!function(fe,Ft,nn,oi){Promise.resolve(oi).then(function(Ot){fe({value:Ot,done:nn})},Ft)}(nn,oi,(Ft=ie[fe](Ft)).done,Ft.value)})}}}N.d(De,{mG:()=>ae,qq:()=>le,FC:()=>K,KL:()=>Ee})},5e3:(dt,De,N)=>{"use strict";N.d(De,{deG:()=>Fc,tb:()=>kS,AFp:()=>fv,ip1:()=>uf,CZH:()=>lu,hGG:()=>rk,z2F:()=>Vm,sBO:()=>Id,Sil:()=>df,_Vd:()=>tf,EJc:()=>RS,SBq:()=>xm,qLn:()=>ld,vpe:()=>Vi,tBr:()=>Bn,XFs:()=>bt,OlP:()=>bn,zs3:()=>ra,ZZ4:()=>qm,aQg:()=>Ro,soG:()=>cu,YKP:()=>CA,h0i:()=>Ke,PXZ:()=>_w,R0b:()=>ks,FiY:()=>Fi,Lbi:()=>hw,g9A:()=>pv,n_E:()=>rf,Qsj:()=>fA,FYo:()=>nS,JOm:()=>xo,q3G:()=>Qn,tp0:()=>yr,Rgc:()=>sf,dDg:()=>bv,q4F:()=>k0,GfV:()=>A0,s_b:()=>H0,ifc:()=>Xe,eFA:()=>VS,G48:()=>YA,Gpc:()=>z,f3M:()=>it,X6Q:()=>qA,_c5:()=>Av,VLi:()=>wv,c2e:()=>Cr,zSh:()=>Ob,wAp:()=>Ct,vHH:()=>He,EiD:()=>Dp,mCW:()=>Bl,qzn:()=>Uc,JVY:()=>zc,pB0:()=>Hy,eBb:()=>td,L6k:()=>_p,LAX:()=>Ug,cg1:()=>wm,kL8:()=>AE,yhl:()=>ed,dqk:()=>xt,sIi:()=>b_,CqO:()=>EI,QGY:()=>x_,F4k:()=>DI,RDi:()=>Kf,AaK:()=>ae,z3N:()=>Ys,qOj:()=>UD,TTD:()=>mo,_Bn:()=>XE,xp6:()=>ud,uIk:()=>$D,Gre:()=>F_,ekj:()=>T_,Suo:()=>mS,Xpm:()=>Gn,lG2:()=>Vo,Yz7:()=>Dn,cJS:()=>Yn,oAB:()=>ol,Yjl:()=>Mu,Y36:()=>_d,_UZ:()=>tE,GkF:()=>iE,BQk:()=>$b,ynx:()=>Gb,qZA:()=>zb,TgZ:()=>Ub,EpF:()=>rE,n5z:()=>Pc,Ikx:()=>d0,LFG:()=>W,$8M:()=>hn,$Z:()=>eE,NdJ:()=>sE,CRH:()=>Q0,kcU:()=>oh,O4$:()=>Ia,oxw:()=>aE,ALo:()=>V0,lcZ:()=>rv,Hsn:()=>vd,F$t:()=>qb,Q6J:()=>Hb,DdM:()=>sS,VKq:()=>la,iGM:()=>lv,MAs:()=>fI,CHM:()=>zs,LSH:()=>bh,Udp:()=>gE,WFA:()=>oE,d8E:()=>h0,YNc:()=>hI,_uU:()=>r0,Oqu:()=>O_,hij:()=>Zh,Gf:()=>K0});var o=N(7579),ee=N(727),L=N(8306),ue=N(6451),oe=N(3099);function ge(a){for(let l in a)if(a[l]===ge)return l;throw Error("Could not find renamed property on target object.")}function Q(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function ae(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ae).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function de(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const G=ge({__forward_ref__:ge});function z(a){return a.__forward_ref__=z,a.toString=function(){return ae(this())},a}function te(a){return Ve(a)?a():a}function Ve(a){return"function"==typeof a&&a.hasOwnProperty(G)&&a.__forward_ref__===z}class He extends Error{constructor(l,u){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,u)),this.code=l}}function K(a){return"string"==typeof a?a:null==a?"":String(a)}function ce(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():K(a)}function Ie(a,l){const u=l?` in ${l}`:"";throw new He("201",`No provider for ${ce(a)} found${u}`)}function Et(a,l){null==a&&function(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function Dn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Yn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Mr(a){return Wt(a,_s)||Wt(a,yi)}function Wt(a,l){return a.hasOwnProperty(l)?a[l]:null}function Yr(a){return a&&(a.hasOwnProperty(Te)||a.hasOwnProperty(ai))?a[Te]:null}const _s=ge({\u0275prov:ge}),Te=ge({\u0275inj:ge}),yi=ge({ngInjectableDef:ge}),ai=ge({ngInjectorDef:ge});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let en;function Xi(a){const l=en;return en=a,l}function pt(a,l,u){const h=Mr(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&bt.Optional?null:void 0!==l?l:void Ie(ae(a),"Injector")}function Vt(a){return{toString:a}.toString()}var jt=(()=>((jt=jt||{})[jt.OnPush=0]="OnPush",jt[jt.Default=1]="Default",jt))(),Xe=(()=>{return(a=Xe||(Xe={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Xe;var a})();const mt="undefined"!=typeof globalThis&&globalThis,Su="undefined"!=typeof window&&window,ho="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xt=mt||"undefined"!=typeof global&&global||Su||ho,q={},j=[],Y=ge({\u0275cmp:ge}),be=ge({\u0275dir:ge}),re=ge({\u0275pipe:ge}),et=ge({\u0275mod:ge}),vt=ge({\u0275fac:ge}),ln=ge({__NG_ELEMENT_ID__:ge});let Ii=0;function Gn(a){return Vt(()=>{const u={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===jt.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||j,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Xe.Emulated,id:"c",styles:a.styles||j,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,_=a.features,b=a.pipes;return h.id+=Ii++,h.inputs=mc(a.inputs,u),h.outputs=mc(a.outputs),_&&_.forEach(D=>D(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(qt):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(Ai):null,h})}function qt(a){return En(a)||function(a){return a[be]||null}(a)}function Ai(a){return function(a){return a[re]||null}(a)}const Bo={};function ol(a){return Vt(()=>{const l={type:a.type,bootstrap:a.bootstrap||j,declarations:a.declarations||j,imports:a.imports||j,exports:a.exports||j,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Bo[a.id]=a.type),l})}function mc(a,l){if(null==a)return q;const u={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),u[f]=h,l&&(l[f]=_)}return u}const Vo=Gn;function Mu(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function En(a){return a[Y]||null}function ki(a,l){const u=a[et]||null;if(!u&&!0===l)throw new Error(`Type ${ae(a)} does not have '\u0275mod' property.`);return u}function mr(a){return Array.isArray(a)&&"object"==typeof a[1]}function Xr(a){return Array.isArray(a)&&!0===a[1]}function mi(a){return 0!=(8&a.flags)}function Hs(a){return 2==(2&a.flags)}function Tu(a){return 1==(1&a.flags)}function gr(a){return null!==a.template}function qf(a){return 0!=(512&a[2])}function vs(a,l){return a.hasOwnProperty(vt)?a[vt]:null}class Ru{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function mo(){return Sa}function Sa(a){return a.type.prototype.ngOnChanges&&(a.setInput=Zn),go}function go(){const a=Oi(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===q)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function Zn(a,l,u,h){const f=Oi(a)||function(a,l){return a[th]=l}(a,{previous:q,current:null}),_=f.current||(f.current={}),b=f.previous,D=this.declaredInputs[u],E=b[D];_[D]=new Ru(E&&E.currentValue,l,b===q),a[h]=l}mo.ngInherit=!0;const th="__ngSimpleChanges__";function Oi(a){return a[th]||null}const nh="http://www.w3.org/2000/svg";let yc;function Kf(a){yc=a}function pn(a){return!!a.listen}const Fu={createRenderer:(a,l)=>void 0!==yc?yc:"undefined"!=typeof document?document:void 0};function ei(a){for(;Array.isArray(a);)a=a[0];return a}function es(a,l){return ei(l[a])}function ti(a,l){return ei(l[a.index])}function qo(a,l){return a.data[l]}function Yo(a,l){return a[l]}function cn(a,l){const u=l[a];return mr(u)?u:u[0]}function Us(a){return 4==(4&a[2])}function fl(a){return 128==(128&a[2])}function nr(a,l){return null==l?null:a[l]}function pl(a){a[18]=0}function _o(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const rt={lFrame:Bu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Cc(){return rt.bindingsEnabled}function xe(){return rt.lFrame.lView}function Ut(){return rt.lFrame.tView}function zs(a){return rt.lFrame.contextLView=a,a[8]}function Fn(){let a=_l();for(;null!==a&&64===a.type;)a=a.parent;return a}function _l(){return rt.lFrame.currentTNode}function Pi(a,l){const u=rt.lFrame;u.currentTNode=a,u.isParent=l}function Ec(){return rt.lFrame.isParent}function Zo(){rt.lFrame.isParent=!1}function vl(){return rt.isInCheckNoChangesMode}function Ko(a){rt.isInCheckNoChangesMode=a}function wi(){const a=rt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function vo(){return rt.lFrame.bindingIndex++}function ys(a){const l=rt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Cl(a,l){const u=rt.lFrame;u.bindingIndex=u.bindingRootIndex=a,Dl(l)}function Dl(a){rt.lFrame.currentDirectiveIndex=a}function Ma(a){const l=rt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function xc(){return rt.lFrame.currentQueryIndex}function Ta(a){rt.lFrame.currentQueryIndex=a}function rh(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Mc(a,l,u){if(u&bt.SkipSelf){let f=l,_=a;for(;!(f=f.parent,null!==f||u&bt.Host||(f=rh(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;l=f,a=_}const h=rt.lFrame=El();return h.currentTNode=l,h.lView=a,!0}function Tc(a){const l=El(),u=a[1];rt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function El(){const a=rt.lFrame,l=null===a?null:a.child;return null===l?Bu(a):l}function Bu(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Sl(){const a=rt.lFrame;return rt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const sh=Sl;function xl(){const a=Sl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Sn(){return rt.lFrame.selectedIndex}function yo(a){rt.lFrame.selectedIndex=a}function Nn(){const a=rt.lFrame;return qo(a.tView,a.selectedIndex)}function Ia(){rt.lFrame.currentNamespace=nh}function oh(){rt.lFrame.currentNamespace=null}function bo(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const _=a.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:D,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:R}=_;b&&(a.contentHooks||(a.contentHooks=[])).push(-u,b),D&&((a.contentHooks||(a.contentHooks=[])).push(u,D),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,D)),E&&(a.viewHooks||(a.viewHooks=[])).push(-u,E),I&&((a.viewHooks||(a.viewHooks=[])).push(u,I),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,I)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(u,R)}}function Ic(a,l,u){Hu(a,l,3,u)}function Ml(a,l,u,h){(3&a[2])===u&&Hu(a,l,u,h)}function lh(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Hu(a,l,u,h){const _=null!=h?h:-1,b=l.length-1;let D=0;for(let E=void 0!==h?65535&a[18]:0;E<b;E++)if("number"==typeof l[E+1]){if(D=l[E],null!=h&&D>=h)break}else l[E]<0&&(a[18]+=65536),(D<_||-1==_)&&(ch(a,u,l,E),a[18]=(4294901760&a[18])+E+2),E++}function ch(a,l,u,h){const f=u[h]<0,_=u[h+1],D=a[f?-u[h]:u[h]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(D)}finally{}}}else try{_.call(D)}finally{}}class Tl{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function xn(a,l,u){const h=pn(a);let f=0;for(;f<u.length;){const _=u[f];if("number"==typeof _){if(0!==_)break;f++;const b=u[f++],D=u[f++],E=u[f++];h?a.setAttribute(l,D,E,b):l.setAttributeNS(b,D,E)}else{const b=_,D=u[++f];Ue(b)?h&&a.setProperty(l,b,D):h?a.setAttribute(l,b,D):l.setAttribute(b,D),f++}}return f}function Co(a){return 3===a||4===a||6===a}function Ue(a){return 64===a.charCodeAt(0)}function Ne(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||Ci(a,u,f,null,-1===u||2===u?l[++h]:null)}}return a}function Ci(a,l,u,h,f){let _=0,b=a.length;if(-1===l)b=-1;else for(;_<a.length;){const D=a[_++];if("number"==typeof D){if(D===l){b=-1;break}if(D>l){b=_-1;break}}}for(;_<a.length;){const D=a[_];if("number"==typeof D)break;if(D===u){if(null===h)return void(null!==f&&(a[_+1]=f));if(h===a[_+1])return void(a[_+2]=f)}_++,null!==h&&_++,null!==f&&_++}-1!==b&&(a.splice(b,0,l),_=b+1),a.splice(_++,0,u),null!==h&&a.splice(_++,0,h),null!==f&&a.splice(_++,0,f)}function Hn(a){return-1!==a}function ka(a){return 32767&a}function Il(a,l){let u=function(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let Rc=!0;function Qo(a){const l=Rc;return Rc=a,l}let tp=0;function Xo(a,l){const u=un(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Ra(h.data,a),Ra(l,null),Ra(h.blueprint,null));const f=Oc(a,l),_=a.injectorIndex;if(Hn(f)){const b=ka(f),D=Il(f,l),E=D[1].data;for(let I=0;I<8;I++)l[_+I]=D[b+I]|E[b+I]}return l[_+8]=f,_}function Ra(a,l){a.push(0,0,0,0,0,0,0,0,l)}function un(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Oc(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){const _=f[1],b=_.type;if(h=2===b?_.declTNode:1===b?f[6]:null,null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function _r(a,l,u){!function(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(ln)&&(h=u[ln]),null==h&&(h=u[ln]=tp++);const f=255&h;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function ns(a,l,u){if(u&bt.Optional)return a;Ie(l,"NodeInjector")}function ju(a,l,u,h){if(u&bt.Optional&&void 0===h&&(h=null),0==(u&(bt.Self|bt.Host))){const f=a[9],_=Xi(void 0);try{return f?f.get(l,h,u&bt.Optional):pt(l,h,u&bt.Optional)}finally{Xi(_)}}return ns(h,l,u)}function Oa(a,l,u,h=bt.Default,f){if(null!==a){const _=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(ln)?a[ln]:void 0;return"number"==typeof l?l>=0?255&l:Al:l}(u);if("function"==typeof _){if(!Mc(l,a,h))return h&bt.Host?ns(f,u,h):ju(l,u,h,f);try{const b=_(h);if(null!=b||h&bt.Optional)return b;Ie(u)}finally{sh()}}else if("number"==typeof _){let b=null,D=un(a,l),E=-1,I=h&bt.Host?l[16][6]:null;for((-1===D||h&bt.SkipSelf)&&(E=-1===D?Oc(a,l):l[D+8],-1!==E&&Kn(h,!1)?(b=l[1],D=ka(E),l=Il(E,l)):D=-1);-1!==D;){const R=l[1];if(dn(_,D,R.data)){const B=kl(D,l,u,b,h,I);if(B!==Jo)return B}E=l[D+8],-1!==E&&Kn(h,l[1].data[D+8]===I)&&dn(_,D,l)?(b=R,D=ka(E),l=Il(E,l)):D=-1}}}return ju(l,u,h,f)}const Jo={};function Al(){return new kn(Fn(),xe())}function kl(a,l,u,h,f,_){const b=l[1],D=b.data[a+8],R=$n(D,b,u,null==h?Hs(D)&&Rc:h!=b&&0!=(3&D.type),f&bt.Host&&_===D);return null!==R?is(l,b,R,D):Jo}function $n(a,l,u,h,f){const _=a.providerIndexes,b=l.data,D=1048575&_,E=a.directiveStart,R=_>>20,$=f?D+R:a.directiveEnd;for(let X=h?D:D+R;X<$;X++){const me=b[X];if(X<E&&u===me||X>=E&&me.type===u)return X}if(f){const X=b[E];if(X&&gr(X)&&X.type===u)return E}return null}function is(a,l,u,h){let f=a[u];const _=l.data;if(function(a){return a instanceof Tl}(f)){const b=f;b.resolving&&function(a,l){throw new He("200",`Circular dependency in DI detected for ${a}`)}(ce(_[u]));const D=Qo(b.canSeeViewProviders);b.resolving=!0;const E=b.injectImpl?Xi(b.injectImpl):null;Mc(a,h,bt.Default);try{f=a[u]=b.factory(void 0,_,a,h),l.firstCreatePass&&u>=h.directiveStart&&function(a,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:_}=l.type.prototype;if(h){const b=Sa(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,b)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),_&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,_))}(u,_[u],l)}finally{null!==E&&Xi(E),Qo(D),b.resolving=!1,sh()}}return f}function dn(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Kn(a,l){return!(a&bt.Self||a&bt.Host&&l)}class kn{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Oa(this._tNode,this._lView,l,h,u)}}function Pc(a){return Vt(()=>{const l=a.prototype.constructor,u=l[vt]||Ln(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const _=f[vt]||Ln(f);if(_&&_!==u)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function Ln(a){return Ve(a)?()=>{const l=Ln(te(a));return l&&l()}:vs(a)}function hn(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const _=u[f];if(Co(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(_===l)return u[f+1];f+=2}}}return null}(Fn(),a)}const Eo="__parameters__";function mn(a,l,u){return Vt(()=>{const h=function(a){return function(...u){if(a){const h=a(...u);for(const f in h)this[f]=h[f]}}}(l);function f(..._){if(this instanceof f)return h.apply(this,_),this;const b=new f(..._);return D.annotation=b,D;function D(E,I,R){const B=E.hasOwnProperty(Eo)?E[Eo]:Object.defineProperty(E,Eo,{value:[]})[Eo];for(;B.length<=R;)B.push(null);return(B[R]=B[R]||[]).push(b),E}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class bn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Dn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Fc=new bn("AnalyzeForEntryComponents");function vr(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),vr(h,l)):l!==a&&l.push(h)}return l}function Cs(a,l){a.forEach(u=>Array.isArray(u)?Cs(u,l):l(u))}function zu(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Fa(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Na(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function qi(a,l,u){let h=La(a,l);return h>=0?a[1|h]=u:(h=~h,function(a,l,u,h){let f=a.length;if(f==l)a.push(u,h);else if(1===f)a.push(h,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function Ds(a,l){const u=La(a,l);if(u>=0)return a[1|u]}function La(a,l){return function(a,l,u){let h=0,f=a.length>>u;for(;f!==h;){const _=h+(f-h>>1),b=a[_<<u];if(l===b)return _<<u;b>l?f=_:h=_+1}return~(f<<u)}(a,l,1)}const Lc={},Bc="__NG_DI_FLAG__",$s="ngTempTokenPath",dp=/\n/gm,x="__source",M=ge({provide:String,useValue:ge});let O;function V(a){const l=O;return O=a,l}function Z(a,l=bt.Default){if(void 0===O)throw new Error("inject() must be called from an injection context");return null===O?pt(a,void 0,l):O.get(a,l&bt.Optional?null:void 0,l)}function W(a,l=bt.Default){return(en||Z)(te(a),l)}const it=W;function $e(a){const l=[];for(let u=0;u<a.length;u++){const h=te(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let f,_=bt.Default;for(let b=0;b<h.length;b++){const D=h[b],E=fn(D);"number"==typeof E?-1===E?f=D.token:_|=E:f=D}l.push(W(f,_))}else l.push(W(h))}return l}function Gt(a,l){return a[Bc]=l,a.prototype[Bc]=l,a}function fn(a){return a[Bc]}const Bn=Gt(mn("Inject",a=>({token:a})),-1),Fi=Gt(mn("Optional"),8),yr=Gt(mn("SkipSelf"),4);let kr;function ia(a){var l;return(null===(l=function(){if(void 0===kr&&(kr=null,xt.trustedTypes))try{kr=xt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return kr}())||void 0===l?void 0:l.createHTML(a))||a}class Va{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _h extends Va{getTypeName(){return"HTML"}}class Xu extends Va{getTypeName(){return"Style"}}class By extends Va{getTypeName(){return"Script"}}class Ju extends Va{getTypeName(){return"URL"}}class Vy extends Va{getTypeName(){return"ResourceURL"}}function Ys(a){return a instanceof Va?a.changingThisBreaksApplicationSecurity:a}function Uc(a,l){const u=ed(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function ed(a){return a instanceof Va&&a.getTypeName()||null}function zc(a){return new _h(a)}function _p(a){return new Xu(a)}function td(a){return new By(a)}function Ug(a){return new Ju(a)}function Hy(a){return new Vy(a)}class jy{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(ia(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Uy{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ia(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=ia(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const b=u.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const zg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,yp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bl(a){return(a=String(a)).match(zg)||a.match(yp)?a:"unsafe:"+a}function Ws(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Gc(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const $g=Ws("area,br,col,hr,img,wbr"),bp=Ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qg=Ws("rp,rt"),Zs=Gc($g,Gc(bp,Ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gc(qg,Ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gc(qg,bp)),wp=Ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nd=Ws("srcset"),$c=Gc(wp,nd,Ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hl=Ws("script,style,template");class $y{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Zs.hasOwnProperty(u))return this.sanitizedSomething=!0,!Hl.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const _=h.item(f),b=_.name,D=b.toLowerCase();if(!$c.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let E=_.value;wp[D]&&(E=Bl(E)),nd[D]&&(a=E,E=(a=String(a)).split(",").map(l=>Bl(l.trim())).join(", ")),this.buf.push(" ",b,'="',Wg(E),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Zs.hasOwnProperty(u)&&!$g.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Wg(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const qc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cp=/([^\#-~ |!])/g;function Wg(a){return a.replace(/&/g,"&amp;").replace(qc,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Cp,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let id;function Dp(a,l){let u=null;try{id=id||function(a){const l=new Uy(a);return function(){try{return!!(new window.DOMParser).parseFromString(ia(""),"text/html")}catch(a){return!1}}()?new jy(l):l}(a);let h=l?String(l):"";u=id.getInertBodyElement(h);let f=5,_=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=_,_=u.innerHTML,u=id.getInertBodyElement(h)}while(h!==_);return ia((new $y).sanitizeChildren(Zg(u)||u))}finally{if(u){const h=Zg(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Zg(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Qn=(()=>((Qn=Qn||{})[Qn.NONE=0]="NONE",Qn[Qn.HTML=1]="HTML",Qn[Qn.STYLE=2]="STYLE",Qn[Qn.SCRIPT=3]="SCRIPT",Qn[Qn.URL=4]="URL",Qn[Qn.RESOURCE_URL=5]="RESOURCE_URL",Qn))();function bh(a){const l=function(){const a=xe();return a&&a[12]}();return l?l.sanitize(Qn.URL,a)||"":Uc(a,"URL")?Ys(a):Bl(K(a))}const Dh="__ngContext__";function Ni(a,l){a[Dh]=l}function Sp(a){const l=function(a){return a[Dh]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Tp(a){return a.ngOriginalError}function tb(a,...l){a.error(...l)}class ld{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),h=(a=l)&&a.ngErrorLogger||tb;var a;h(this._console,"ERROR",l),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Tp(l);for(;u&&Tp(u);)u=Tp(u);return u||null}}const Rp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xt))();function Ms(a){return a instanceof Function?a():a}var xo=(()=>((xo=xo||{})[xo.Important=1]="Important",xo[xo.DashCase=2]="DashCase",xo))();function Zc(a,l){return undefined(a,l)}function Yl(a){const l=a[3];return Xr(l)?l[3]:l}function Wl(a){return Fp(a[13])}function Ah(a){return Fp(a[4])}function Fp(a){for(;null!==a&&!Xr(a);)a=a[4];return a}function Zl(a,l,u,h,f){if(null!=h){let _,b=!1;Xr(h)?_=h:mr(h)&&(b=!0,h=h[0]);const D=ei(h);0===a&&null!==u?null==f?kh(l,u,D):To(l,u,D,f||null,!0):1===a&&null!==u?To(l,u,D,f||null,!0):2===a?function(a,l,u){const h=Kc(a,l);h&&function(a,l,u,h){pn(a)?a.removeChild(l,u,h):l.removeChild(u)}(a,h,l,u)}(l,D,b):3===a&&l.destroyNode(D),null!=_&&function(a,l,u,h,f){const _=u[7];_!==ei(u)&&Zl(l,a,h,_,f);for(let D=10;D<u.length;D++){const E=u[D];Vp(E[1],E,a,l,h,_)}}(l,a,_,u,f)}}function v(a,l,u){return pn(a)?a.createElement(l,u):null===u?a.createElement(l):a.createElementNS(u,l)}function ne(a,l){const u=a[9],h=u.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,_o(f,-1)),u.splice(h,1)}function Oe(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const f=h[17];null!==f&&f!==a&&ne(f,h),l>0&&(a[u-1][4]=h[4]);const _=Fa(a,10+l);!function(a,l){Vp(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const b=_[19];null!==b&&b.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function ke(a,l){if(!(256&l[2])){const u=l[11];pn(u)&&u.destroyNode&&Vp(a,l,u,3,null,null),function(a){let l=a[13];if(!l)return st(a[1],a);for(;l;){let u=null;if(mr(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)mr(l)&&st(l[1],l),l=l[3];null===l&&(l=a),mr(l)&&st(l[1],l),u=l&&l[4]}l=u}}(l)}}function st(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof Tl)){const _=u[h+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const D=f[_[b]],E=_[b+1];try{E.call(D)}finally{}}else try{_.call(f)}finally{}}}}(a,l),function(a,l){const u=a.cleanup,h=l[7];let f=-1;if(null!==u)for(let _=0;_<u.length-1;_+=2)if("string"==typeof u[_]){const b=u[_+1],D="function"==typeof b?b(l):ei(l[b]),E=h[f=u[_+2]],I=u[_+3];"boolean"==typeof I?D.removeEventListener(u[_],E,I):I>=0?h[f=I]():h[f=-I].unsubscribe(),_+=2}else{const b=h[f=u[_+1]];u[_].call(b)}if(null!==h){for(let _=f+1;_<h.length;_++)h[_]();l[7]=null}}(a,l),1===l[1].type&&pn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&Xr(l[3])){u!==l[3]&&ne(u,l);const h=l[19];null!==h&&h.detachView(a)}}}function jn(a,l,u){return function(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=a.data[h.directiveStart].encapsulation;if(f===Xe.None||f===Xe.Emulated)return null}return ti(h,u)}(a,l.parent,u)}function To(a,l,u,h,f){pn(a)?a.insertBefore(l,u,h,f):l.insertBefore(u,h,f)}function kh(a,l,u){pn(a)?a.appendChild(l,u):l.appendChild(u)}function Rh(a,l,u,h,f){null!==h?To(a,l,u,h,f):kh(a,l,u)}function Kc(a,l){return pn(a)?a.parentNode(l):l.parentNode}function Oh(a,l,u){return Lp(a,l,u)}let Lp=function(a,l,u){return 40&a.type?ti(a,u):null};function Fh(a,l,u,h){const f=jn(a,h,l),_=l[11],D=Oh(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let E=0;E<u.length;E++)Rh(_,f,u[E],D,!1);else Rh(_,f,u,D,!1)}function s_(a,l){if(null!==l){const u=l.type;if(3&u)return ti(l,a);if(4&u)return ab(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return s_(a,h);{const f=a[l.index];return Xr(f)?ab(-1,f):ei(f)}}if(32&u)return Zc(l,a)()||ei(a[l.index]);{const h=ob(a,l);return null!==h?Array.isArray(h)?h[0]:s_(Yl(a[16]),h):s_(a,l.next)}}return null}function ob(a,l){return null!==l?a[16][6].projection[l.projection]:null}function ab(a,l){const u=10+a+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return s_(h,f)}return l[7]}function lb(a,l,u,h,f,_,b){for(;null!=u;){const D=h[u.index],E=u.type;if(b&&0===l&&(D&&Ni(ei(D),h),u.flags|=4),64!=(64&u.flags))if(8&E)lb(a,l,u.child,h,f,_,!1),Zl(l,a,f,D,_);else if(32&E){const I=Zc(u,h);let R;for(;R=I();)Zl(l,a,f,R,_);Zl(l,a,f,D,_)}else 16&E?Hp(a,l,h,u,f,_):Zl(l,a,f,D,_);u=b?u.projectionNext:u.next}}function Vp(a,l,u,h,f,_){lb(u,h,a.firstChild,l,f,_,!1)}function Hp(a,l,u,h,f,_){const b=u[16],E=b[6].projection[h.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)Zl(l,a,f,E[I],_);else lb(a,l,E,b[3],f,_,!0)}function cb(a,l,u){pn(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function Xc(a,l,u){pn(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function fT(a,l,u){let h=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const _=l.length;if(f+_===h||a.charCodeAt(f+_)<=32)return f}u=f+1}}const Nh="ng-template";function tt(a,l,u){let h=0;for(;h<a.length;){let f=a[h++];if(u&&"class"===f){if(f=a[h],-1!==fT(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<a.length&&"string"==typeof(f=a[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function ii(a){return 4===a.type&&a.value!==Nh}function _D(a,l,u){return l===(4!==a.type||u?a.value:Nh)}function o_(a,l,u){let h=4;const f=a.attrs||[],_=function(a){for(let l=0;l<a.length;l++)if(Co(a[l]))return l;return a.length}(f);let b=!1;for(let D=0;D<l.length;D++){const E=l[D];if("number"!=typeof E){if(!b)if(4&h){if(h=2|1&h,""!==E&&!_D(a,E,u)||""===E&&1===l.length){if(Mn(h))return!1;b=!0}}else{const I=8&h?E:l[++D];if(8&h&&null!==a.attrs){if(!tt(a.attrs,I,u)){if(Mn(h))return!1;b=!0}continue}const B=Wi(8&h?"class":E,f,ii(a),u);if(-1===B){if(Mn(h))return!1;b=!0;continue}if(""!==I){let $;$=B>_?"":f[B+1].toLowerCase();const X=8&h?$:null;if(X&&-1!==fT(X,I,0)||2&h&&I!==$){if(Mn(h))return!1;b=!0}}}}else{if(!b&&!Mn(h)&&!Mn(E))return!1;if(b&&Mn(E))continue;b=!1,h=E|1&h}}return Mn(h)||b}function Mn(a){return 0==(1&a)}function Wi(a,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let _=!1;for(;f<l.length;){const b=l[f];if(b===a)return f;if(3===b||6===b)_=!0;else{if(1===b||2===b){let D=l[++f];for(;"string"==typeof D;)D=l[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=_?1:2}return-1}return function(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function pT(a,l,u=!1){for(let h=0;h<l.length;h++)if(o_(a,l[h],u))return!0;return!1}function mT(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function vD(a,l){return a?":not("+l.trim()+")":l}function gT(a){let l=a[0],u=1,h=2,f="",_=!1;for(;u<a.length;){let b=a[u];if("string"==typeof b)if(2&h){const D=a[++u];f+="["+b+(D.length>0?'="'+D+'"':"")+"]"}else 8&h?f+="."+b:4&h&&(f+=" "+b);else""!==f&&!Mn(b)&&(l+=vD(_,f),f=""),h=b,_=_||!Mn(h);u++}return""!==f&&(l+=vD(_,f)),l}const Lt={};function ud(a){a_(Ut(),xe(),Sn()+a,vl())}function a_(a,l,u,h){if(!h)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Ic(l,_,u)}else{const _=a.preOrderHooks;null!==_&&Ml(l,_,0,u)}yo(u)}function Kl(a,l){return a<<17|l<<2}function Or(a){return a>>17&32767}function dd(a){return 2|a}function Ql(a){return(131068&a)>>2}function Qs(a,l){return-131069&a|l<<2}function Xl(a){return 1|a}function IT(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],_=u[h+1];if(-1!==_){const b=a.data[_];Ta(f),b.contentQueries(2,l[_],_)}}}function d_(a,l,u,h,f,_,b,D,E,I){const R=l.blueprint.slice();return R[0]=f,R[2]=140|h,pl(R),R[3]=R[15]=a,R[8]=u,R[10]=b||a&&a[10],R[11]=D||a&&a[11],R[12]=E||a&&a[12]||null,R[9]=I||a&&a[9]||null,R[6]=_,R[16]=2==l.type?a[16]:R,R}function Gp(a,l,u,h,f){let _=a.data[l];if(null===_)_=function(a,l,u,h,f){const _=_l(),b=Ec(),E=a.data[l]=function(a,l,u,h,f,_){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,u,l,h,f);return null===a.firstChild&&(a.firstChild=E),null!==_&&(b?null==_.child&&null!==E.parent&&(_.child=E):null===_.next&&(_.next=E)),E}(a,l,u,h,f),rt.lFrame.inI18n&&(_.flags|=64);else if(64&_.type){_.type=u,_.value=h,_.attrs=f;const b=function(){const a=rt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return Pi(_,!0),_}function Ha(a,l,u,h){if(0===u)return-1;const f=l.length;for(let _=0;_<u;_++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function tu(a,l,u){Tc(l);try{const h=a.viewQuery;null!==h&&zh(1,h,u);const f=a.template;null!==f&&AT(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&IT(a,l),a.staticViewQueries&&zh(2,a.viewQuery,u);const _=a.components;null!==_&&function(a,l){for(let u=0;u<l.length;u++)_F(a,l[u])}(l,_)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,xl()}}function Hh(a,l,u,h){const f=l[2];if(256==(256&f))return;Tc(l);const _=vl();try{pl(l),function(a){rt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&AT(a,l,u,2,h);const b=3==(3&f);if(!_)if(b){const I=a.preOrderCheckHooks;null!==I&&Ic(l,I,null)}else{const I=a.preOrderHooks;null!==I&&Ml(l,I,0,null),lh(l,0)}if(function(a){for(let l=Wl(a);null!==l;l=Ah(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],_=f[3];0==(1024&f[2])&&_o(_,1),f[2]|=1024}}}(l),function(a){for(let l=Wl(a);null!==l;l=Ah(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];fl(h)&&Hh(f,h,f.template,h[8])}}(l),null!==a.contentQueries&&IT(a,l),!_)if(b){const I=a.contentCheckHooks;null!==I&&Ic(l,I)}else{const I=a.contentHooks;null!==I&&Ml(l,I,1),lh(l,1)}!function(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)yo(~f);else{const _=f,b=u[++h],D=u[++h];Cl(b,_),D(2,l[_])}}}finally{yo(-1)}}(a,l);const D=a.components;null!==D&&function(a,l){for(let u=0;u<l.length;u++)gF(a,l[u])}(l,D);const E=a.viewQuery;if(null!==E&&zh(2,E,h),!_)if(b){const I=a.viewCheckHooks;null!==I&&Ic(l,I)}else{const I=a.viewHooks;null!==I&&Ml(l,I,2),lh(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),_||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,_o(l[3],-1))}finally{xl()}}function fd(a,l,u,h){const f=l[10],_=!vl(),b=Us(l);try{_&&!b&&f.begin&&f.begin(),b&&tu(a,l,h),Hh(a,l,u,h)}finally{_&&!b&&f.end&&f.end()}}function AT(a,l,u,h,f){const _=Sn(),b=2&h;try{yo(-1),b&&l.length>20&&a_(a,l,20,vl()),u(h,f)}finally{yo(_)}}function kT(a,l,u){if(mi(l)){const f=l.directiveEnd;for(let _=l.directiveStart;_<f;_++){const b=a.data[_];b.contentQueries&&b.contentQueries(1,u[_],_)}}}function DD(a,l,u){!Cc()||(function(a,l,u,h){const f=u.directiveStart,_=u.directiveEnd;a.firstCreatePass||Xo(u,l),Ni(h,l);const b=u.initialInputs;for(let D=f;D<_;D++){const E=a.data[D],I=gr(E);I&&g_(l,u,E);const R=is(l,a,D,u);Ni(R,l),null!==b&&Cb(0,D-f,R,E,0,b),I&&(cn(u.index,l)[8]=R)}}(a,l,u,ti(u,l)),128==(128&u.flags)&&function(a,l,u){const h=u.directiveStart,f=u.directiveEnd,b=u.index,D=rt.lFrame.currentDirectiveIndex;try{yo(b);for(let E=h;E<f;E++){const I=a.data[E],R=l[E];Dl(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&m_(I,R)}}finally{yo(-1),Dl(D)}}(a,l,u))}function ED(a,l,u=ti){const h=l.localNames;if(null!==h){let f=l.index+1;for(let _=0;_<h.length;_+=2){const b=h[_+1],D=-1===b?u(l,a):a[b];a[f++]=D}}}function RT(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Xs(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Xs(a,l,u,h,f,_,b,D,E,I){const R=20+h,B=R+f,$=function(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Lt);return u}(R,B),X="function"==typeof I?I():I;return $[1]={type:a,blueprint:$,template:u,queries:null,viewQuery:D,declTNode:l,data:$.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:E,consts:X,incompleteFirstPass:!1}}function MD(a,l,u,h){const f=Kp(l);null===u?f.push(h):(f.push(u),a.firstCreatePass&&Qp(a).push(h,f.length-1))}function pd(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const f=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function or(a,l,u,h,f,_,b,D){const E=ti(l,u);let R,I=l.inputs;!D&&null!=I&&(R=I[h])?(Ib(a,u,R,h,f),Hs(l)&&function(a,l){const u=cn(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(h=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=b?b(f,l.value||"",h):f,pn(_)?_.setProperty(E,h,f):Ue(h)||(E.setProperty?E.setProperty(h,f):E[h]=f))}function $p(a,l,u,h){let f=!1;if(Cc()){const _=function(a,l,u){const h=a.directiveRegistry;let f=null;if(h)for(let _=0;_<h.length;_++){const b=h[_];pT(u,b.selectors,!1)&&(f||(f=[]),_r(Xo(u,l),a,b.type),gr(b)?(kD(a,u),f.unshift(b)):f.push(b))}return f}(a,l,u),b=null===h?null:{"":-1};if(null!==_){f=!0,RD(u,a.data.length,_.length);for(let R=0;R<_.length;R++){const B=_[R];B.providersResolver&&B.providersResolver(B)}let D=!1,E=!1,I=Ha(a,l,_.length,null);for(let R=0;R<_.length;R++){const B=_[R];u.mergedAttrs=Ne(u.mergedAttrs,B.hostAttrs),Uh(a,u,l,I,B),NT(I,B,b),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const $=B.type.prototype;!D&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),D=!0),!E&&($.ngOnChanges||$.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),E=!0),I++}!function(a,l){const h=l.directiveEnd,f=a.data,_=l.attrs,b=[];let D=null,E=null;for(let I=l.directiveStart;I<h;I++){const R=f[I],B=R.inputs,$=null===_||ii(l)?null:Db(B,_);b.push($),D=pd(B,I,D),E=pd(R.outputs,I,E)}null!==D&&(D.hasOwnProperty("class")&&(l.flags|=16),D.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=D,l.outputs=E}(a,u)}b&&function(a,l,u){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const _=u[l[f+1]];if(null==_)throw new He("301",`Export of name '${l[f+1]}' not found!`);h.push(l[f],_)}}}(u,h,b)}return u.mergedAttrs=Ne(u.mergedAttrs,u.attrs),f}function bb(a,l,u,h,f,_){const b=_.hostBindings;if(b){let D=a.hostBindingOpCodes;null===D&&(D=a.hostBindingOpCodes=[]);const E=~l.index;(function(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(D)!=E&&D.push(E),D.push(h,f,b)}}function m_(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function kD(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function NT(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;gr(l)&&(u[""]=a)}}function RD(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function Uh(a,l,u,h,f){a.data[h]=f;const _=f.factory||(f.factory=vs(f.type)),b=new Tl(_,gr(f),null);a.blueprint[h]=b,u[h]=b,bb(a,l,0,h,Ha(a,u,f.hostVars,Lt),f)}function g_(a,l,u){const h=ti(l,a),f=RT(u),_=a[10],b=xb(a,d_(a,f,null,u.onPush?64:16,h,l,_,_.createRenderer(h,u),null,null));a[l.index]=b}function ar(a,l,u,h,f,_){const b=ti(a,l);!function(a,l,u,h,f,_,b){if(null==_)pn(a)?a.removeAttribute(l,f,u):l.removeAttribute(f);else{const D=null==b?K(_):b(_,h||"",f);pn(a)?a.setAttribute(l,f,D,u):u?l.setAttributeNS(u,f,D):l.setAttribute(f,D)}}(l[11],b,_,a.value,u,h,f)}function Cb(a,l,u,h,f,_){const b=_[l];if(null!==b){const D=h.setInput;for(let E=0;E<b.length;){const I=b[E++],R=b[E++],B=b[E++];null!==D?h.setInput(u,B,I,R):u[R]=B}}}function Db(a,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function Sb(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function gF(a,l){const u=cn(l,a);if(fl(u)){const h=u[1];80&u[2]?Hh(h,u,h.template,u[8]):u[5]>0&&OD(u)}}function OD(a){for(let h=Wl(a);null!==h;h=Ah(h))for(let f=10;f<h.length;f++){const _=h[f];if(1024&_[2]){const b=_[1];Hh(b,_,b.template,_[8])}else _[5]>0&&OD(_)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=cn(u[h],a);fl(f)&&f[5]>0&&OD(f)}}function _F(a,l){const u=cn(l,a),h=u[1];(function(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),tu(h,u,u[8])}function xb(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function PD(a){for(;a;){a[2]|=64;const l=Yl(a);if(qf(a)&&!l)return a;a=l}return null}function Mb(a,l,u){const h=l[10];h.begin&&h.begin();try{Hh(a,l,a.template,u)}catch(f){throw BT(l,f),f}finally{h.end&&h.end()}}function Zp(a){!function(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=Sp(u),f=h[1];fd(f,h,f.template,u)}}(a[8])}function zh(a,l,u){Ta(0),l(a,u)}const bF=(()=>Promise.resolve(null))();function Kp(a){return a[7]||(a[7]=[])}function Qp(a){return a.cleanup||(a.cleanup=[])}function Tb(a,l,u){return(null===a||gr(a))&&(u=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function BT(a,l){const u=a[9],h=u?u.get(ld,null):null;h&&h.handleError(l)}function Ib(a,l,u,h,f){for(let _=0;_<u.length;){const b=u[_++],D=u[_++],E=l[b],I=a.data[b];null!==I.setInput?I.setInput(E,f,h,D):E[D]=f}}function ja(a,l,u){const h=es(l,a);!function(a,l,u){pn(a)?a.setValue(l,u):l.textContent=u}(a[11],h,u)}function Ab(a,l,u){let h=u?a.styles:null,f=u?a.classes:null,_=0;if(null!==l)for(let b=0;b<l.length;b++){const D=l[b];"number"==typeof D?_=D:1==_?f=de(f,D):2==_&&(h=de(h,D+": "+l[++b]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=f:a.classesWithoutHost=f}const tc=new bn("INJECTOR",-1);class FD{get(l,u=Lc){if(u===Lc){const h=new Error(`NullInjectorError: No provider for ${ae(l)}!`);throw h.name="NullInjectorError",h}return u}}const Ob=new bn("Set Injector scope."),Xp={},wF={};let ND;function md(){return void 0===ND&&(ND=new FD),ND}function gd(a,l=null,u=null,h){const f=LD(a,l,u,h);return f._resolveInjectorDefTypes(),f}function LD(a,l=null,u=null,h){return new VT(a,u,l||md(),h)}class VT{constructor(l,u,h,f=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];u&&Cs(u,D=>this.processProvider(D,l,u)),Cs([l],D=>this.processInjectorType(D,[],_)),this.records.set(tc,ru(void 0,this));const b=this.records.get(Ob);this.scope=null!=b?b.value:null,this.source=f||("object"==typeof l?null:ae(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Lc,h=bt.Default){this.assertNotDestroyed();const f=V(this),_=Xi(void 0);try{if(!(h&bt.SkipSelf)){let D=this.records.get(l);if(void 0===D){const E=("function"==typeof(a=l)||"object"==typeof a&&a instanceof bn)&&Mr(l);D=E&&this.injectableDefInScope(E)?ru(y_(l),Xp):null,this.records.set(l,D)}if(null!=D)return this.hydrate(l,D)}return(h&bt.Self?md():this.parent).get(l,u=h&bt.Optional&&u===Lc?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[$s]=b[$s]||[]).unshift(ae(l)),f)throw b;return function(a,l,u,h){const f=a[$s];throw l[x]&&f.unshift(l[x]),a.message=function(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=ae(l);if(Array.isArray(l))f=l.map(ae).join(" -> ");else if("object"==typeof l){let _=[];for(let b in l)if(l.hasOwnProperty(b)){let D=l[b];_.push(b+":"+("string"==typeof D?JSON.stringify(D):ae(D)))}f=`{${_.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${a.replace(dp,"\n  ")}`}("\n"+a.message,f,u,h),a.ngTokenPath=f,a[$s]=null,a}(b,l,"R3InjectorError",this.source)}throw b}finally{Xi(_),V(f)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,f)=>l.push(ae(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,u,h){if(!(l=te(l)))return!1;let f=Yr(l);const _=null==f&&l.ngModule||void 0,b=void 0===_?l:_,D=-1!==h.indexOf(b);if(void 0!==_&&(f=Yr(_)),null==f)return!1;if(null!=f.imports&&!D){let R;h.push(b);try{Cs(f.imports,B=>{this.processInjectorType(B,u,h)&&(void 0===R&&(R=[]),R.push(B))})}finally{}if(void 0!==R)for(let B=0;B<R.length;B++){const{ngModule:$,providers:X}=R[B];Cs(X,me=>this.processProvider(me,$,X||j))}}this.injectorDefTypes.add(b);const E=vs(b)||(()=>new b);this.records.set(b,ru(E,Xp));const I=f.providers;if(null!=I&&!D){const R=l;Cs(I,B=>this.processProvider(B,R,I))}return void 0!==_&&void 0!==l.providers}processProvider(l,u,h){let f=Jp(l=te(l))?l:te(l&&l.provide);const _=(a=l,su(a)?ru(void 0,a.useValue):ru(iu(a),Xp));var a;if(Jp(l)||!0!==l.multi)this.records.get(f);else{let b=this.records.get(f);b||(b=ru(void 0,Xp,!0),b.factory=()=>$e(b.multi),this.records.set(f,b)),f=l,b.multi.push(l)}this.records.set(f,_)}hydrate(l,u){return u.value===Xp&&(u.value=wF,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(a=u.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const u=te(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function y_(a){const l=Mr(a),u=null!==l?l.factory:vs(a);if(null!==u)return u;if(a instanceof bn)throw new Error(`Token ${ae(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const h=Na(l,"?");throw new Error(`Can't resolve all parameters for ${ae(a)}: (${h.join(", ")}).`)}const u=function(a){const l=a&&(a[_s]||a[yi]);if(l){const u=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Error("unreachable")}function iu(a,l,u){let h;if(Jp(a)){const f=te(a);return vs(f)||y_(f)}if(su(a))h=()=>te(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...$e(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))h=()=>W(te(a.useExisting));else{const f=te(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return vs(f)||y_(f);h=()=>new f(...$e(a.deps))}return h}function ru(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function su(a){return null!==a&&"object"==typeof a&&M in a}function Jp(a){return"function"==typeof a}let ra=(()=>{class a{static create(u,h){var f;if(Array.isArray(u))return gd({name:""},h,u,"");{const _=null!==(f=u.name)&&void 0!==f?f:"";return gd({name:_},u.parent,u.providers,_)}}}return a.THROW_IF_NOT_FOUND=Lc,a.NULL=new FD,a.\u0275prov=Dn({token:a,providedIn:"any",factory:()=>W(tc)}),a.__NG_ELEMENT_ID__=-1,a})();function RF(a,l){bo(Sp(a)[1],Fn())}function UD(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let f;if(gr(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");f=l.\u0275dir}if(f){if(u){h.push(f);const b=a;b.inputs=zD(a.inputs),b.declaredInputs=zD(a.declaredInputs),b.outputs=zD(a.outputs);const D=f.hostBindings;D&&tI(a,D);const E=f.viewQuery,I=f.contentQueries;if(E&&PF(a,E),I&&FF(a,I),Q(a.inputs,f.inputs),Q(a.declaredInputs,f.declaredInputs),Q(a.outputs,f.outputs),gr(f)&&f.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let b=0;b<_.length;b++){const D=_[b];D&&D.ngInherit&&D(a),D===UD&&(u=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=Ne(f.hostAttrs,u=Ne(u,f.hostAttrs))}}(h)}function zD(a){return a===q?{}:a===j?[]:a}function PF(a,l){const u=a.viewQuery;a.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function FF(a,l){const u=a.contentQueries;a.contentQueries=u?(h,f,_)=>{l(h,f,_),u(h,f,_)}:l}function tI(a,l){const u=a.hostBindings;a.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let Fb=null;function em(){if(!Fb){const a=xt.Symbol;if(a&&a.iterator)Fb=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Fb=h)}}}return Fb}function b_(a){return!!GD(a)&&(Array.isArray(a)||!(a instanceof Map)&&em()in a)}function GD(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function nc(a,l,u){return a[l]=u}function ls(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function $D(a,l,u,h){const f=xe();return ls(f,vo(),l)&&(Ut(),ar(Nn(),f,a,l,u,h)),$D}function nm(a,l,u,h){return ls(a,vo(),u)?l+K(u)+h:Lt}function hI(a,l,u,h,f,_,b,D){const E=xe(),I=Ut(),R=a+20,B=I.firstCreatePass?function(a,l,u,h,f,_,b,D,E){const I=l.consts,R=Gp(l,a,4,b||null,nr(I,D));$p(l,u,R,nr(I,E)),bo(l,R);const B=R.tViews=Xs(2,R,h,f,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,I);return null!==l.queries&&(l.queries.template(l,R),B.queries=l.queries.embeddedTView(R)),R}(R,I,E,l,u,h,f,_,b):I.data[R];Pi(B,!1);const $=E[11].createComment("");Fh(I,E,$,B),Ni($,E),xb(E,E[R]=Sb($,E,$,B)),Tu(B)&&DD(I,E,B),null!=b&&ED(E,B,D)}function fI(a){return Yo(rt.lFrame.contextLView,20+a)}function _d(a,l=bt.Default){const u=xe();return null===u?W(a,l):Oa(Fn(),u,te(a),l)}function eE(){throw new Error("invalid")}function Hb(a,l,u){const h=xe();return ls(h,vo(),l)&&or(Ut(),Nn(),h,a,l,h[11],u,!1),Hb}function jb(a,l,u,h,f){const b=f?"class":"style";Ib(a,u,l.inputs[b],b,h)}function Ub(a,l,u,h){const f=xe(),_=Ut(),b=20+a,D=f[11],E=f[b]=v(D,l,rt.lFrame.currentNamespace),I=_.firstCreatePass?function(a,l,u,h,f,_,b){const D=l.consts,I=Gp(l,a,2,f,nr(D,_));return $p(l,u,I,nr(D,b)),null!==I.attrs&&Ab(I,I.attrs,!1),null!==I.mergedAttrs&&Ab(I,I.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,I),I}(b,_,f,0,l,u,h):_.data[b];Pi(I,!0);const R=I.mergedAttrs;null!==R&&xn(D,E,R);const B=I.classes;null!==B&&Xc(D,E,B);const $=I.styles;null!==$&&cb(D,E,$),64!=(64&I.flags)&&Fh(_,f,E,I),0===rt.lFrame.elementDepthCount&&Ni(E,f),rt.lFrame.elementDepthCount++,Tu(I)&&(DD(_,f,I),kT(_,I,f)),null!==h&&ED(f,I)}function zb(){let a=Fn();Ec()?Zo():(a=a.parent,Pi(a,!1));const l=a;rt.lFrame.elementDepthCount--;const u=Ut();u.firstCreatePass&&(bo(u,a),mi(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&jb(u,l,xe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&jb(u,l,xe(),l.stylesWithoutHost,!1)}function tE(a,l,u,h){Ub(a,l,u,h),zb()}function Gb(a,l,u){const h=xe(),f=Ut(),_=a+20,b=f.firstCreatePass?function(a,l,u,h,f){const _=l.consts,b=nr(_,h),D=Gp(l,a,8,"ng-container",b);return null!==b&&Ab(D,b,!0),$p(l,u,D,nr(_,f)),null!==l.queries&&l.queries.elementStart(l,D),D}(_,f,h,l,u):f.data[_];Pi(b,!0);const D=h[_]=h[11].createComment("");Fh(f,h,D,b),Ni(D,h),Tu(b)&&(DD(f,h,b),kT(f,b,h)),null!=u&&ED(h,b)}function $b(){let a=Fn();const l=Ut();Ec()?Zo():(a=a.parent,Pi(a,!1)),l.firstCreatePass&&(bo(l,a),mi(a)&&l.queries.elementEnd(a))}function iE(a,l,u){Gb(a,l,u),$b()}function rE(){return xe()}function x_(a){return!!a&&"function"==typeof a.then}function DI(a){return!!a&&"function"==typeof a.subscribe}const EI=DI;function sE(a,l,u,h){const f=xe(),_=Ut(),b=Fn();return SI(_,f,f[11],b,a,l,!!u,h),sE}function oE(a,l){const u=Fn(),h=xe(),f=Ut();return SI(f,h,Tb(Ma(f.data),u,h),u,a,l,!1),oE}function SI(a,l,u,h,f,_,b,D){const E=Tu(h),R=a.firstCreatePass&&Qp(a),B=l[8],$=Kp(l);let X=!0;if(3&h.type||D){const je=ti(h,l),at=D?D(je):je,Ce=$.length,ft=D?Qt=>D(ei(Qt[h.index])):h.index;if(pn(u)){let Qt=null;if(!D&&E&&(Qt=function(a,l,u,h){const f=a.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const b=f[_];if(b===u&&f[_+1]===h){const D=l[7],E=f[_+2];return D.length>E?D[E]:null}"string"==typeof b&&(_+=2)}return null}(a,l,f,h.index)),null!==Qt)(Qt.__ngLastListenerFn__||Qt).__ngNextListenerFn__=_,Qt.__ngLastListenerFn__=_,X=!1;else{_=hm(h,l,B,_,!1);const St=u.listen(at,f,_);$.push(_,St),R&&R.push(f,ft,Ce,Ce+1)}}else _=hm(h,l,B,_,!0),at.addEventListener(f,_,b),$.push(_),R&&R.push(f,ft,Ce,b)}else _=hm(h,l,B,_,!1);const me=h.outputs;let Pe;if(X&&null!==me&&(Pe=me[f])){const je=Pe.length;if(je)for(let at=0;at<je;at+=2){const Os=l[Pe[at]][Pe[at+1]].subscribe(_),Pd=$.length;$.push(_,Os),R&&R.push(f,h.index,Pd,-(Pd+1))}}}function M_(a,l,u,h){try{return!1!==u(h)}catch(f){return BT(a,f),!1}}function hm(a,l,u,h,f){return function _(b){if(b===Function)return h;const D=2&a.flags?cn(a.index,l):l;0==(32&l[2])&&PD(D);let E=M_(l,0,h,b),I=_.__ngNextListenerFn__;for(;I;)E=M_(l,0,I,b)&&E,I=I.__ngNextListenerFn__;return f&&!1===E&&(b.preventDefault(),b.returnValue=!1),E}}function aE(a=1){return function(a){return(rt.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,rt.lFrame.contextLView))[8]}(a)}function xI(a,l){let u=null;const h=function(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const _=l[f];if("*"!==_){if(null===h?pT(a,_,!0):mT(h,_))return f}else u=f}return u}function qb(a){const l=xe()[16][6];if(!l.projection){const h=l.projection=Na(a?a.length:1,null),f=h.slice();let _=l.child;for(;null!==_;){const b=a?xI(_,a):0;null!==b&&(f[b]?f[b].projectionNext=_:h[b]=_,f[b]=_),_=_.next}}}function vd(a,l=0,u){const h=xe(),f=Ut(),_=Gp(f,20+a,16,null,u||null);null===_.projection&&(_.projection=l),Zo(),64!=(64&_.flags)&&function(a,l,u){Hp(l[11],0,l,u,jn(a,u,l),Oh(u.parent||l[6],u,l))}(f,h,_)}function Zb(a,l,u,h,f){const _=a[u+1],b=null===l;let D=h?Or(_):Ql(_),E=!1;for(;0!==D&&(!1===E||b);){const R=a[D+1];pm(a[D],l)&&(E=!0,a[D+1]=h?Xl(R):dd(R)),D=h?Or(R):Ql(R)}E&&(a[u+1]=h?dd(_):Xl(_))}function pm(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&La(a,l)>=0}const Bi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pE(a){return a.substring(Bi.key,Bi.keyEnd)}function Kt(a,l){const u=Bi.textEnd;return u===l?-1:(l=Bi.keyEnd=function(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Bi.key=l,u),It(a,l,u))}function It(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function gE(a,l,u){return eo(a,l,u,!1),gE}function T_(a,l){return eo(a,l,null,!0),T_}function aa(a,l){for(let u=function(a){return function(a){Bi.key=0,Bi.keyEnd=0,Bi.value=0,Bi.valueEnd=0,Bi.textEnd=a.length}(a),Kt(a,It(a,0,Bi.textEnd))}(l);u>=0;u=Kt(l,u))qi(a,pE(l),!0)}function eo(a,l,u,h){const f=xe(),_=Ut(),b=ys(2);_.firstUpdatePass&&I_(_,a,b,h),l!==Lt&&ls(f,b,l)&&t0(_,_.data[Sn()],f,f[11],a,f[b+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ae(Ys(a)))),a}(l,u),h,b)}function Xb(a,l){return l>=a.expandoStartIndex}function I_(a,l,u,h){const f=a.data;if(null===f[u+1]){const _=f[Sn()],b=Xb(a,u);R_(_,h)&&null===l&&!b&&(l=!1),l=function(a,l,u,h){const f=Ma(a);let _=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=Wh(u=mm(null,a,l,u,h),l.attrs,h),_=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==f)if(u=mm(f,a,l,u,h),null===_){let E=function(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Ql(h))return a[Or(h)]}(a,l,h);void 0!==E&&Array.isArray(E)&&(E=mm(null,a,l,E[1],h),E=Wh(E,l.attrs,h),function(a,l,u,h){a[Or(u?l.classBindings:l.styleBindings)]=h}(a,l,h,E))}else _=function(a,l,u){let h;const f=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<f;_++)h=Wh(h,a[_].hostAttrs,u);return Wh(h,l.attrs,u)}(a,l,h)}return void 0!==_&&(h?l.residualClasses=_:l.residualStyles=_),u}(f,_,l,h),function(a,l,u,h,f,_){let b=_?l.classBindings:l.styleBindings,D=Or(b),E=Ql(b);a[h]=u;let R,I=!1;if(Array.isArray(u)){const B=u;R=B[1],(null===R||La(B,R)>0)&&(I=!0)}else R=u;if(f)if(0!==E){const $=Or(a[D+1]);a[h+1]=Kl($,D),0!==$&&(a[$+1]=Qs(a[$+1],h)),a[D+1]=function(a,l){return 131071&a|l<<17}(a[D+1],h)}else a[h+1]=Kl(D,0),0!==D&&(a[D+1]=Qs(a[D+1],h)),D=h;else a[h+1]=Kl(E,0),0===D?D=h:a[E+1]=Qs(a[E+1],h),E=h;I&&(a[h+1]=dd(a[h+1])),Zb(a,R,h,!0),Zb(a,R,h,!1),function(a,l,u,h,f){const _=f?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&La(_,l)>=0&&(u[h+1]=Xl(u[h+1]))}(l,R,a,h,_),b=Kl(D,E),_?l.classBindings=b:l.styleBindings=b}(f,_,l,u,b,h)}}function mm(a,l,u,h,f){let _=null;const b=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<b&&(_=l[D],h=Wh(h,_.hostAttrs,f),_!==a);)D++;return null!==a&&(u.directiveStylingLast=D),h}function Wh(a,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let _=0;_<l.length;_++){const b=l[_];"number"==typeof b?f=b:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),qi(a,b,!!u||l[++_]))}return void 0===a?null:a}function t0(a,l,u,h,f,_,b,D){if(!(3&l.type))return;const E=a.data,I=E[D+1];k_(function(a){return 1==(1&a)}(I)?A_(E,l,u,f,Ql(I),b):void 0)||(k_(_)||function(a){return 2==(2&a)}(I)&&(_=A_(E,null,u,f,D,b)),function(a,l,u,h,f){const _=pn(a);if(l)f?_?a.addClass(u,h):u.classList.add(h):_?a.removeClass(u,h):u.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:xo.DashCase;if(null==f)_?a.removeStyle(u,h,b):u.style.removeProperty(h);else{const D="string"==typeof f&&f.endsWith("!important");D&&(f=f.slice(0,-10),b|=xo.Important),_?a.setStyle(u,h,f,b):u.style.setProperty(h,f,D?"important":"")}}}(h,b,es(Sn(),u),f,_))}function A_(a,l,u,h,f,_){const b=null===l;let D;for(;f>0;){const E=a[f],I=Array.isArray(E),R=I?E[1]:E,B=null===R;let $=u[f+1];$===Lt&&($=B?j:void 0);let X=B?Ds($,h):R===h?$:void 0;if(I&&!k_(X)&&(X=Ds(E,h)),k_(X)&&(D=X,b))return D;const me=a[f+1];f=b?Or(me):Ql(me)}if(null!==l){let E=_?l.residualClasses:l.residualStyles;null!=E&&(D=Ds(E,h))}return D}function k_(a){return void 0!==a}function R_(a,l){return 0!=(a.flags&(l?16:32))}function r0(a,l=""){const u=xe(),h=Ut(),f=a+20,_=h.firstCreatePass?Gp(h,f,1,l,null):h.data[f],b=u[f]=function(a,l){return pn(a)?a.createText(l):a.createTextNode(l)}(u[11],l);Fh(h,u,b,_),Pi(_,!1)}function O_(a){return Zh("",a,""),O_}function Zh(a,l,u){const h=xe(),f=nm(h,a,l,u);return f!==Lt&&ja(h,Sn(),f),Zh}function F_(a,l,u){!function(a,l,u,h){const f=Ut(),_=ys(2);f.firstUpdatePass&&I_(f,null,_,h);const b=xe();if(u!==Lt&&ls(b,_,u)){const D=f.data[Sn()];if(R_(D,h)&&!Xb(f,_)){let E=h?D.classesWithoutHost:D.stylesWithoutHost;null!==E&&(u=de(E,u||"")),jb(f,D,b,u,h)}else!function(a,l,u,h,f,_,b,D){f===Lt&&(f=j);let E=0,I=0,R=0<f.length?f[0]:null,B=0<_.length?_[0]:null;for(;null!==R||null!==B;){const $=E<f.length?f[E+1]:void 0,X=I<_.length?_[I+1]:void 0;let Pe,me=null;R===B?(E+=2,I+=2,$!==X&&(me=B,Pe=X)):null===B||null!==R&&R<B?(E+=2,me=R):(I+=2,me=B,Pe=X),null!==me&&t0(a,l,u,h,me,Pe,b,D),R=E<f.length?f[E]:null,B=I<_.length?_[I]:null}}(f,D,b,b[11],b[_+1],b[_+1]=function(a,l,u){if(null==u||""===u)return j;const h=[],f=Ys(u);if(Array.isArray(f))for(let _=0;_<f.length;_++)a(h,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&a(h,_,f[_]);else"string"==typeof f&&l(h,f);return h}(a,l,u),h,_)}}(qi,aa,nm(xe(),a,l,u),!0)}function d0(a,l,u){const h=xe();return ls(h,vo(),l)&&or(Ut(),Nn(),h,a,l,h[11],u,!0),d0}function h0(a,l,u){const h=xe();if(ls(h,vo(),l)){const _=Ut(),b=Nn();or(_,b,h,a,l,Tb(Ma(_.data),b,h),u,!0)}return h0}const Ga=void 0;var IE=["en",[["a","p"],["AM","PM"],Ga],[["AM","PM"],Ga,Ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ga,"{1} 'at' {0}",Ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Dd={};function wm(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=kE(l);if(u)return u;const h=l.split("-")[0];if(u=kE(h),u)return u;if("en"===h)return IE;throw new Error(`Missing locale data for the locale "${a}".`)}function AE(a){return wm(a)[Ct.PluralCase]}function kE(a){return a in Dd||(Dd[a]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[a]),Dd[a]}var Ct=(()=>((Ct=Ct||{})[Ct.LocaleId=0]="LocaleId",Ct[Ct.DayPeriodsFormat=1]="DayPeriodsFormat",Ct[Ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ct[Ct.DaysFormat=3]="DaysFormat",Ct[Ct.DaysStandalone=4]="DaysStandalone",Ct[Ct.MonthsFormat=5]="MonthsFormat",Ct[Ct.MonthsStandalone=6]="MonthsStandalone",Ct[Ct.Eras=7]="Eras",Ct[Ct.FirstDayOfWeek=8]="FirstDayOfWeek",Ct[Ct.WeekendRange=9]="WeekendRange",Ct[Ct.DateFormat=10]="DateFormat",Ct[Ct.TimeFormat=11]="TimeFormat",Ct[Ct.DateTimeFormat=12]="DateTimeFormat",Ct[Ct.NumberSymbols=13]="NumberSymbols",Ct[Ct.NumberFormats=14]="NumberFormats",Ct[Ct.CurrencyCode=15]="CurrencyCode",Ct[Ct.CurrencySymbol=16]="CurrencySymbol",Ct[Ct.CurrencyName=17]="CurrencyName",Ct[Ct.Currencies=18]="Currencies",Ct[Ct.Directionality=19]="Directionality",Ct[Ct.PluralCase=20]="PluralCase",Ct[Ct.ExtraData=21]="ExtraData",Ct))();const $a="en-US";let RE=$a;function J_(a,l,u,h,f){if(a=te(a),Array.isArray(a))for(let _=0;_<a.length;_++)J_(a[_],l,u,h,f);else{const _=Ut(),b=xe();let D=Jp(a)?a:te(a.provide),E=iu(a);const I=Fn(),R=1048575&I.providerIndexes,B=I.directiveStart,$=I.providerIndexes>>20;if(Jp(a)||!a.multi){const X=new Tl(E,f,_d),me=I0(D,l,f?R:R+$,B);-1===me?(_r(Xo(I,b),_,D),T0(_,a,l.length),l.push(D),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),u.push(X),b.push(X)):(u[me]=X,b[me]=X)}else{const X=I0(D,l,R+$,B),me=I0(D,l,R,R+$),Pe=X>=0&&u[X],je=me>=0&&u[me];if(f&&!je||!f&&!Pe){_r(Xo(I,b),_,D);const at=function(a,l,u,h,f){const _=new Tl(a,u,_d);return _.multi=[],_.index=l,_.componentProviders=0,KE(_,f,h&&!u),_}(f?cN:QE,u.length,f,h,E);!f&&je&&(u[me].providerFactory=at),T0(_,a,l.length,0),l.push(D),I.directiveStart++,I.directiveEnd++,f&&(I.providerIndexes+=1048576),u.push(at),b.push(at)}else T0(_,a,X>-1?X:me,KE(u[f?me:X],E,!f&&h));!f&&h&&je&&u[me].componentProviders++}}}function T0(a,l,u,h){const f=Jp(l),_=function(a){return!!a.useClass}(l);if(f||_){const E=(_?te(l.useClass):l).prototype.ngOnDestroy;if(E){const I=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const R=I.indexOf(u);-1===R?I.push(u,[h,E]):I[R+1].push(h,E)}else I.push(u,E)}}}function KE(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function I0(a,l,u,h){for(let f=u;f<h;f++)if(l[f]===a)return f;return-1}function QE(a,l,u,h){return ev(this.multi,[])}function cN(a,l,u,h){const f=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,D=is(u,u[1],this.providerFactory.index,h);_=D.slice(0,b),ev(f,_);for(let E=b;E<D.length;E++)_.push(D[E])}else _=[],ev(f,_);return _}function ev(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function XE(a,l=[]){return u=>{u.providersResolver=(h,f)=>function(a,l,u){const h=Ut();if(h.firstCreatePass){const f=gr(a);J_(u,h.data,h.blueprint,f,!0),J_(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class eS{}class tv{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${ae(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let tf=(()=>{class a{}return a.NULL=new tv,a})();function dA(){return Md(Fn(),xe())}function Md(a,l){return new xm(ti(a,l))}let xm=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=dA,a})();function hA(a){return a instanceof xm?a.nativeElement:a}class nS{}let fA=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function(){const a=xe(),u=cn(Fn().index,a);return function(a){return a[11]}(mr(u)?u:a)}(),a})(),Pr=(()=>{class a{}return a.\u0275prov=Dn({token:a,providedIn:"root",factory:()=>null}),a})();class A0{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const k0=new A0("13.1.1"),R0={};function nv(a,l,u,h,f=!1){for(;null!==u;){const _=l[u.index];if(null!==_&&h.push(ei(_)),Xr(_))for(let D=10;D<_.length;D++){const E=_[D],I=E[1].firstChild;null!==I&&nv(E[1],E,I,h)}const b=u.type;if(8&b)nv(a,l,u.child,h);else if(32&b){const D=Zc(u,l);let E;for(;E=D();)h.push(E)}else if(16&b){const D=ob(l,u);if(Array.isArray(D))h.push(...D);else{const E=Yl(l[16]);nv(E[1],E,D,h,!0)}}u=f?u.projectionNext:u.next}return h}class iv{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return nv(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Xr(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(Oe(l,h),Fa(u,h))}this._attachedToViewContainer=!1}ke(this._lView[1],this._lView)}onDestroy(l){MD(this._lView[1],this._lView,null,l)}markForCheck(){PD(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,u){Ko(!0);try{Mb(a,l,u)}finally{Ko(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,Vp(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class dN extends iv{constructor(l){super(l),this._view=l}detectChanges(){Zp(this._view)}checkNoChanges(){!function(a){Ko(!0);try{Zp(a)}finally{Ko(!1)}}(this._view)}get context(){return null}}class gA extends tf{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=En(l);return new Mm(u,this.ngModule)}}function iS(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}const vA=new bn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Rp});class Mm extends eS{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=l.selectors.map(gT).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return iS(this.componentDef.inputs)}get outputs(){return iS(this.componentDef.outputs)}create(l,u,h,f){const _=(f=f||this.ngModule)?function(a,l){return{get:(u,h,f)=>{const _=a.get(u,R0,f);return _!==R0||h===R0?_:l.get(u,h,f)}}}(l,f.injector):l,b=_.get(nS,Fu),D=_.get(Pr,null),E=b.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",R=h?function(a,l,u){if(pn(a))return a.selectRootElement(l,u===Xe.ShadowDom);let h="string"==typeof l?a.querySelector(l):l;return h.textContent="",h}(E,h,this.componentDef.encapsulation):v(b.createRenderer(null,this.componentDef),I,function(a){const l=a.toLowerCase();return"svg"===l?nh:"math"===l?"http://www.w3.org/1998/MathML/":null}(I)),B=this.componentDef.onPush?576:528,$=function(a,l){return{components:[],scheduler:a||Rp,clean:bF,playerHandler:l||null,flags:0}}(),X=Xs(0,null,null,1,0,null,null,null,null,null),me=d_(null,X,$,B,null,null,b,E,D,_);let Pe,je;Tc(me);try{const at=function(a,l,u,h,f,_){const b=u[1];u[20]=a;const E=Gp(b,20,2,"#host",null),I=E.mergedAttrs=l.hostAttrs;null!==I&&(Ab(E,I,!0),null!==a&&(xn(f,a,I),null!==E.classes&&Xc(f,a,E.classes),null!==E.styles&&cb(f,a,E.styles)));const R=h.createRenderer(a,l),B=d_(u,RT(l),null,l.onPush?64:16,u[20],E,h,R,_||null,null);return b.firstCreatePass&&(_r(Xo(E,u),b,l.type),kD(b,E),RD(E,u.length,1)),xb(u,B),u[20]=B}(R,this.componentDef,me,b,E);if(R)if(h)xn(E,R,["ng-version",k0.full]);else{const{attrs:Ce,classes:ft}=function(a){const l=[],u=[];let h=1,f=2;for(;h<a.length;){let _=a[h];if("string"==typeof _)2===f?""!==_&&l.push(_,a[++h]):8===f&&u.push(_);else{if(!Mn(f))break;f=_}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Ce&&xn(E,R,Ce),ft&&ft.length>0&&Xc(E,R,ft.join(" "))}if(je=qo(X,20),void 0!==u){const Ce=je.projection=[];for(let ft=0;ft<this.ngContentSelectors.length;ft++){const Qt=u[ft];Ce.push(null!=Qt?Array.from(Qt):null)}}Pe=function(a,l,u,h,f){const _=u[1],b=function(a,l,u){const h=Fn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Uh(a,h,l,Ha(a,l,1,null),u));const f=is(l,a,h.directiveStart,h);Ni(f,l);const _=ti(h,l);return _&&Ni(_,l),f}(_,u,l);if(h.components.push(b),a[8]=b,f&&f.forEach(E=>E(b,l)),l.contentQueries){const E=Fn();l.contentQueries(1,b,E.directiveStart)}const D=Fn();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(yo(D.index),bb(u[1],D,0,D.directiveStart,D.directiveEnd,l),m_(l,b)),b}(at,this.componentDef,me,$,[RF]),tu(X,me,null)}finally{xl()}return new bA(this.componentType,Pe,Md(je,me),me,je)}}class bA extends class{}{constructor(l,u,h,f,_){super(),this.location=h,this._rootLView=f,this._tNode=_,this.instance=u,this.hostView=this.changeDetectorRef=new dN(f),this.componentType=l}get injector(){return new kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class Ke{}class CA{}const Tm=new Map;class rS extends Ke{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gA(this);const h=ki(l);this._bootstrapComponents=Ms(h.bootstrap),this._r3Injector=LD(l,u,[{provide:Ke,useValue:this},{provide:tf,useValue:this.componentFactoryResolver}],ae(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=ra.THROW_IF_NOT_FOUND,h=bt.Default){return l===ra||l===Ke||l===tc?this:this._r3Injector.get(l,u,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class P0 extends CA{constructor(l){super(),this.moduleType=l,null!==ki(l)&&function(a){const l=new Set;!function u(h){const f=ki(h,!0),_=f.id;null!==_&&(function(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${ae(l)} vs ${ae(l.name)}`)}(_,Tm.get(_),h),Tm.set(_,h));const b=Ms(f.imports);for(const D of b)l.has(D)||(l.add(D),u(D))}(a)}(l)}create(l){return new rS(this.moduleType,l)}}function sS(a,l,u){const h=wi()+a,f=xe();return f[h]===Lt?nc(f,h,u?l.call(u):l()):function(a,l){return a[l]}(f,h)}function la(a,l,u,h){return L0(xe(),wi(),a,l,u,h)}function L0(a,l,u,h,f,_){const b=l+u;return ls(a,b,f)?nc(a,b+1,_?h.call(_,f):h(f)):function(a,l){const u=a[l];return u===Lt?void 0:u}(a,b+1)}function V0(a,l){const u=Ut();let h;const f=a+20;u.firstCreatePass?(h=function(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const _=h.factory||(h.factory=vs(h.type)),b=Xi(_d);try{const D=Qo(!1),E=_();return Qo(D),function(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,xe(),f,E),E}finally{Xi(b)}}function rv(a,l,u){const h=a+20,f=xe(),_=Yo(f,h);return function(a,l){return a[1].data[l].pure}(f,h)?L0(f,wi(),l,_.transform,u,_):_.transform(u)}function ko(a){return l=>{setTimeout(a,void 0,l)}}const Vi=class extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){var f,_,b;let D=l,E=u||(()=>null),I=h;if(l&&"object"==typeof l){const B=l;D=null===(f=B.next)||void 0===f?void 0:f.bind(B),E=null===(_=B.error)||void 0===_?void 0:_.bind(B),I=null===(b=B.complete)||void 0===b?void 0:b.bind(B)}this.__isAsync&&(E=ko(E),D&&(D=ko(D)),I&&(I=ko(I)));const R=super.subscribe({next:D,error:E,complete:I});return l instanceof ee.w0&&l.add(R),R}};function dS(){return this._results[em()]()}class rf{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=em(),h=rf.prototype;h[u]||(h[u]=dS)}get changes(){return this._changes||(this._changes=new Vi)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=vr(l);(this._changesDetected=!function(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],_=l[h];if(u&&(f=u(f),_=u(_)),_!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let sf=(()=>{class a{}return a.__NG_ELEMENT_ID__=gN,a})();const pN=sf,mN=class extends pN{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l){const u=this._declarationTContainer.tViews,h=d_(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(u)),tu(u,h,l),new iv(h)}};function gN(){return km(Fn(),xe())}function km(a,l){return 4&a.type?new mN(l,a,Md(a,l)):null}let H0=(()=>{class a{}return a.__NG_ELEMENT_ID__=kA,a})();function kA(){return U0(Fn(),xe())}const hS=H0,fS=class extends hS{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Md(this._hostTNode,this._hostLView)}get injector(){return new kn(this._hostTNode,this._hostLView)}get parentInjector(){const l=Oc(this._hostTNode,this._hostLView);if(Hn(l)){const u=Il(l,this._hostLView),h=ka(l);return new kn(u[1].data[h+8],u)}return new kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=j0(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){const f=l.createEmbeddedView(u||{});return this.insert(f,h),f}createComponent(l,u,h,f,_){const b=l&&!("function"==typeof l);let D;if(b)D=u;else{const B=u||{};D=B.index,h=B.injector,f=B.projectableNodes,_=B.ngModuleRef}const E=b?l:new Mm(En(l)),I=h||this.parentInjector;if(!_&&null==E.ngModule&&I){const B=I.get(Ke,null);B&&(_=B)}const R=E.create(I,f,void 0,_);return this.insert(R.hostView,D),R}insert(l,u){const h=l._lView,f=h[1];if(Xr(h[3])){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const B=h[3],$=new fS(B,B[6],B[3]);$.detach($.indexOf(l))}}const _=this._adjustIndex(u),b=this._lContainer;!function(a,l,u,h){const f=10+h,_=u.length;h>0&&(u[f-1][4]=l),h<_-10?(l[4]=u[f],zu(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const b=l[17];null!==b&&u!==b&&function(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(b,l);const D=l[19];null!==D&&D.insertView(a),l[2]|=128}(f,h,b,_);const D=ab(_,b),E=h[11],I=Kc(E,b[7]);return null!==I&&function(a,l,u,h,f,_){h[0]=f,h[6]=l,Vp(a,h,u,1,f,_)}(f,b[6],E,h,I,D),l.attachToViewContainerRef(),zu(Rm(b),_,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=j0(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=Oe(this._lContainer,u);h&&(Fa(Rm(this._lContainer),u),ke(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=Oe(this._lContainer,u);return h&&null!=Fa(Rm(this._lContainer),u)?new iv(h):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function j0(a){return a[8]}function Rm(a){return a[8]||(a[8]=[])}function U0(a,l){let u;const h=l[a.index];if(Xr(h))u=h;else{let f;if(8&a.type)f=ei(h);else{const _=l[11];f=_.createComment("");const b=ti(a,l);To(_,Kc(_,b),f,function(a,l){return pn(a)?a.nextSibling(l):l.nextSibling}(_,b),!1)}l[a.index]=u=Sb(h,l,f,a),xb(l,u)}return new fS(u,a,l)}class z0{constructor(l){this.queryList=l,this.matches=null}clone(){return new z0(this.queryList)}setDirty(){this.queryList.setDirty()}}class G0{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let _=0;_<h;_++){const b=u.getByIndex(_);f.push(this.queries[b.indexInDeclarationView].clone())}return new G0(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==vS(l,u).matches&&this.queries[u].setDirty()}}class pS{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class $0{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,_=this.getByIndex(h).embeddedTView(l,f);_&&(_.indexInDeclarationView=h,null!==u?u.push(_):u=[_])}return null!==u?new $0(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class ov{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new ov(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const _=h[f];this.matchTNodeWithReadOption(l,u,q0(u,_)),this.matchTNodeWithReadOption(l,u,$n(u,l,_,!1,!1))}else h===sf?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,$n(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===xm||f===H0||f===sf&&4&u.type)this.addMatch(u.index,-2);else{const _=$n(u,l,f,!1,!1);null!==_&&this.addMatch(u.index,_)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function q0(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function RA(a,l,u,h){return-1===u?function(a,l){return 11&a.type?Md(a,l):4&a.type?km(a,l):null}(l,a):-2===u?function(a,l,u){return u===xm?Md(l,a):u===sf?km(l,a):u===H0?U0(l,a):void 0}(a,l,h):is(a,a[1],u,l)}function av(a,l,u,h){const f=l[19].queries[h];if(null===f.matches){const _=a.data,b=u.matches,D=[];for(let E=0;E<b.length;E+=2){const I=b[E];D.push(I<0?null:RA(l,_[I],b[E+1],u.metadata.read))}f.matches=D}return f.matches}function Z0(a,l,u,h){const f=a.queries.getByIndex(u),_=f.matches;if(null!==_){const b=av(a,l,f,u);for(let D=0;D<_.length;D+=2){const E=_[D];if(E>0)h.push(b[D/2]);else{const I=_[D+1],R=l[-E];for(let B=10;B<R.length;B++){const $=R[B];$[17]===$[3]&&Z0($[1],$,I,h)}if(null!==R[9]){const B=R[9];for(let $=0;$<B.length;$++){const X=B[$];Z0(X[1],X,I,h)}}}}}return h}function lv(a){const l=xe(),u=Ut(),h=xc();Ta(h+1);const f=vS(u,h);if(a.dirty&&Us(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const _=f.crossesNgTemplate?Z0(u,l,h,[]):av(u,l,f,h);a.reset(_,hA),a.notifyOnChanges()}return!0}return!1}function K0(a,l,u){const h=Ut();h.firstCreatePass&&(X0(h,new pS(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),_S(h,xe(),l)}function mS(a,l,u,h){const f=Ut();if(f.firstCreatePass){const _=Fn();X0(f,new pS(l,u,h),_.index),function(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}_S(f,xe(),u)}function Q0(){return a=xe(),l=xc(),a[19].queries[l].queryList;var a,l}function _S(a,l,u){const h=new rf(4==(4&u));MD(a,l,h,h.destroy),null===l[19]&&(l[19]=new G0),l[19].queries.push(new z0(h))}function X0(a,l,u){null===a.queries&&(a.queries=new $0),a.queries.track(new ov(l,u))}function vS(a,l){return a.queries.getByIndex(l)}function hv(...a){}const uf=new bn("Application Initializer");let lu=(()=>{class a{constructor(u){this.appInits=u,this.resolve=hv,this.reject=hv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(x_(_))u.push(_);else if(EI(_)){const b=new Promise((D,E)=>{_.subscribe({complete:D,error:E})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(W(uf,8))},a.\u0275prov=Dn({token:a,factory:a.\u0275fac}),a})();const fv=new bn("AppId"),jA={provide:fv,useFactory:function(){return`${dw()}${dw()}${dw()}`},deps:[]};function dw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pv=new bn("Platform Initializer"),hw=new bn("Platform ID"),kS=new bn("appBootstrapListener");let Cr=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Dn({token:a,factory:a.\u0275fac}),a})();const cu=new bn("LocaleId"),RS=new bn("DefaultCurrencyCode");class gv{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let df=(()=>{class a{compileModuleSync(u){return new P0(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),_=Ms(ki(u).declarations).reduce((b,D)=>{const E=En(D);return E&&b.push(new Mm(E)),b},[]);return new gv(h,_)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Dn({token:a,factory:a.\u0275fac}),a})();const pw=(()=>Promise.resolve(0))();function Nm(a){"undefined"==typeof Zone?pw.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class ks{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vi(!1),this.onMicrotaskEmpty=new Vi(!1),this.onStable=new Vi(!1),this.onError=new Vi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let a=xt.requestAnimationFrame,l=xt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(xt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,vv(a),a.isCheckStableRunning=!0,_v(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),vv(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,_,b,D)=>{try{return NS(a),u.invokeTask(f,_,b,D)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),yv(a)}},onInvoke:(u,h,f,_,b,D,E)=>{try{return NS(a),u.invoke(f,_,b,D,E)}finally{a.shouldCoalesceRunChangeDetection&&l(),yv(a)}},onHasTask:(u,h,f,_)=>{u.hasTask(f,_),h===f&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,vv(a),_v(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,h,f,_)=>(u.handleError(f,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ks.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ks.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+f,l,UA,hv,hv);try{return _.runTask(b,u,h)}finally{_.cancelTask(b)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const UA={};function _v(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function vv(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function NS(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function yv(a){a._nesting--,_v(a)}class gw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vi,this.onMicrotaskEmpty=new Vi,this.onStable=new Vi,this.onError=new Vi}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}let bv=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ks.assertNotInAngularZone(),Nm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nm(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:_,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(W(ks))},a.\u0275prov=Dn({token:a,factory:a.\u0275fac}),a})(),Ki=(()=>{class a{constructor(){this._applications=new Map,Lm.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Lm.findTestabilityInTree(this,u,h)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Dn({token:a,factory:a.\u0275fac}),a})();class Dr{addToWindow(l){}findTestabilityInTree(l,u,h){return null}}function wv(a){Lm=a}let da,Lm=new Dr;const BS=new bn("AllowMultipleToken");class _w{constructor(l,u){this.name=l,this.token=u}}function VS(a,l,u=[]){const h=`Platform: ${l}`,f=new bn(h);return(_=[])=>{let b=HS();if(!b||b.injector.get(BS,!1))if(a)a(u.concat(_).concat({provide:f,useValue:!0}));else{const D=u.concat(_).concat({provide:f,useValue:!0},{provide:Ob,useValue:"platform"});!function(a){if(da&&!da.destroyed&&!da.injector.get(BS,!1))throw new He("400","");da=a.get(Bm);const l=a.get(pv,null);l&&l.forEach(u=>u())}(ra.create({providers:D,name:h}))}return function(a){const l=HS();if(!l)throw new He("401","");return l}()}}function HS(){return da&&!da.destroyed?da:null}let Bm=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const D=function(a,l){let u;return u="noop"===a?new gw:("zone.js"===a?void 0:a)||new ks({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),E=[{provide:ks,useValue:D}];return D.run(()=>{const I=ra.create({providers:E,parent:this.injector,name:u.moduleType.name}),R=u.create(I),B=R.injector.get(ld,null);if(!B)throw new He("402","");return D.runOutsideAngular(()=>{const $=D.onError.subscribe({next:X=>{B.handleError(X)}});R.onDestroy(()=>{Td(this._modules,R),$.unsubscribe()})}),function(a,l,u){try{const h=u();return x_(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(B,D,()=>{const $=R.injector.get(lu);return $.runInitializers(),$.donePromise.then(()=>(function(a){Et(a,"Expected localeId to be defined"),"string"==typeof a&&(RE=a.toLowerCase().replace(/_/g,"-"))}(R.injector.get(cu,$a)||$a),this._moduleDoBootstrap(R),R))})})}bootstrapModule(u,h=[]){const f=Cw({},h);return function(a,l,u){const h=new P0(u);return Promise.resolve(h)}(0,0,u).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(u){const h=u.injector.get(Vm);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new He("403","");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He("404","");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(W(ra))},a.\u0275prov=Dn({token:a,factory:a.\u0275fac}),a})();function Cw(a,l){return Array.isArray(l)?l.reduce(Cw,a):Object.assign(Object.assign({},a),l)}let Vm=(()=>{class a{constructor(u,h,f,_,b){this._zone=u,this._injector=h,this._exceptionHandler=f,this._componentFactoryResolver=_,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new L.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new L.y(I=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{ks.assertNotInAngularZone(),Nm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{ks.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{R.unsubscribe(),B.unsubscribe()}});this.isStable=(0,ue.T)(D,E.pipe((0,oe.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new He("405","");let f;f=u instanceof eS?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(f.componentType);const _=function(a){return a.isBoundToModule}(f)?void 0:this._injector.get(Ke),D=f.create(ra.NULL,[],h||f.selector,_),E=D.location.nativeElement,I=D.injector.get(bv,null),R=I&&D.injector.get(Ki);return I&&R&&R.registerApplication(E,I),D.onDestroy(()=>{this.detachView(D.hostView),Td(this.components,D),R&&R.unregisterApplication(E)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new He("101","");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Td(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(kS,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(W(ks),W(ra),W(ld),W(tf),W(lu))},a.\u0275prov=Dn({token:a,factory:a.\u0275fac}),a})();function Td(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let Ew=!0,Hm=!1;function qA(){return Hm=!0,Ew}function YA(){if(Hm)throw new Error("Cannot enable prod mode after platform setup.");Ew=!1}let Id=(()=>{class a{}return a.__NG_ELEMENT_ID__=zS,a})();function zS(a){return function(a,l,u){if(Hs(a)&&!u){const h=cn(a.index,l);return new iv(h,h)}return 47&a.type?new iv(l[16],l):null}(Fn(),xe(),16==(16&a))}class pf{constructor(){}supports(l){return b_(l)}create(l){return new Ev(l)}}const WS=(a,l)=>l;class Ev{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||WS}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,_=null;for(;u||h;){const b=!h||u&&u.currentIndex<ZS(h,f,_)?u:h,D=ZS(b,f,_),E=b.currentIndex;if(b===h)f--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)f++;else{_||(_=[]);const I=D-f,R=E-f;if(I!=R){for(let $=0;$<I;$++){const X=$<_.length?_[$]:_[$]=0,me=X+$;R<=me&&me<I&&(_[$]=X+1)}_[b.previousIndex]=R-I}}D!==E&&l(b,D,E)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!b_(l))throw new Error(`Error trying to diff '${ae(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,_,b,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let D=0;D<this.length;D++)_=l[D],b=this._trackByFn(D,_),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,_,b,D)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,b,D),h=!0),u=u._next}else f=0,function(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[em()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,D=>{b=this._trackByFn(f,D),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,D,b,f)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,b,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,_,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,_,f)):l=this._addAfter(new $m(u,h),_,f),l}_verifyReinsertion(l,u,h,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?l=this._reinsertAfter(_,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,_=l._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Sv),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sv),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class $m{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rd{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Sv{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new Rd,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZS(a,l,u){const h=a.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class xv{constructor(){}supports(l){return l instanceof Map||GD(l)}create(){return new mf}}class mf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||GD(l)))throw new Error(`Error trying to diff '${ae(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const _=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,_)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const _=f._prev,b=f._next;return _&&(_._next=b),b&&(b._prev=_),f._next=null,f._prev=null,f}const h=new Aw(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class Aw{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function du(){return new qm([new pf])}let qm=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||du()),deps:[[a,new yr,new Fi]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(a){return a.name||typeof a}(u)}'`)}}return a.\u0275prov=Dn({token:a,providedIn:"root",factory:du}),a})();function hu(){return new Ro([new xv])}let Ro=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||hu()),deps:[[a,new yr,new Fi]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return a.\u0275prov=Dn({token:a,providedIn:"root",factory:hu}),a})();const Mv=[new xv],Iv=new qm([new pf]),KS=new Ro(Mv),Av=VS(null,"core",[{provide:hw,useValue:"unknown"},{provide:Bm,deps:[ra]},{provide:Ki,deps:[]},{provide:Cr,deps:[]}]),ik=[{provide:Vm,useClass:Vm,deps:[ks,ra,ld,tf,lu]},{provide:vA,deps:[ks],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(u){l.push(u)}}},{provide:lu,useClass:lu,deps:[[new Fi,uf]]},{provide:df,useClass:df,deps:[]},jA,{provide:qm,useFactory:function(){return Iv},deps:[]},{provide:Ro,useFactory:function(){return KS},deps:[]},{provide:cu,useFactory:function(a){return a||"undefined"!=typeof $localize&&$localize.locale||$a},deps:[[new Bn(cu),new Fi,new yr]]},{provide:RS,useValue:"USD"}];let rk=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(W(Vm))},a.\u0275mod=ol({type:a}),a.\u0275inj=Yn({providers:ik}),a})()},3942:(dt,De,N)=>{"use strict";N.d(De,{Z:()=>He});var o=N(2090),ee=N(4859),L=N(9681),ue=N(1877);class oe{constructor(le,K){this._delegate=le,this.firebase=K,(0,L._addComponent)(le,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(le,K=L._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(le);return!Ee.isInitialized()&&"EXPLICIT"===(null===(ce=Ee.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:K})}_removeServiceInstance(le,K=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(K)}_addComponent(le){(0,L._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,L._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Q=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function de(){const Be=function(Be){const le={},K={__esModule:!0,initializeApp:function(Qe,_t={}){const ie=L.initializeApp(Qe,_t);if((0,o.r3)(le,ie.name))return le[ie.name];const he=new Be(ie,K);return le[ie.name]=he,he},app:Ee,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(Qe){const _t=Qe.name,ie=_t.replace("-compat","");if(L._registerComponent(Qe)&&"PUBLIC"===Qe.type){const he=(ye=Ee())=>{if("function"!=typeof ye[ie])throw Q.create("invalid-app-argument",{appName:_t});return ye[ie]()};void 0!==Qe.serviceProps&&(0,o.ZB)(he,Qe.serviceProps),K[ie]=he,Be.prototype[ie]=function(...ye){return this._getService.bind(this,_t).apply(this,Qe.multipleInstances?ye:[])}}return"PUBLIC"===Qe.type?K[ie]:null},removeApp:function(Qe){delete le[Qe]},useAsService:function(Qe,_t){return"serverAuth"===_t?null:_t},modularAPIs:L}};function Ee(Qe){if(!(0,o.r3)(le,Qe=Qe||L._DEFAULT_ENTRY_NAME))throw Q.create("no-app",{appName:Qe});return le[Qe]}return K.default=K,Object.defineProperty(K,"apps",{get:function(){return Object.keys(le).map(Qe=>le[Qe])}}),Ee.App=Be,K}(oe);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function(K){(0,o.ZB)(Be,K)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Be}(),z=new ue.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=G;(0,L.registerVersion)("@firebase/app-compat","0.1.12",undefined)},9681:(dt,De,N)=>{"use strict";N.r(De),N.d(De,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>ba,_DEFAULT_ENTRY_NAME:()=>oi,_addComponent:()=>Cn,_addOrOverwriteComponent:()=>zi,_apps:()=>Et,_clearComponents:()=>Yn,_components:()=>Nt,_getProvider:()=>Dn,_registerComponent:()=>Qi,_removeServiceInstance:()=>ya,deleteApp:()=>yi,getApp:()=>_s,getApps:()=>Te,initializeApp:()=>Yr,onLog:()=>en,registerVersion:()=>bt,setLogLevel:()=>Wr});var o=N(5861),ee=N(4859),L=N(1877),ue=N(2090);class oe{constructor(wt){this.container=wt}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function(pt){const wt=pt.getComponent();return"VERSION"===(null==wt?void 0:wt.type)}(Vt)){const jt=Vt.getImmediate();return`${jt.library}/${jt.version}`}return null}).filter(Vt=>Vt).join(" ")}}const Q="@firebase/app",de=new L.Yd("@firebase/app"),oi="[DEFAULT]",Ot={[Q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,Nt=new Map;function Cn(pt,wt){try{pt.container.addComponent(wt)}catch(Vt){de.debug(`Component ${wt.name} failed to register with FirebaseApp ${pt.name}`,Vt)}}function zi(pt,wt){pt.container.addOrOverwriteComponent(wt)}function Qi(pt){const wt=pt.name;if(Nt.has(wt))return de.debug(`There were multiple attempts to register component ${wt}.`),!1;Nt.set(wt,pt);for(const Vt of Et.values())Cn(Vt,pt);return!0}function Dn(pt,wt){return pt.container.getProvider(wt)}function ya(pt,wt,Vt=oi){Dn(pt,wt).clearInstance(Vt)}function Yn(){Nt.clear()}const Wt=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class zn{constructor(wt,Vt,jt){this._isDeleted=!1,this._options=Object.assign({},wt),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=jt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(wt){this.checkDestroyed(),this._automaticDataCollectionEnabled=wt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(wt){this._isDeleted=wt}checkDestroyed(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}const ba="9.6.1";function Yr(pt,wt={}){"object"!=typeof wt&&(wt={name:wt});const Vt=Object.assign({name:oi,automaticDataCollectionEnabled:!1},wt),jt=Vt.name;if("string"!=typeof jt||!jt)throw Wt.create("bad-app-name",{appName:String(jt)});const Ji=Et.get(jt);if(Ji){if((0,ue.vZ)(pt,Ji.options)&&(0,ue.vZ)(Vt,Ji.config))return Ji;throw Wt.create("duplicate-app",{appName:jt})}const rn=new ee.H0(jt);for(const mt of Nt.values())rn.addComponent(mt);const Xe=new zn(pt,Vt,rn);return Et.set(jt,Xe),Xe}function _s(pt=oi){const wt=Et.get(pt);if(!wt)throw Wt.create("no-app",{appName:pt});return wt}function Te(){return Array.from(Et.values())}function yi(pt){return ai.apply(this,arguments)}function ai(){return(ai=(0,o.Z)(function*(pt){const wt=pt.name;Et.has(wt)&&(Et.delete(wt),yield Promise.all(pt.container.getProviders().map(Vt=>Vt.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function bt(pt,wt,Vt){var jt;let Ji=null!==(jt=Ot[pt])&&void 0!==jt?jt:pt;Vt&&(Ji+=`-${Vt}`);const rn=Ji.match(/\s|\//),Xe=wt.match(/\s|\//);if(rn||Xe){const mt=[`Unable to register library "${Ji}" with version "${wt}":`];return rn&&mt.push(`library name "${Ji}" contains illegal characters (whitespace or "/")`),rn&&Xe&&mt.push("and"),Xe&&mt.push(`version name "${wt}" contains illegal characters (whitespace or "/")`),void de.warn(mt.join(" "))}Qi(new ee.wA(`${Ji}-version`,()=>({library:Ji,version:wt}),"VERSION"))}function en(pt,wt){if(null!==pt&&"function"!=typeof pt)throw Wt.create("invalid-log-argument");(0,L.Am)(pt,wt)}function Wr(pt){(0,L.Ub)(pt)}Qi(new ee.wA("platform-logger",wt=>new oe(wt),"PRIVATE")),bt(Q,"0.7.11",""),bt(Q,"0.7.11","esm2017"),bt("fire-js","")},4859:(dt,De,N)=>{"use strict";N.d(De,{wA:()=>L,H0:()=>ae,zt:()=>oe});var o=N(5861),ee=N(2090);class L{constructor(G,z,te){this.name=G,this.instanceFactory=z,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ue="[DEFAULT]";class oe{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const te=new ee.BH;if(this.instancesDeferred.set(z,te),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:z});Ve&&te.resolve(Ve)}catch(Ve){}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const te=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Ve=null!==(z=null==G?void 0:G.optional)&&void 0!==z&&z;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Se){if(Ve)return null;throw Se}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if("EAGER"===G.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch(z){}for(const[z,te]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(z);try{const Se=this.getOrInitializeService({instanceIdentifier:Ve});te.resolve(Se)}catch(Se){}}}}clearInstance(G=ue){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,o.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...z.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ue){return this.instances.has(G)}getOptions(G=ue){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,te=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:te,options:z});for(const[Se,He]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Se)&&He.resolve(Ve);return Ve}onInit(G,z){var te;const Ve=this.normalizeInstanceIdentifier(z),Se=null!==(te=this.onInitCallbacks.get(Ve))&&void 0!==te?te:new Set;Se.add(G),this.onInitCallbacks.set(Ve,Se);const He=this.instances.get(Ve);return He&&G(He,Ve),()=>{Se.delete(G)}}invokeOnInitCallbacks(G,z){const te=this.onInitCallbacks.get(z);if(te)for(const Ve of te)try{Ve(G,z)}catch(Se){}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let te=this.instances.get(G);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(de=G,de===ue?void 0:de),options:z}),this.instances.set(G,te),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(te,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,te)}catch(Ve){}var de;return te||null}normalizeInstanceIdentifier(G=ue){return this.component?this.component.multipleInstances?G:ue:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new oe(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,De,N)=>{"use strict";N.d(De,{in:()=>ee,Yd:()=>Q,Ub:()=>ae,Am:()=>de});const o=[];var ee=(()=>{return(G=ee||(ee={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",ee;var G})();const L={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ue=ee.INFO,oe={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ge=(G,z,...te)=>{if(z<G.logLevel)return;const Ve=(new Date).toISOString(),Se=oe[z];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Se](`[${Ve}]  ${G.name}:`,...te)};class Q{constructor(z){this.name=z,this._logLevel=ue,this._logHandler=ge,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in ee))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?L[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...z),this._logHandler(this,ee.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...z),this._logHandler(this,ee.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...z),this._logHandler(this,ee.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...z),this._logHandler(this,ee.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...z),this._logHandler(this,ee.ERROR,...z)}}function ae(G){o.forEach(z=>{z.setLogLevel(G)})}function de(G,z){for(const te of o){let Ve=null;z&&z.level&&(Ve=L[z.level]),te.userLogHandler=null===G?null:(Se,He,...Be)=>{const le=Be.map(K=>{if(null==K)return null;if("string"==typeof K)return K;if("number"==typeof K||"boolean"==typeof K)return K.toString();if(K instanceof Error)return K.message;try{return JSON.stringify(K)}catch(ce){return null}}).filter(K=>K).join(" ");He>=(null!=Ve?Ve:Se.logLevel)&&G({level:ee[He].toLowerCase(),message:le,args:Be,type:Se.name})}}}},5861:(dt,De,N)=>{"use strict";function o(L,ue,oe,ge,Q,ae,de){try{var G=L[ae](de),z=G.value}catch(te){return void oe(te)}G.done?ue(z):Promise.resolve(z).then(ge,Q)}function ee(L){return function(){var ue=this,oe=arguments;return new Promise(function(ge,Q){var ae=L.apply(ue,oe);function de(z){o(ae,ge,Q,de,G,"next",z)}function G(z){o(ae,ge,Q,de,G,"throw",z)}de(void 0)})}}N.d(De,{Z:()=>ee})}},dt=>{dt(dt.s=2879)}]);